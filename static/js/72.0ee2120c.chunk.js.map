{"version":3,"file":"static/js/72.0ee2120c.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/regenerator/index.js","../node_modules/@nextui-org/react/node_modules/@react-aria/ssr/dist/packages/@react-aria/ssr/src/SSRProvider.tsx","../node_modules/clsx/dist/clsx.m.js","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/node_modules/@react-stately/utils/dist/packages/@react-stately/utils/src/useControlledState.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/node_modules/@react-stately/utils/dist/packages/@react-stately/utils/src/number.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLayoutEffect.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useId.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/chain.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/mergeProps.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/mergeRefs.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/filterDOMProps.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/focusWithoutScrolling.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/getOffset.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/runAfterTransition.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDrag1D.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useGlobalListeners.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLabels.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useObjectRef.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useUpdateEffect.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useResizeObserver.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useSyncRef.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/getScrollParent.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useViewportSize.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDescription.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/platform.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useEvent.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useValueEffect.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/scrollIntoView.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/textSelection.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/utils.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/context.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/usePress.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/Pressable.tsx","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/PressResponder.tsx","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocus.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusVisible.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusWithin.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useHover.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useInteractOutside.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/createEventHandler.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useKeyboard.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useMove.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useScrollWheel.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useLongPress.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/dist/packages/@react-aria/focus/src/focusSafely.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/dist/packages/@react-aria/focus/src/isElementVisible.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/dist/packages/@react-aria/focus/src/FocusScope.tsx","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/dist/packages/@react-aria/focus/src/useFocusRing.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/dist/packages/@react-aria/focus/src/FocusRing.tsx","../node_modules/@nextui-org/react/node_modules/@react-aria/focus/dist/packages/@react-aria/focus/src/useFocusable.tsx","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/node_modules/@react-stately/utils/dist/packages/@react-stately/utils/src/useControlledState.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/node_modules/@react-stately/utils/dist/packages/@react-stately/utils/src/number.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLayoutEffect.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useId.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/chain.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/mergeProps.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/mergeRefs.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/filterDOMProps.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/focusWithoutScrolling.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/getOffset.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/runAfterTransition.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDrag1D.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useGlobalListeners.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLabels.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useObjectRef.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useUpdateEffect.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useResizeObserver.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useSyncRef.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/getScrollParent.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useViewportSize.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDescription.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/platform.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useEvent.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useValueEffect.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/scrollIntoView.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/textSelection.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/utils.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/context.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/usePress.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/Pressable.tsx","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/PressResponder.tsx","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocus.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusVisible.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusWithin.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useHover.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useInteractOutside.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/createEventHandler.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useKeyboard.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useMove.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useScrollWheel.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useLongPress.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/dist/packages/@react-aria/button/src/useButton.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/button/dist/packages/@react-aria/button/src/useToggleButton.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/node_modules/@react-stately/utils/dist/packages/@react-stately/utils/src/useControlledState.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/node_modules/@react-stately/utils/dist/packages/@react-stately/utils/src/number.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLayoutEffect.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useId.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/chain.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/mergeProps.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/filterDOMProps.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/focusWithoutScrolling.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/getOffset.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/runAfterTransition.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDrag1D.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useGlobalListeners.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLabels.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useObjectRef.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useUpdateEffect.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useResizeObserver.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useSyncRef.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/getScrollParent.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useViewportSize.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDescription.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/platform.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useEvent.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useValueEffect.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/scrollIntoView.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/textSelection.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/utils.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/context.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/usePress.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/Pressable.tsx","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/PressResponder.tsx","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocus.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusVisible.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusWithin.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useHover.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useInteractOutside.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/createEventHandler.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useKeyboard.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useMove.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useScrollWheel.ts","../node_modules/@nextui-org/react/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useLongPress.ts","../node_modules/@nextui-org/react/esm/use-warning/use-warning.js","../node_modules/@nextui-org/react/esm/use-warning/index.js","../node_modules/@nextui-org/react/esm/button/button-group-context.js","../node_modules/@nextui-org/react/esm/button/button-icon.js","../node_modules/@nextui-org/react/esm/button/button.styles.js","../node_modules/@nextui-org/react/esm/button/button.js","../node_modules/@nextui-org/react/esm/button/utils.js","../node_modules/@nextui-org/react/esm/button/button-group.styles.js","../node_modules/@nextui-org/react/esm/button/button-group.js","../node_modules/@nextui-org/react/esm/button/index.js","../node_modules/@nextui-org/react/esm/use-drip/index.js","../node_modules/@nextui-org/react/esm/use-drip/use-drip.js","../node_modules/@nextui-org/react/esm/utils/assertion.js","../node_modules/@nextui-org/react/esm/utils/dom.js","../node_modules/@nextui-org/react/esm/utils/drip.js","../node_modules/regenerator-runtime/runtime.js"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We must avoid a circular dependency with @react-aria/utils, and this useLayoutEffect is\n// guarded by a check that it only runs on the client side.\n// eslint-disable-next-line rulesdir/useLayoutEffectRule\nimport React, {ReactNode, useContext, useLayoutEffect, useMemo, useState} from 'react';\n\n// To support SSR, the auto incrementing id counter is stored in a context. This allows\n// it to be reset on every request to ensure the client and server are consistent.\n// There is also a prefix string that is used to support async loading components\n// Each async boundary must be wrapped in an SSR provider, which appends to the prefix\n// and resets the current id counter. This ensures that async loaded components have\n// consistent ids regardless of the loading order.\ninterface SSRContextValue {\n  prefix: string,\n  current: number\n}\n\n// Default context value to use in case there is no SSRProvider. This is fine for\n// client-only apps. In order to support multiple copies of React Aria potentially\n// being on the page at once, the prefix is set to a random number. SSRProvider\n// will reset this to zero for consistency between server and client, so in the\n// SSR case multiple copies of React Aria is not supported.\nconst defaultContext: SSRContextValue = {\n  prefix: String(Math.round(Math.random() * 10000000000)),\n  current: 0\n};\n\nconst SSRContext = React.createContext<SSRContextValue>(defaultContext);\n\ninterface SSRProviderProps {\n  /** Your application here. */\n  children: ReactNode\n}\n\n/**\n * When using SSR with React Aria, applications must be wrapped in an SSRProvider.\n * This ensures that auto generated ids are consistent between the client and server.\n */\nexport function SSRProvider(props: SSRProviderProps): JSX.Element {\n  let cur = useContext(SSRContext);\n  let value: SSRContextValue = useMemo(() => ({\n    // If this is the first SSRProvider, start with an empty string prefix, otherwise\n    // append and increment the counter.\n    prefix: cur === defaultContext ? '' : `${cur.prefix}-${++cur.current}`,\n    current: 0\n  }), [cur]);\n\n  return (\n    <SSRContext.Provider value={value}>\n      {props.children}\n    </SSRContext.Provider>\n  );\n}\n\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\n/** @private */\nexport function useSSRSafeId(defaultId?: string): string {\n  let ctx = useContext(SSRContext);\n\n  // If we are rendering in a non-DOM environment, and there's no SSRProvider,\n  // provide a warning to hint to the developer to add one.\n  if (ctx === defaultContext && !canUseDOM) {\n    console.warn('When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.');\n  }\n\n  return useMemo(() => defaultId || `react-aria${ctx.prefix}-${++ctx.current}`, [defaultId]);\n}\n\n/**\n * Returns whether the component is currently being server side rendered or\n * hydrated on the client. Can be used to delay browser-specific rendering\n * until after hydration.\n */\nexport function useIsSSR(): boolean {\n  let cur = useContext(SSRContext);\n  let isInSSRContext = cur !== defaultContext;\n  let [isSSR, setIsSSR] = useState(isInSSRContext);\n\n  // If on the client, and the component was initially server rendered,\n  // then schedule a layout effect to update the component after hydration.\n  if (typeof window !== 'undefined' && isInSSRContext) {\n    // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(() => {\n      setIsSSR(false);\n    }, []);\n  }\n\n  return isSSR;\n}\n","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useRef, useState} from 'react';\n\nexport function useControlledState<T>(\n  value: T,\n  defaultValue: T,\n  onChange: (value: T, ...args: any[]) => void\n): [T, (value: T, ...args: any[]) => void]  {\n  let [stateValue, setStateValue] = useState(value || defaultValue);\n  let ref = useRef(value !== undefined);\n  let wasControlled = ref.current;\n  let isControlled = value !== undefined;\n  // Internal state reference for useCallback\n  let stateRef = useRef(stateValue);\n  if (wasControlled !== isControlled) {\n    console.warn(`WARN: A component changed from ${wasControlled ? 'controlled' : 'uncontrolled'} to ${isControlled ? 'controlled' : 'uncontrolled'}.`);\n  }\n\n  ref.current = isControlled;\n\n  let setValue = useCallback((value, ...args) => {\n    let onChangeCaller = (value, ...onChangeArgs) => {\n      if (onChange) {\n        if (!Object.is(stateRef.current, value)) {\n          onChange(value, ...onChangeArgs);\n        }\n      }\n      if (!isControlled) {\n        stateRef.current = value;\n      }\n    };\n\n    if (typeof value === 'function') {\n      console.warn('We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320');\n      // this supports functional updates https://reactjs.org/docs/hooks-reference.html#functional-updates\n      // when someone using useControlledState calls setControlledState(myFunc)\n      // this will call our useState setState with a function as well which invokes myFunc and calls onChange with the value from myFunc\n      // if we're in an uncontrolled state, then we also return the value of myFunc which to setState looks as though it was just called with myFunc from the beginning\n      // otherwise we just return the controlled value, which won't cause a rerender because React knows to bail out when the value is the same\n      let updateFunction = (oldValue, ...functionArgs) => {\n        let interceptedValue = value(isControlled ? stateRef.current : oldValue, ...functionArgs);\n        onChangeCaller(interceptedValue, ...args);\n        if (!isControlled) {\n          return interceptedValue;\n        }\n        return oldValue;\n      };\n      setStateValue(updateFunction);\n    } else {\n      if (!isControlled) {\n        setStateValue(value);\n      }\n      onChangeCaller(value, ...args);\n    }\n  }, [isControlled, onChange]);\n\n  // If a controlled component's value prop changes, we need to update stateRef\n  if (isControlled) {\n    stateRef.current = value;\n  } else {\n    value = stateValue;\n  }\n\n  return [value, setValue];\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Takes a value and forces it to the closest min/max if it's outside. Also forces it to the closest valid step.\n */\nexport function clamp(value: number, min: number = -Infinity, max: number = Infinity): number {\n  let newValue = Math.min(Math.max(value, min), max);\n  return newValue;\n}\n\nexport function snapValueToStep(value: number, min: number, max: number, step: number): number {\n  let remainder = ((value - (isNaN(min) ? 0 : min)) % step);\n  let snappedValue = Math.abs(remainder) * 2 >= step\n    ? value + Math.sign(remainder) * (step - Math.abs(remainder))\n    : value - remainder;\n\n  if (!isNaN(min)) {\n    if (snappedValue < min) {\n      snappedValue = min;\n    } else if (!isNaN(max) && snappedValue > max) {\n      snappedValue = min + Math.floor((max - min) / step) * step;\n    }\n  } else if (!isNaN(max) && snappedValue > max) {\n    snappedValue = Math.floor(max / step) * step;\n  }\n\n  // correct floating point behavior by rounding to step precision\n  let string = step.toString();\n  let index = string.indexOf('.');\n  let precision = index >= 0 ? string.length - index : 0;\n\n  if (precision > 0) {\n    let pow = Math.pow(10, precision);\n    snappedValue = Math.round(snappedValue * pow) / pow;\n  }\n\n  return snappedValue;\n}\n\n/* Takes a value and rounds off to the number of digits. */\nexport function toFixedNumber(value: number, digits: number, base: number = 10): number {\n  const pow = Math.pow(base, digits);\n\n  return Math.round(value * pow) / pow;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React from 'react';\n\n// During SSR, React emits a warning when calling useLayoutEffect.\n// Since neither useLayoutEffect nor useEffect run on the server,\n// we can suppress this by replace it with a noop on the server.\nexport const useLayoutEffect = typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : () => {};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useSSRSafeId} from '@react-aria/ssr';\nimport {useValueEffect} from './';\n\nlet idsUpdaterMap: Map<string, (v: string) => void> = new Map();\n\n/**\n * If a default is not provided, generate an id.\n * @param defaultId - Default component id.\n */\nexport function useId(defaultId?: string): string {\n  let isRendering = useRef(true);\n  isRendering.current = true;\n  let [value, setValue] = useState(defaultId);\n  let nextId = useRef(null);\n\n  let res = useSSRSafeId(value);\n\n  // don't memo this, we want it new each render so that the Effects always run\n  let updateValue = (val) => {\n    if (!isRendering.current) {\n      setValue(val);\n    } else {\n      nextId.current = val;\n    }\n  };\n\n  idsUpdaterMap.set(res, updateValue);\n\n  useLayoutEffect(() => {\n    isRendering.current = false;\n  }, [updateValue]);\n\n  useLayoutEffect(() => {\n    let r = res;\n    return () => {\n      idsUpdaterMap.delete(r);\n    };\n  }, [res]);\n\n  useEffect(() => {\n    let newId = nextId.current;\n    if (newId) {\n      setValue(newId);\n      nextId.current = null;\n    }\n  }, [setValue, updateValue]);\n  return res;\n}\n\n/**\n * Merges two ids.\n * Different ids will trigger a side-effect and re-render components hooked up with `useId`.\n */\nexport function mergeIds(idA: string, idB: string): string {\n  if (idA === idB) {\n    return idA;\n  }\n\n  let setIdA = idsUpdaterMap.get(idA);\n  if (setIdA) {\n    setIdA(idB);\n    return idB;\n  }\n\n  let setIdB = idsUpdaterMap.get(idB);\n  if (setIdB) {\n    setIdB(idA);\n    return idA;\n  }\n\n  return idB;\n}\n\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as labelledby.\n * @param depArray - When to recalculate if the id is in the DOM.\n */\nexport function useSlotId(depArray: ReadonlyArray<any> = []): string {\n  let id = useId();\n  let [resolvedId, setResolvedId] = useValueEffect(id);\n  let updateId = useCallback(() => {\n    setResolvedId(function *() {\n      yield id;\n\n      yield document.getElementById(id) ? id : null;\n    });\n  }, [id, setResolvedId]);\n\n  useLayoutEffect(updateId, [id, updateId, ...depArray]);\n\n  return resolvedId;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (let callback of callbacks) {\n      if (typeof callback === 'function') {\n        callback(...args);\n      }\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {chain} from './chain';\nimport clsx from 'clsx';\nimport {mergeIds} from './useId';\n\ninterface Props {\n  [key: string]: any\n}\n\n// taken from: https://stackoverflow.com/questions/51603250/typescript-3-parameter-list-intersection-type/51604379#51604379\ntype TupleTypes<T> = { [P in keyof T]: T[P] } extends { [key: number]: infer V } ? V : never;\n// eslint-disable-next-line no-undef, @typescript-eslint/no-unused-vars\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;\n\n/**\n * Merges multiple props objects together. Event handlers are chained,\n * classNames are combined, and ids are deduplicated - different ids\n * will trigger a side-effect and re-render components hooked up with `useId`.\n * For all other props, the last prop object overrides all previous ones.\n * @param args - Multiple sets of props to merge together.\n */\nexport function mergeProps<T extends Props[]>(...args: T): UnionToIntersection<TupleTypes<T>> {\n  // Start with a base clone of the first argument. This is a lot faster than starting\n  // with an empty object and adding properties as we go.\n  let result: Props = {...args[0]};\n  for (let i = 1; i < args.length; i++) {\n    let props = args[i];\n    for (let key in props) {\n      let a = result[key];\n      let b = props[key];\n\n      // Chain events\n      if (\n        typeof a === 'function' &&\n        typeof b === 'function' &&\n        // This is a lot faster than a regex.\n        key[0] === 'o' &&\n        key[1] === 'n' &&\n        key.charCodeAt(2) >= /* 'A' */ 65 &&\n        key.charCodeAt(2) <= /* 'Z' */ 90\n      ) {\n        result[key] = chain(a, b);\n\n        // Merge classnames, sometimes classNames are empty string which eval to false, so we just need to do a type check\n      } else if (\n        (key === 'className' || key === 'UNSAFE_className') &&\n        typeof a === 'string' &&\n        typeof b === 'string'\n      ) {\n        result[key] = clsx(a, b);\n      } else if (key === 'id' && a && b) {\n        result.id = mergeIds(a, b);\n        // Override others\n      } else {\n        result[key] = b !== undefined ? b : a;\n      }\n    }\n  }\n\n  return result as UnionToIntersection<TupleTypes<T>>;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ForwardedRef} from 'react';\n\n/**\n * Merges multiple refs into one. Works with either callback or object refs.\n */\nexport function mergeRefs<T>(...refs: ForwardedRef<T>[]): ForwardedRef<T> {\n  return (value: T) => {\n    for (let ref of refs) {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {HTMLAttributes} from 'react';\n\nconst DOMPropNames = new Set([\n  'id'\n]);\n\nconst labelablePropNames = new Set([\n  'aria-label',\n  'aria-labelledby',\n  'aria-describedby',\n  'aria-details'\n]);\n\ninterface Options {\n  /**\n   * If labelling associated aria properties should be included in the filter.\n   */\n  labelable?: boolean,\n  /**\n   * A Set of other property names that should be included in the filter.\n   */\n  propNames?: Set<string>\n}\n\nconst propRe = /^(data-.*)$/;\n\n/**\n * Filters out all props that aren't valid DOM props or defined via override prop obj.\n * @param props - The component props to be filtered.\n * @param opts - Props to override.\n */\nexport function filterDOMProps(props: DOMProps & AriaLabelingProps, opts: Options = {}): DOMProps & AriaLabelingProps {\n  let {labelable, propNames} = opts;\n  let filteredProps: HTMLAttributes<HTMLElement> = {};\n\n  for (const prop in props) {\n    if (\n      Object.prototype.hasOwnProperty.call(props, prop) && (\n        DOMPropNames.has(prop) ||\n        (labelable && labelablePropNames.has(prop)) ||\n        propNames?.has(prop) ||\n        propRe.test(prop)\n      )\n    ) {\n      filteredProps[prop] = props[prop];\n    }\n  }\n\n  return filteredProps;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// This is a polyfill for element.focus({preventScroll: true});\n// Currently necessary for Safari and old Edge:\n// https://caniuse.com/#feat=mdn-api_htmlelement_focus_preventscroll_option\n// See https://bugs.webkit.org/show_bug.cgi?id=178583\n//\n\n// Original licensing for the following methods can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/calvellido/focus-options-polyfill\n\ninterface ScrollableElement {\n  element: HTMLElement,\n  scrollTop: number,\n  scrollLeft: number\n}\n\nexport function focusWithoutScrolling(element: HTMLElement) {\n  if (supportsPreventScroll()) {\n    element.focus({preventScroll: true});\n  } else {\n    let scrollableElements = getScrollableElements(element);\n    element.focus();\n    restoreScrollPosition(scrollableElements);\n  }\n}\n\nlet supportsPreventScrollCached: boolean = null;\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n    try {\n      var focusElem = document.createElement('div');\n      focusElem.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n      });\n    } catch (e) {\n      // Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element: HTMLElement): ScrollableElement[] {\n  var parent = element.parentNode;\n  var scrollableElements: ScrollableElement[] = [];\n  var rootScrollingElement = document.scrollingElement || document.documentElement;\n\n  while (parent instanceof HTMLElement && parent !== rootScrollingElement) {\n    if (\n      parent.offsetHeight < parent.scrollHeight ||\n      parent.offsetWidth < parent.scrollWidth\n    ) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements: ScrollableElement[]) {\n  for (let {element, scrollTop, scrollLeft} of scrollableElements) {\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getOffset(element, reverse, orientation = 'horizontal') {\n  let rect = element.getBoundingClientRect();\n  if (reverse) {\n    return orientation === 'horizontal' ? rect.right : rect.bottom;\n  }\n  return orientation === 'horizontal' ? rect.left : rect.top;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We store a global list of elements that are currently transitioning,\n// mapped to a set of CSS properties that are transitioning for that element.\n// This is necessary rather than a simple count of transitions because of browser\n// bugs, e.g. Chrome sometimes fires both transitionend and transitioncancel rather\n// than one or the other. So we need to track what's actually transitioning so that\n// we can ignore these duplicate events.\nlet transitionsByElement = new Map<EventTarget, Set<string>>();\n\n// A list of callbacks to call once there are no transitioning elements.\nlet transitionCallbacks = new Set<() => void>();\n\nfunction setupGlobalEvents() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  let onTransitionStart = (e: TransitionEvent) => {\n    // Add the transitioning property to the list for this element.\n    let transitions = transitionsByElement.get(e.target);\n    if (!transitions) {\n      transitions = new Set();\n      transitionsByElement.set(e.target, transitions);\n\n      // The transitioncancel event must be registered on the element itself, rather than as a global\n      // event. This enables us to handle when the node is deleted from the document while it is transitioning.\n      // In that case, the cancel event would have nowhere to bubble to so we need to handle it directly.\n      e.target.addEventListener('transitioncancel', onTransitionEnd);\n    }\n\n    transitions.add(e.propertyName);\n  };\n\n  let onTransitionEnd = (e: TransitionEvent) => {\n    // Remove property from list of transitioning properties.\n    let properties = transitionsByElement.get(e.target);\n    if (!properties) {\n      return;\n    }\n\n    properties.delete(e.propertyName);\n\n    // If empty, remove transitioncancel event, and remove the element from the list of transitioning elements.\n    if (properties.size === 0) {\n      e.target.removeEventListener('transitioncancel', onTransitionEnd);\n      transitionsByElement.delete(e.target);\n    }\n\n    // If no transitioning elements, call all of the queued callbacks.\n    if (transitionsByElement.size === 0) {\n      for (let cb of transitionCallbacks) {\n        cb();\n      }\n\n      transitionCallbacks.clear();\n    }\n  };\n\n  document.body.addEventListener('transitionrun', onTransitionStart);\n  document.body.addEventListener('transitionend', onTransitionEnd);\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalEvents);\n  }\n}\n\nexport function runAfterTransition(fn: () => void) {\n  // Wait one frame to see if an animation starts, e.g. a transition on mount.\n  requestAnimationFrame(() => {\n    // If no transitions are running, call the function immediately.\n    // Otherwise, add it to a list of callbacks to run at the end of the animation.\n    if (transitionsByElement.size === 0) {\n      fn();\n    } else {\n      transitionCallbacks.add(fn);\n    }\n  });\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getOffset} from './getOffset';\nimport {Orientation} from '@react-types/shared';\nimport React, {HTMLAttributes, MutableRefObject, useRef} from 'react';\n\ninterface UseDrag1DProps {\n  containerRef: MutableRefObject<HTMLElement>,\n  reverse?: boolean,\n  orientation?: Orientation,\n  onHover?: (hovered: boolean) => void,\n  onDrag?: (dragging: boolean) => void,\n  onPositionChange?: (position: number) => void,\n  onIncrement?: () => void,\n  onDecrement?: () => void,\n  onIncrementToMax?: () => void,\n  onDecrementToMin?: () => void,\n  onCollapseToggle?: () => void\n}\n\n// Keep track of elements that we are currently handling dragging for via useDrag1D.\n// If there's an ancestor and a descendant both using useDrag1D(), and the user starts\n// dragging the descendant, we don't want useDrag1D events to fire for the ancestor.\nconst draggingElements: HTMLElement[] = [];\n\n// created for splitview, this should be reusable for things like sliders/dials\n// It also handles keyboard events on the target allowing for increment/decrement by a given stepsize as well as minifying/maximizing and toggling between minified and previous size\n// It can also take a 'reverse' param to say if we should measure from the right/bottom instead of the top/left\n// It can also handle either a vertical or horizontal movement, but not both at the same time\n\nexport function useDrag1D(props: UseDrag1DProps): HTMLAttributes<HTMLElement> {\n  console.warn('useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html');\n  let {containerRef, reverse, orientation, onHover, onDrag, onPositionChange, onIncrement, onDecrement, onIncrementToMax, onDecrementToMin, onCollapseToggle} = props;\n  let getPosition = (e) => orientation === 'horizontal' ? e.clientX : e.clientY;\n  let getNextOffset = (e: MouseEvent) => {\n    let containerOffset = getOffset(containerRef.current, reverse, orientation);\n    let mouseOffset = getPosition(e);\n    let nextOffset = reverse ? containerOffset - mouseOffset : mouseOffset - containerOffset;\n    return nextOffset;\n  };\n  let dragging = useRef(false);\n  let prevPosition = useRef(0);\n\n  // Keep track of the current handlers in a ref so that the events can access them.\n  let handlers = useRef({onPositionChange, onDrag});\n  handlers.current.onDrag = onDrag;\n  handlers.current.onPositionChange = onPositionChange;\n\n  let onMouseDragged = (e: MouseEvent) => {\n    e.preventDefault();\n    let nextOffset = getNextOffset(e);\n    if (!dragging.current) {\n      dragging.current = true;\n      if (handlers.current.onDrag) {\n        handlers.current.onDrag(true);\n      }\n      if (handlers.current.onPositionChange) {\n        handlers.current.onPositionChange(nextOffset);\n      }\n    }\n    if (prevPosition.current === nextOffset) {\n      return;\n    }\n    prevPosition.current = nextOffset;\n    if (onPositionChange) {\n      onPositionChange(nextOffset);\n    }\n  };\n\n  let onMouseUp = (e: MouseEvent) => {\n    const target = e.target as HTMLElement;\n    dragging.current = false;\n    let nextOffset = getNextOffset(e);\n    if (handlers.current.onDrag) {\n      handlers.current.onDrag(false);\n    }\n    if (handlers.current.onPositionChange) {\n      handlers.current.onPositionChange(nextOffset);\n    }\n\n    draggingElements.splice(draggingElements.indexOf(target), 1);\n    window.removeEventListener('mouseup', onMouseUp, false);\n    window.removeEventListener('mousemove', onMouseDragged, false);\n  };\n\n  let onMouseDown = (e: React.MouseEvent<HTMLElement>) => {\n    const target = e.currentTarget;\n    // If we're already handling dragging on a descendant with useDrag1D, then\n    // we don't want to handle the drag motion on this target as well.\n    if (draggingElements.some(elt => target.contains(elt))) {\n      return;\n    }\n    draggingElements.push(target);\n    window.addEventListener('mousemove', onMouseDragged, false);\n    window.addEventListener('mouseup', onMouseUp, false);\n  };\n\n  let onMouseEnter = () => {\n    if (onHover) {\n      onHover(true);\n    }\n  };\n\n  let onMouseOut = () => {\n    if (onHover) {\n      onHover(false);\n    }\n  };\n\n  let onKeyDown = (e) => {\n    switch (e.key) {\n      case 'Left':\n      case 'ArrowLeft':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Up':\n      case 'ArrowUp':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Right':\n      case 'ArrowRight':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Down':\n      case 'ArrowDown':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Home':\n        e.preventDefault();\n        if (onDecrementToMin) {\n          onDecrementToMin();\n        }\n        break;\n      case 'End':\n        e.preventDefault();\n        if (onIncrementToMax) {\n          onIncrementToMax();\n        }\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (onCollapseToggle) {\n          onCollapseToggle();\n        }\n        break;\n    }\n  };\n\n  return {onMouseDown, onMouseEnter, onMouseOut, onKeyDown};\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef} from 'react';\n\ninterface GlobalListeners {\n  addGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void,\n  addGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void,\n  removeGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | EventListenerOptions): void,\n  removeGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void,\n  removeAllGlobalListeners(): void\n}\n\nexport function useGlobalListeners(): GlobalListeners {\n  let globalListeners = useRef(new Map());\n  let addGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    // Make sure we remove the listener after it is called with the `once` option.\n    let fn = options?.once ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {type, eventTarget, fn, options});\n    eventTarget.addEventListener(type, listener, options);\n  }, []);\n  let removeGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    let fn = globalListeners.current.get(listener)?.fn || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = useCallback(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [removeGlobalListener]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return removeAllGlobalListeners;\n  }, [removeAllGlobalListeners]);\n\n  return {addGlobalListener, removeGlobalListener, removeAllGlobalListeners};\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {useId} from './useId';\n\n/**\n * Merges aria-label and aria-labelledby into aria-labelledby when both exist.\n * @param props - Aria label props.\n * @param defaultLabel - Default value for aria-label when not present.\n */\nexport function useLabels(props: DOMProps & AriaLabelingProps, defaultLabel?: string): DOMProps & AriaLabelingProps {\n  let {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  } = props;\n\n  // If there is both an aria-label and aria-labelledby,\n  // combine them by pointing to the element itself.\n  id = useId(id);\n  if (labelledBy && label) {\n    let ids = new Set([...labelledBy.trim().split(/\\s+/), id]);\n    labelledBy = [...ids].join(' ');\n  } else if (labelledBy) {\n    labelledBy = labelledBy.trim().split(/\\s+/).join(' ');\n  }\n\n  // If no labels are provided, use the default\n  if (!label && !labelledBy && defaultLabel) {\n    label = defaultLabel;\n  }\n\n  return {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  };\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, useRef} from 'react';\nimport {useLayoutEffect} from './';\n\n/**\n * Offers an object ref for a given callback ref or an object ref. Especially\n * helfpul when passing forwarded refs (created using `React.forwardRef`) to\n * React Aria Hooks.\n *\n * @param forwardedRef The original ref intended to be used.\n * @returns An object ref that updates the given ref.\n * @see https://reactjs.org/docs/forwarding-refs.html\n */\nexport function useObjectRef<T>(forwardedRef?: ((instance: T | null) => void) | MutableRefObject<T | null> | null): MutableRefObject<T> {\n  const objRef = useRef<T>();\n\n  /**\n   * We're using `useLayoutEffect` here instead of `useEffect` because we want\n   * to make sure that the `ref` value is up to date before other places in the\n   * the execution cycle try to read it.\n   */\n  useLayoutEffect(() => {\n    if (!forwardedRef) {\n      return;\n    }\n\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(objRef.current);\n    } else {\n      forwardedRef.current = objRef.current;\n    }\n  }, [forwardedRef]);\n\n  return objRef;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {EffectCallback, useEffect, useRef} from 'react';\n\n// Like useEffect, but only called for updates after the initial render.\nexport function useUpdateEffect(effect: EffectCallback, dependencies: any[]) {\n  const isInitialMount = useRef(true);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n}\n","import {RefObject, useEffect} from 'react';\n\nfunction hasResizeObserver() {\n  return typeof window.ResizeObserver !== 'undefined';\n}\n\ntype useResizeObserverOptionsType<T> = {\n  ref: RefObject<T>,\n  onResize: () => void\n}\n\nexport function useResizeObserver<T extends HTMLElement>(options: useResizeObserverOptionsType<T>) {\n  const {ref, onResize} = options;\n\n  useEffect(() => {\n    let element = ref?.current;\n    if (!element) {\n      return;\n    }\n\n    if (!hasResizeObserver()) {\n      window.addEventListener('resize', onResize, false);\n      return () => {\n        window.removeEventListener('resize', onResize, false);\n      };\n    } else {\n\n      const resizeObserverInstance = new window.ResizeObserver((entries) => {\n        if (!entries.length) {\n          return;\n        }\n\n        onResize();\n      });\n      resizeObserverInstance.observe(element);\n\n      return () => {\n        if (element) {\n          resizeObserverInstance.unobserve(element);\n        }\n      };\n    }\n\n  }, [onResize, ref]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, RefObject} from 'react';\nimport {useLayoutEffect} from './';\n\ninterface ContextValue<T> {\n  ref?: MutableRefObject<T>\n}\n\n// Syncs ref from context with ref passed to hook\nexport function useSyncRef<T>(context: ContextValue<T>, ref: RefObject<T>) {\n  useLayoutEffect(() => {\n    if (context && context.ref && ref) {\n      context.ref.current = ref.current;\n      return () => {\n        context.ref.current = null;\n      };\n    }\n  }, [context, ref]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getScrollParent(node: Element): Element {\n  while (node && !isScrollable(node)) {\n    node = node.parentElement;\n  }\n\n  return node || document.scrollingElement || document.documentElement;\n}\n\nfunction isScrollable(node: Element): boolean {\n  let style = window.getComputedStyle(node);\n  return /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useEffect, useState} from 'react';\n\ninterface ViewportSize {\n  width: number,\n  height: number\n}\n\n// @ts-ignore\nlet visualViewport = typeof window !== 'undefined' && window.visualViewport;\n\nexport function useViewportSize(): ViewportSize {\n  let [size, setSize] = useState(() => getViewportSize());\n\n  useEffect(() => {\n    // Use visualViewport api to track available height even on iOS virtual keyboard opening\n    let onResize = () => {\n      setSize(size => {\n        let newSize = getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) {\n          return size;\n        }\n        return newSize;\n      });\n    };\n\n    if (!visualViewport) {\n      window.addEventListener('resize', onResize);\n    } else {\n      visualViewport.addEventListener('resize', onResize);\n    }\n\n    return () => {\n      if (!visualViewport) {\n        window.removeEventListener('resize', onResize);\n      } else {\n        visualViewport.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return size;\n}\n\nfunction getViewportSize(): ViewportSize {\n  return {\n    width: visualViewport?.width || window.innerWidth,\n    height: visualViewport?.height || window.innerHeight\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps} from '@react-types/shared';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useState} from 'react';\n\nlet descriptionId = 0;\nconst descriptionNodes = new Map<string, {refCount: number, element: HTMLElement}>();\n\nexport function useDescription(description: string): AriaLabelingProps {\n  let [id, setId] = useState(null);\n\n  useLayoutEffect(() => {\n    if (!description) {\n      return;\n    }\n\n    let desc = descriptionNodes.get(description);\n    if (!desc) {\n      let id = `react-aria-description-${descriptionId++}`;\n      setId(id);\n\n      let node = document.createElement('div');\n      node.id = id;\n      node.style.display = 'none';\n      node.textContent = description;\n      document.body.appendChild(node);\n      desc = {refCount: 0, element: node};\n      descriptionNodes.set(description, desc);\n    } else {\n      setId(desc.element.id);\n    }\n\n    desc.refCount++;\n    return () => {\n      if (--desc.refCount === 0) {\n        desc.element.remove();\n        descriptionNodes.delete(description);\n      }\n    };\n  }, [description]);\n\n  return {\n    'aria-describedby': description ? id : undefined\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction testUserAgent(re: RegExp) {\n  if (typeof window === 'undefined' || window.navigator == null) {\n    return false;\n  }\n  return (\n    window.navigator['userAgentData']?.brands.some((brand: {brand: string, version: string}) => re.test(brand.brand))\n  ) ||\n  re.test(window.navigator.userAgent);\n}\n\nfunction testPlatform(re: RegExp) {\n  return typeof window !== 'undefined' && window.navigator != null\n    ? re.test((window.navigator['userAgentData'] || window.navigator).platform)\n    : false;\n}\n\nexport function isMac() {\n  return testPlatform(/^Mac/i);\n}\n\nexport function isIPhone() {\n  return testPlatform(/^iPhone/i);\n}\n\nexport function isIPad() {\n  return testPlatform(/^iPad/i) ||\n    // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    (isMac() && navigator.maxTouchPoints > 1);\n}\n\nexport function isIOS() {\n  return isIPhone() || isIPad();\n}\n\nexport function isAppleDevice() {\n  return isMac() || isIOS();\n}\n\nexport function isWebKit() {\n  return testUserAgent(/AppleWebKit/i) && !isChrome();\n}\n\nexport function isChrome() {\n  return testUserAgent(/Chrome/i);\n}\n\nexport function isAndroid() {\n  return testUserAgent(/Android/i);\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useEffect, useRef} from 'react';\n\nexport function useEvent<K extends keyof GlobalEventHandlersEventMap>(\n  ref: RefObject<EventTarget>,\n  event: K,\n  handler: (this: Document, ev: GlobalEventHandlersEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions\n) {\n  let handlerRef = useRef(handler);\n  handlerRef.current = handler;\n\n  let isDisabled = handler == null;\n\n  useEffect(() => {\n    if (isDisabled) {\n      return;\n    }\n\n    let element = ref.current;\n    let handler = (e: GlobalEventHandlersEventMap[K]) => handlerRef.current.call(this, e);\n\n    element.addEventListener(event, handler, options);\n    return () => {\n      element.removeEventListener(event, handler, options);\n    };\n  }, [ref, event, options, isDisabled]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Dispatch, useCallback, useRef, useState} from 'react';\nimport {useLayoutEffect} from './';\n\ntype SetValueAction<S> = (prev: S) => Generator<any, void, unknown>;\n\n// This hook works like `useState`, but when setting the value, you pass a generator function\n// that can yield multiple values. Each yielded value updates the state and waits for the next\n// layout effect, then continues the generator. This allows sequential updates to state to be\n// written linearly.\nexport function useValueEffect<S>(defaultValue: S | (() => S)): [S, Dispatch<SetValueAction<S>>] {\n  let [value, setValue] = useState(defaultValue);\n  let valueRef = useRef(value);\n  let effect = useRef(null);\n\n  valueRef.current = value;\n\n  // Store the function in a ref so we can always access the current version\n  // which has the proper `value` in scope.\n  let nextRef = useRef(null);\n  nextRef.current = () => {\n    // Run the generator to the next yield.\n    let newValue = effect.current.next();\n\n    // If the generator is done, reset the effect.\n    if (newValue.done) {\n      effect.current = null;\n      return;\n    }\n\n    // If the value is the same as the current value,\n    // then continue to the next yield. Otherwise,\n    // set the value in state and wait for the next layout effect.\n    if (value === newValue.value) {\n      nextRef.current();\n    } else {\n      setValue(newValue.value);\n    }\n  };\n\n  useLayoutEffect(() => {\n    // If there is an effect currently running, continue to the next yield.\n    if (effect.current) {\n      nextRef.current();\n    }\n  });\n\n  let queue = useCallback(fn => {\n    effect.current = fn(valueRef.current);\n    nextRef.current();\n  }, [effect, nextRef]);\n\n  return [value, queue];\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Scrolls `scrollView` so that `element` is visible.\n * Similar to `element.scrollIntoView({block: 'nearest'})` (not supported in Edge),\n * but doesn't affect parents above `scrollView`.\n */\nexport function scrollIntoView(scrollView: HTMLElement, element: HTMLElement) {\n  let offsetX = relativeOffset(scrollView, element, 'left');\n  let offsetY = relativeOffset(scrollView, element, 'top');\n  let width = element.offsetWidth;\n  let height = element.offsetHeight;\n  let x = scrollView.scrollLeft;\n  let y = scrollView.scrollTop;\n  let maxX = x + scrollView.offsetWidth;\n  let maxY = y + scrollView.offsetHeight;\n\n  if (offsetX <= x) {\n    x = offsetX;\n  } else if (offsetX + width > maxX) {\n    x += offsetX + width - maxX;\n  }\n  if (offsetY <= y) {\n    y = offsetY;\n  } else if (offsetY + height > maxY) {\n    y += offsetY + height - maxY;\n  }\n\n  scrollView.scrollLeft = x;\n  scrollView.scrollTop = y;\n}\n\n/**\n * Computes the offset left or top from child to ancestor by accumulating\n * offsetLeft or offsetTop through intervening offsetParents.\n */\nfunction relativeOffset(ancestor: HTMLElement, child: HTMLElement, axis: 'left'|'top') {\n  const prop = axis === 'left' ? 'offsetLeft' : 'offsetTop';\n  let sum = 0;\n  while (child.offsetParent) {\n    sum += child[prop];\n    if (child.offsetParent === ancestor) {\n      // Stop once we have found the ancestor we are interested in.\n      break;\n    } else if (child.offsetParent.contains(ancestor)) {\n      // If the ancestor is not `position:relative`, then we stop at\n      // _its_ offset parent, and we subtract off _its_ offset, so that\n      // we end up with the proper offset from child to ancestor.\n      sum -= ancestor[prop];\n      break;\n    }\n    child = child.offsetParent as HTMLElement;\n  }\n  return sum;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {isIOS, runAfterTransition} from '@react-aria/utils';\n\n// Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n// is to add user-select: none to the entire page. Adding it to the pressable element prevents\n// that element from being selected, but nearby elements may still receive selection. We add\n// user-select: none on touch start, and remove it again on touch end to prevent this.\n// This must be implemented using global state to avoid race conditions between multiple elements.\n\n// There are three possible states due to the delay before removing user-select: none after\n// pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n// to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n// For non-iOS devices, we apply user-select: none to the pressed element instead to avoid possible\n// performance issues that arise from applying and removing user-select: none to the entire page\n// (see https://github.com/adobe/react-spectrum/issues/1609).\ntype State = 'default' | 'disabled' | 'restoring';\n\n// Note that state only matters here for iOS. Non-iOS gets user-select: none applied to the target element\n// rather than at the document level so we just need to apply/remove user-select: none for each pressed element individually\nlet state: State = 'default';\nlet savedUserSelect = '';\nlet modifiedElementMap = new WeakMap<HTMLElement, string>();\n\nexport function disableTextSelection(target?: HTMLElement) {\n  if (isIOS()) {\n    if (state === 'default') {\n      savedUserSelect = document.documentElement.style.webkitUserSelect;\n      document.documentElement.style.webkitUserSelect = 'none';\n    }\n\n    state = 'disabled';\n  } else if (target) {\n    // If not iOS, store the target's original user-select and change to user-select: none\n    // Ignore state since it doesn't apply for non iOS\n    modifiedElementMap.set(target, target.style.userSelect);\n    target.style.userSelect = 'none';\n  }\n}\n\nexport function restoreTextSelection(target?: HTMLElement) {\n  if (isIOS()) {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      runAfterTransition(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n          if (document.documentElement.style.webkitUserSelect === 'none') {\n            document.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  } else {\n    // If not iOS, restore the target's original user-select if any\n    // Ignore state since it doesn't apply for non iOS\n    if (target && modifiedElementMap.has(target)) {\n      let targetOldUserSelect = modifiedElementMap.get(target);\n\n      if (target.style.userSelect === 'none') {\n        target.style.userSelect = targetOldUserSelect;\n      }\n\n      if (target.getAttribute('style') === '') {\n        target.removeAttribute('style');\n      }\n      modifiedElementMap.delete(target);\n    }\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusEvent as ReactFocusEvent, useRef} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\n// Original licensing for the following method can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/blob/3c713d513195a53788b3f8bb4b70279d68b15bcc/packages/react-interactions/events/src/dom/shared/index.js#L74-L87\n\n// Keyboards, Assistive Technologies, and element.click() all produce a \"virtual\"\n// click event. This is a method of inferring such clicks. Every browser except\n// IE 11 only sets a zero value of \"detail\" for click events that are \"virtual\".\n// However, IE 11 uses a zero value for all click events. For IE 11 we rely on\n// the quirk that it produces click events that are of type PointerEvent, and\n// where only the \"virtual\" click lacks a pointerType field.\n\nexport function isVirtualClick(event: MouseEvent | PointerEvent): boolean {\n  // JAWS/NVDA with Firefox.\n  if ((event as any).mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n\n  return event.detail === 0 && !(event as PointerEvent).pointerType;\n}\n\nexport class SyntheticFocusEvent implements ReactFocusEvent {\n  nativeEvent: FocusEvent;\n  target: Element;\n  currentTarget: Element;\n  relatedTarget: Element;\n  bubbles: boolean;\n  cancelable: boolean;\n  defaultPrevented: boolean;\n  eventPhase: number;\n  isTrusted: boolean;\n  timeStamp: number;\n  type: string;\n\n  constructor(type: string, nativeEvent: FocusEvent) {\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEvent.target as Element;\n    this.currentTarget = nativeEvent.currentTarget as Element;\n    this.relatedTarget = nativeEvent.relatedTarget as Element;\n    this.bubbles = nativeEvent.bubbles;\n    this.cancelable = nativeEvent.cancelable;\n    this.defaultPrevented = nativeEvent.defaultPrevented;\n    this.eventPhase = nativeEvent.eventPhase;\n    this.isTrusted = nativeEvent.isTrusted;\n    this.timeStamp = nativeEvent.timeStamp;\n    this.type = type;\n  }\n\n  isDefaultPrevented(): boolean {\n    return this.nativeEvent.defaultPrevented;\n  }\n\n  preventDefault(): void {\n    this.defaultPrevented = true;\n    this.nativeEvent.preventDefault();\n  }\n\n  stopPropagation(): void {\n    this.nativeEvent.stopPropagation();\n    this.isPropagationStopped = () => true;\n  }\n\n  isPropagationStopped(): boolean {\n    return false;\n  }\n\n  persist() {}\n}\n\nexport function useSyntheticBlurEvent(onBlur: (e: ReactFocusEvent) => void) {\n  let stateRef = useRef({\n    isFocused: false,\n    onBlur,\n    observer: null as MutationObserver\n  });\n  let state = stateRef.current;\n  state.onBlur = onBlur;\n\n  // Clean up MutationObserver on unmount. See below.\n  // eslint-disable-next-line arrow-body-style\n  useLayoutEffect(() => {\n    return () => {\n      if (state.observer) {\n        state.observer.disconnect();\n        state.observer = null;\n      }\n    };\n  }, [state]);\n\n  // This function is called during a React onFocus event.\n  return (e: ReactFocusEvent) => {\n    // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n    // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n    // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n    // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n    if (\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement ||\n      e.target instanceof HTMLSelectElement\n    ) {\n      state.isFocused = true;\n\n      let target = e.target;\n      let onBlurHandler = (e: FocusEvent) => {\n        let state = stateRef.current;\n        state.isFocused = false;\n\n        if (target.disabled) {\n          // For backward compatibility, dispatch a (fake) React synthetic event.\n          state.onBlur?.(new SyntheticFocusEvent('blur', e));\n        }\n\n        // We no longer need the MutationObserver once the target is blurred.\n        if (state.observer) {\n          state.observer.disconnect();\n          state.observer = null;\n        }\n      };\n\n      target.addEventListener('focusout', onBlurHandler, {once: true});\n\n      state.observer = new MutationObserver(() => {\n        if (state.isFocused && target.disabled) {\n          state.observer.disconnect();\n          target.dispatchEvent(new FocusEvent('blur'));\n          target.dispatchEvent(new FocusEvent('focusout', {bubbles: true}));\n        }\n      });\n\n      state.observer.observe(target, {attributes: true, attributeFilter: ['disabled']});\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {PressProps} from './usePress';\nimport React, {MutableRefObject} from 'react';\n\ninterface IPressResponderContext extends PressProps {\n  register(): void,\n  ref?: MutableRefObject<HTMLElement>\n}\n\nexport const PressResponderContext = React.createContext<IPressResponderContext>(null);\nPressResponderContext.displayName = 'PressResponderContext';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {disableTextSelection, restoreTextSelection} from './textSelection';\nimport {focusWithoutScrolling, mergeProps, useGlobalListeners, useSyncRef} from '@react-aria/utils';\nimport {HTMLAttributes, RefObject, useContext, useEffect, useMemo, useRef, useState} from 'react';\nimport {isVirtualClick} from './utils';\nimport {PointerType, PressEvents} from '@react-types/shared';\nimport {PressResponderContext} from './context';\n\nexport interface PressProps extends PressEvents {\n  /** Whether the target is in a controlled press state (e.g. an overlay it triggers is open). */\n  isPressed?: boolean,\n  /** Whether the press events should be disabled. */\n  isDisabled?: boolean,\n  /** Whether the target should not receive focus on press. */\n  preventFocusOnPress?: boolean,\n  /**\n   * Whether press events should be canceled when the pointer leaves the target while pressed.\n   * By default, this is `false`, which means if the pointer returns back over the target while\n   * still pressed, onPressStart will be fired again. If set to `true`, the press is canceled\n   * when the pointer leaves the target and onPressStart will not be fired if the pointer returns.\n   */\n  shouldCancelOnPointerExit?: boolean,\n  /** Whether text selection should be enabled on the pressable element. */\n  allowTextSelectionOnPress?: boolean\n}\n\nexport interface PressHookProps extends PressProps {\n  /** A ref to the target element. */\n  ref?: RefObject<HTMLElement>\n}\n\ninterface PressState {\n  isPressed: boolean,\n  ignoreEmulatedMouseEvents: boolean,\n  ignoreClickAfterPress: boolean,\n  didFirePressStart: boolean,\n  activePointerId: any,\n  target: HTMLElement | null,\n  isOverTarget: boolean,\n  pointerType: PointerType,\n  userSelect?: string\n}\n\ninterface EventBase {\n  currentTarget: EventTarget,\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\nexport interface PressResult {\n  /** Whether the target is currently pressed. */\n  isPressed: boolean,\n  /** Props to spread on the target element. */\n  pressProps: HTMLAttributes<HTMLElement>\n}\n\nfunction usePressResponderContext(props: PressHookProps): PressHookProps {\n  // Consume context from <PressResponder> and merge with props.\n  let context = useContext(PressResponderContext);\n  if (context) {\n    let {register, ...contextProps} = context;\n    props = mergeProps(contextProps, props) as PressHookProps;\n    register();\n  }\n  useSyncRef(context, props.ref);\n\n  return props;\n}\n\n/**\n * Handles press interactions across mouse, touch, keyboard, and screen readers.\n * It normalizes behavior across browsers and platforms, and handles many nuances\n * of dealing with pointer and keyboard events.\n */\nexport function usePress(props: PressHookProps): PressResult {\n  let {\n    onPress,\n    onPressChange,\n    onPressStart,\n    onPressEnd,\n    onPressUp,\n    isDisabled,\n    isPressed: isPressedProp,\n    preventFocusOnPress,\n    shouldCancelOnPointerExit,\n    allowTextSelectionOnPress,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ref: _, // Removing `ref` from `domProps` because TypeScript is dumb\n    ...domProps\n  } = usePressResponderContext(props);\n  let propsRef = useRef<PressHookProps>(null);\n  propsRef.current = {onPress, onPressChange, onPressStart, onPressEnd, onPressUp, isDisabled, shouldCancelOnPointerExit};\n\n  let [isPressed, setPressed] = useState(false);\n  let ref = useRef<PressState>({\n    isPressed: false,\n    ignoreEmulatedMouseEvents: false,\n    ignoreClickAfterPress: false,\n    didFirePressStart: false,\n    activePointerId: null,\n    target: null,\n    isOverTarget: false,\n    pointerType: null\n  });\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let pressProps = useMemo(() => {\n    let state = ref.current;\n    let triggerPressStart = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressStart, onPressChange, isDisabled} = propsRef.current;\n      if (isDisabled || state.didFirePressStart) {\n        return;\n      }\n\n      if (onPressStart) {\n        onPressStart({\n          type: 'pressstart',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(true);\n      }\n\n      state.didFirePressStart = true;\n      setPressed(true);\n    };\n\n    let triggerPressEnd = (originalEvent: EventBase, pointerType: PointerType, wasPressed = true) => {\n      let {onPressEnd, onPressChange, onPress, isDisabled} = propsRef.current;\n      if (!state.didFirePressStart) {\n        return;\n      }\n\n      state.ignoreClickAfterPress = true;\n      state.didFirePressStart = false;\n\n      if (onPressEnd) {\n        onPressEnd({\n          type: 'pressend',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(false);\n      }\n\n      setPressed(false);\n\n      if (onPress && wasPressed && !isDisabled) {\n        onPress({\n          type: 'press',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let triggerPressUp = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressUp, isDisabled} = propsRef.current;\n      if (isDisabled) {\n        return;\n      }\n\n      if (onPressUp) {\n        onPressUp({\n          type: 'pressup',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let cancel = (e: EventBase) => {\n      if (state.isPressed) {\n        if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n        state.isPressed = false;\n        state.isOverTarget = false;\n        state.activePointerId = null;\n        state.pointerType = null;\n        removeAllGlobalListeners();\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n      }\n    };\n\n    let pressProps: HTMLAttributes<HTMLElement> = {\n      onKeyDown(e) {\n        if (isValidKeyboardEvent(e.nativeEvent) && e.currentTarget.contains(e.target as HTMLElement)) {\n          if (shouldPreventDefaultKeyboard(e.target as Element)) {\n            e.preventDefault();\n          }\n          e.stopPropagation();\n\n          // If the event is repeating, it may have started on a different element\n          // after which focus moved to the current element. Ignore these events and\n          // only handle the first key down event.\n          if (!state.isPressed && !e.repeat) {\n            state.target = e.currentTarget as HTMLElement;\n            state.isPressed = true;\n            triggerPressStart(e, 'keyboard');\n\n            // Focus may move before the key up event, so register the event on the document\n            // instead of the same element where the key down event occurred.\n            addGlobalListener(document, 'keyup', onKeyUp, false);\n          }\n        }\n      },\n      onKeyUp(e) {\n        if (isValidKeyboardEvent(e.nativeEvent) && !e.repeat && e.currentTarget.contains(e.target as HTMLElement)) {\n          triggerPressUp(createEvent(state.target, e), 'keyboard');\n        }\n      },\n      onClick(e) {\n        if (e && !e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        if (e && e.button === 0) {\n          e.stopPropagation();\n          if (isDisabled) {\n            e.preventDefault();\n          }\n\n          // If triggered from a screen reader or by using element.click(),\n          // trigger as if it were a keyboard click.\n          if (!state.ignoreClickAfterPress && !state.ignoreEmulatedMouseEvents && (state.pointerType === 'virtual' || isVirtualClick(e.nativeEvent))) {\n            // Ensure the element receives focus (VoiceOver on iOS does not do this)\n            if (!isDisabled && !preventFocusOnPress) {\n              focusWithoutScrolling(e.currentTarget);\n            }\n\n            triggerPressStart(e, 'virtual');\n            triggerPressUp(e, 'virtual');\n            triggerPressEnd(e, 'virtual');\n          }\n\n          state.ignoreEmulatedMouseEvents = false;\n          state.ignoreClickAfterPress = false;\n        }\n      }\n    };\n\n    let onKeyUp = (e: KeyboardEvent) => {\n      if (state.isPressed && isValidKeyboardEvent(e)) {\n        if (shouldPreventDefaultKeyboard(e.target as Element)) {\n          e.preventDefault();\n        }\n        e.stopPropagation();\n\n        state.isPressed = false;\n        let target = e.target as HTMLElement;\n        triggerPressEnd(createEvent(state.target, e), 'keyboard', state.target.contains(target));\n        removeAllGlobalListeners();\n\n        // If the target is a link, trigger the click method to open the URL,\n        // but defer triggering pressEnd until onClick event handler.\n        if (state.target.contains(target) && isHTMLAnchorLink(state.target) || state.target.getAttribute('role') === 'link') {\n          state.target.click();\n        }\n      }\n    };\n\n    if (typeof PointerEvent !== 'undefined') {\n      pressProps.onPointerDown = (e) => {\n        // Only handle left clicks, and ignore events that bubbled through portals.\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        // iOS safari fires pointer events from VoiceOver with incorrect coordinates/target.\n        // Ignore and let the onClick handler take care of it instead.\n        // https://bugs.webkit.org/show_bug.cgi?id=222627\n        // https://bugs.webkit.org/show_bug.cgi?id=223202\n        if (isVirtualPointerEvent(e.nativeEvent)) {\n          state.pointerType = 'virtual';\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on pointer down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget as HTMLElement)) {\n          e.preventDefault();\n        }\n\n        state.pointerType = e.pointerType;\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          state.isPressed = true;\n          state.isOverTarget = true;\n          state.activePointerId = e.pointerId;\n          state.target = e.currentTarget;\n\n          if (!isDisabled && !preventFocusOnPress) {\n            focusWithoutScrolling(e.currentTarget);\n          }\n\n          if (!allowTextSelectionOnPress) {\n            disableTextSelection(state.target);\n          }\n\n          triggerPressStart(e, state.pointerType);\n\n          addGlobalListener(document, 'pointermove', onPointerMove, false);\n          addGlobalListener(document, 'pointerup', onPointerUp, false);\n          addGlobalListener(document, 'pointercancel', onPointerCancel, false);\n        }\n      };\n\n      pressProps.onMouseDown = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        if (e.button === 0) {\n          // Chrome and Firefox on touch Windows devices require mouse down events\n          // to be canceled in addition to pointer events, or an extra asynchronous\n          // focus event will be fired.\n          if (shouldPreventDefault(e.currentTarget as HTMLElement)) {\n            e.preventDefault();\n          }\n\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onPointerUp = (e) => {\n        // iOS fires pointerup with zero width and height, so check the pointerType recorded during pointerdown.\n        if (!e.currentTarget.contains(e.target as HTMLElement) || state.pointerType === 'virtual') {\n          return;\n        }\n\n        // Only handle left clicks\n        // Safari on iOS sometimes fires pointerup events, even\n        // when the touch isn't over the target, so double check.\n        if (e.button === 0 && isOverTarget(e, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType || e.pointerType);\n        }\n      };\n\n      // Safari on iOS < 13.2 does not implement pointerenter/pointerleave events correctly.\n      // Use pointer move events instead to implement our own hit testing.\n      // See https://bugs.webkit.org/show_bug.cgi?id=199803\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId !== state.activePointerId) {\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(createEvent(state.target, e), state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.activePointerId && state.isPressed && e.button === 0) {\n          if (isOverTarget(e, state.target)) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType);\n          } else if (state.isOverTarget) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          }\n\n          state.isPressed = false;\n          state.isOverTarget = false;\n          state.activePointerId = null;\n          state.pointerType = null;\n          removeAllGlobalListeners();\n          if (!allowTextSelectionOnPress) {\n            restoreTextSelection(state.target);\n          }\n        }\n      };\n\n      let onPointerCancel = (e: PointerEvent) => {\n        cancel(e);\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        // Safari does not call onPointerCancel when a drag starts, whereas Chrome and Firefox do.\n        cancel(e);\n      };\n    } else {\n      pressProps.onMouseDown = (e) => {\n        // Only handle left clicks\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on mouse down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget as HTMLElement)) {\n          e.preventDefault();\n        }\n\n        e.stopPropagation();\n        if (state.ignoreEmulatedMouseEvents) {\n          return;\n        }\n\n        state.isPressed = true;\n        state.isOverTarget = true;\n        state.target = e.currentTarget;\n        state.pointerType = isVirtualClick(e.nativeEvent) ? 'virtual' : 'mouse';\n\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(document, 'mouseup', onMouseUp, false);\n      };\n\n      pressProps.onMouseEnter = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = true;\n          triggerPressStart(e, state.pointerType);\n        }\n      };\n\n      pressProps.onMouseLeave = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onMouseUp = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        if (!state.ignoreEmulatedMouseEvents && e.button === 0) {\n          triggerPressUp(e, state.pointerType);\n        }\n      };\n\n      let onMouseUp = (e: MouseEvent) => {\n        // Only handle left clicks\n        if (e.button !== 0) {\n          return;\n        }\n\n        state.isPressed = false;\n        removeAllGlobalListeners();\n\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n\n        state.isOverTarget = false;\n      };\n\n      pressProps.onTouchStart = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        let touch = getTouchFromEvent(e.nativeEvent);\n        if (!touch) {\n          return;\n        }\n        state.activePointerId = touch.identifier;\n        state.ignoreEmulatedMouseEvents = true;\n        state.isOverTarget = true;\n        state.isPressed = true;\n        state.target = e.currentTarget;\n        state.pointerType = 'touch';\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent default\n        // on the emulated mouse event and handle focusing the pressable element ourselves.\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        if (!allowTextSelectionOnPress) {\n          disableTextSelection(state.target);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(window, 'scroll', onScroll, true);\n      };\n\n      pressProps.onTouchMove = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(e, state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onTouchEnd = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType);\n          triggerPressEnd(e, state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(e, state.pointerType, false);\n        }\n\n        state.isPressed = false;\n        state.activePointerId = null;\n        state.isOverTarget = false;\n        state.ignoreEmulatedMouseEvents = true;\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n        removeAllGlobalListeners();\n      };\n\n      pressProps.onTouchCancel = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed) {\n          cancel(e);\n        }\n      };\n\n      let onScroll = (e: Event) => {\n        if (state.isPressed && (e.target as HTMLElement).contains(state.target)) {\n          cancel({\n            currentTarget: state.target,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false,\n            altKey: false\n          });\n        }\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        cancel(e);\n      };\n    }\n\n    return pressProps;\n  }, [addGlobalListener, isDisabled, preventFocusOnPress, removeAllGlobalListeners, allowTextSelectionOnPress]);\n\n  // Remove user-select: none in case component unmounts immediately after pressStart\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (!allowTextSelectionOnPress) {\n        restoreTextSelection(ref.current.target);\n      }\n    };\n  }, [allowTextSelectionOnPress]);\n\n  return {\n    isPressed: isPressedProp || isPressed,\n    pressProps: mergeProps(domProps, pressProps)\n  };\n}\n\nfunction isHTMLAnchorLink(target: HTMLElement): boolean {\n  return target.tagName === 'A' && target.hasAttribute('href');\n}\n\nfunction isValidKeyboardEvent(event: KeyboardEvent): boolean {\n  const {key, code, target} = event;\n  const element = target as HTMLElement;\n  const {tagName, isContentEditable} = element;\n  const role = element.getAttribute('role');\n  // Accessibility for keyboards. Space and Enter only.\n  // \"Spacebar\" is for IE 11\n  return (\n    (key === 'Enter' || key === ' ' || key === 'Spacebar' || code === 'Space') &&\n    (tagName !== 'INPUT' &&\n      tagName !== 'TEXTAREA' &&\n      isContentEditable !== true) &&\n    // A link with a valid href should be handled natively,\n    // unless it also has role='button' and was triggered using Space.\n    (!isHTMLAnchorLink(element) || (role === 'button' && key !== 'Enter')) &&\n    // An element with role='link' should only trigger with Enter key\n    !(role === 'link' && key !== 'Enter')\n  );\n}\n\nfunction getTouchFromEvent(event: TouchEvent): Touch | null {\n  const {targetTouches} = event;\n  if (targetTouches.length > 0) {\n    return targetTouches[0];\n  }\n  return null;\n}\n\nfunction getTouchById(\n  event: TouchEvent,\n  pointerId: null | number\n): null | Touch {\n  const changedTouches = event.changedTouches;\n  for (let i = 0; i < changedTouches.length; i++) {\n    const touch = changedTouches[i];\n    if (touch.identifier === pointerId) {\n      return touch;\n    }\n  }\n  return null;\n}\n\nfunction createEvent(target: HTMLElement, e: EventBase): EventBase {\n  return {\n    currentTarget: target,\n    shiftKey: e.shiftKey,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey\n  };\n}\n\ninterface Rect {\n  top: number,\n  right: number,\n  bottom: number,\n  left: number\n}\n\ninterface EventPoint {\n  clientX: number,\n  clientY: number,\n  width?: number,\n  height?: number,\n  radiusX?: number,\n  radiusY?: number\n}\n\nfunction getPointClientRect(point: EventPoint): Rect {\n  let offsetX = (point.width / 2) || point.radiusX || 0;\n  let offsetY = (point.height / 2) || point.radiusY || 0;\n\n  return {\n    top: point.clientY - offsetY,\n    right: point.clientX + offsetX,\n    bottom: point.clientY + offsetY,\n    left: point.clientX - offsetX\n  };\n}\n\nfunction areRectanglesOverlapping(a: Rect, b: Rect) {\n  // check if they cannot overlap on x axis\n  if (a.left > b.right || b.left > a.right) {\n    return false;\n  }\n  // check if they cannot overlap on y axis\n  if (a.top > b.bottom || b.top > a.bottom) {\n    return false;\n  }\n  return true;\n}\n\nfunction isOverTarget(point: EventPoint, target: HTMLElement) {\n  let rect = target.getBoundingClientRect();\n  let pointRect = getPointClientRect(point);\n  return areRectanglesOverlapping(rect, pointRect);\n}\n\nfunction shouldPreventDefault(target: HTMLElement) {\n  // We cannot prevent default if the target is a draggable element.\n  return !target.draggable;\n}\n\nfunction shouldPreventDefaultKeyboard(target: Element) {\n  return !((target.tagName === 'INPUT' || target.tagName === 'BUTTON') && (target as HTMLButtonElement | HTMLInputElement).type === 'submit');\n}\n\nfunction isVirtualPointerEvent(event: PointerEvent) {\n  // If the pointer size is zero, then we assume it's from a screen reader.\n  // Android TalkBack double tap will sometimes return a event with width and height of 1\n  // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n  // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n  // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216\n  return (\n    (event.width === 0 && event.height === 0) ||\n    (event.width === 1 &&\n      event.height === 1 &&\n      event.pressure === 0 &&\n      event.detail === 0\n    )\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {mergeProps} from '@react-aria/utils';\nimport {PressProps, usePress} from './usePress';\nimport React, {HTMLAttributes, ReactElement, RefObject, useRef} from 'react';\n\ninterface PressableProps extends PressProps {\n  children: ReactElement<HTMLAttributes<HTMLElement>, string>\n}\n\nexport const Pressable = React.forwardRef(({children, ...props}: PressableProps, ref: RefObject<HTMLElement>) => {\n  let newRef = useRef();\n  ref = ref ?? newRef;\n  let {pressProps} = usePress({...props, ref});\n  let child = React.Children.only(children);\n  return React.cloneElement(\n    child,\n    // @ts-ignore\n    {ref, ...mergeProps(child.props, pressProps)}\n  );\n});\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport {PressProps} from './usePress';\nimport {PressResponderContext} from './context';\nimport React, {ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\n\ninterface PressResponderProps extends PressProps {\n  children: ReactNode\n}\n\nexport const PressResponder = React.forwardRef(({children, ...props}: PressResponderProps, ref: RefObject<HTMLElement>) => {\n  let isRegistered = useRef(false);\n  let prevContext = useContext(PressResponderContext);\n  let context = mergeProps(prevContext || {}, {\n    ...props,\n    ref: ref || prevContext?.ref,\n    register() {\n      isRegistered.current = true;\n      if (prevContext) {\n        prevContext.register();\n      }\n    }\n  });\n\n  useSyncRef(prevContext, ref);\n\n  useEffect(() => {\n    if (!isRegistered.current) {\n      console.warn(\n        'A PressResponder was rendered without a pressable child. ' +\n        'Either call the usePress hook, or wrap your DOM node with <Pressable> component.'\n      );\n    }\n  }, []);\n\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n});\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {FocusEvent, HTMLAttributes} from 'react';\nimport {FocusEvents} from '@react-types/shared';\nimport {useSyntheticBlurEvent} from './utils';\n\ninterface FocusProps extends FocusEvents {\n  /** Whether the focus events should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface FocusResult {\n  /** Props to spread onto the target element. */\n  focusProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles focus events for the immediate target.\n * Focus events on child elements will be ignored.\n */\nexport function useFocus(props: FocusProps): FocusResult {\n  let onBlur: FocusProps['onBlur'];\n  if (!props.isDisabled && (props.onBlur || props.onFocusChange)) {\n    onBlur = (e: FocusEvent) => {\n      if (e.target === e.currentTarget) {\n        if (props.onBlur) {\n          props.onBlur(e);\n        }\n\n        if (props.onFocusChange) {\n          props.onFocusChange(false);\n        }\n\n        return true;\n      }\n    };\n  } else {\n    onBlur = null;\n  }\n\n  let onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n\n  let onFocus: FocusProps['onFocus'];\n  if (!props.isDisabled && (props.onFocus || props.onFocusChange || props.onBlur)) {\n    onFocus = (e: FocusEvent) => {\n      if (e.target === e.currentTarget) {\n        if (props.onFocus) {\n          props.onFocus(e);\n        }\n\n        if (props.onFocusChange) {\n          props.onFocusChange(true);\n        }\n\n        onSyntheticFocus(e);\n      }\n    };\n  }\n\n  return {\n    focusProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {isMac} from '@react-aria/utils';\nimport {isVirtualClick} from './utils';\nimport {useEffect, useState} from 'react';\n\ntype Modality = 'keyboard' | 'pointer' | 'virtual';\ntype HandlerEvent = PointerEvent | MouseEvent | KeyboardEvent | FocusEvent;\ntype Handler = (modality: Modality, e: HandlerEvent) => void;\ntype FocusVisibleHandler = (isFocusVisible: boolean) => void;\ninterface FocusVisibleProps {\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\ninterface FocusVisibleResult {\n  /** Whether keyboard focus is visible globally. */\n  isFocusVisible: boolean\n}\n\nlet currentModality = null;\nlet changeHandlers = new Set<Handler>();\nlet hasSetupGlobalListeners = false;\nlet hasEventBeforeFocus = false;\nlet hasBlurredWindowRecently = false;\n\n// Only Tab or Esc keys will make focus visible on text input elements\nconst FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\n\nfunction triggerChangeHandlers(modality: Modality, e: HandlerEvent) {\n  for (let handler of changeHandlers) {\n    handler(modality, e);\n  }\n}\n\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */\nfunction isValidKey(e: KeyboardEvent) {\n  // Control and Shift keys trigger when navigating back to the tab with keyboard.\n  return !(e.metaKey || (!isMac() && e.altKey) || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\n\n\nfunction handleKeyboardEvent(e: KeyboardEvent) {\n  hasEventBeforeFocus = true;\n  if (isValidKey(e)) {\n    currentModality = 'keyboard';\n    triggerChangeHandlers('keyboard', e);\n  }\n}\n\nfunction handlePointerEvent(e: PointerEvent | MouseEvent) {\n  currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    hasEventBeforeFocus = true;\n    triggerChangeHandlers('pointer', e);\n  }\n}\n\nfunction handleClickEvent(e: MouseEvent) {\n  if (isVirtualClick(e)) {\n    hasEventBeforeFocus = true;\n    currentModality = 'virtual';\n  }\n}\n\nfunction handleFocusEvent(e: FocusEvent) {\n  // Firefox fires two extra focus events when the user first clicks into an iframe:\n  // first on the window, then on the document. We ignore these events so they don't\n  // cause keyboard focus rings to appear.\n  if (e.target === window || e.target === document) {\n    return;\n  }\n\n  // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n  // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n  if (!hasEventBeforeFocus && !hasBlurredWindowRecently) {\n    currentModality = 'virtual';\n    triggerChangeHandlers('virtual', e);\n  }\n\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = false;\n}\n\nfunction handleWindowBlur() {\n  // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n  // for example, since a subsequent focus event won't be fired.\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = true;\n}\n\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */\nfunction setupGlobalFocusEvents() {\n  if (typeof window === 'undefined' || hasSetupGlobalListeners) {\n    return;\n  }\n\n  // Programmatic focus() calls shouldn't affect the current input modality.\n  // However, we need to detect other cases when a focus event occurs without\n  // a preceding user event (e.g. screen reader focus). Overriding the focus\n  // method on HTMLElement.prototype is a bit hacky, but works.\n  let focus = HTMLElement.prototype.focus;\n  HTMLElement.prototype.focus = function () {\n    hasEventBeforeFocus = true;\n    focus.apply(this, arguments);\n  };\n\n  document.addEventListener('keydown', handleKeyboardEvent, true);\n  document.addEventListener('keyup', handleKeyboardEvent, true);\n  document.addEventListener('click', handleClickEvent, true);\n\n  // Register focus events on the window so they are sure to happen\n  // before React's event listeners (registered on the document).\n  window.addEventListener('focus', handleFocusEvent, true);\n  window.addEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerdown', handlePointerEvent, true);\n    document.addEventListener('pointermove', handlePointerEvent, true);\n    document.addEventListener('pointerup', handlePointerEvent, true);\n  } else {\n    document.addEventListener('mousedown', handlePointerEvent, true);\n    document.addEventListener('mousemove', handlePointerEvent, true);\n    document.addEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  hasSetupGlobalListeners = true;\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalFocusEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalFocusEvents);\n  }\n}\n\n/**\n * If true, keyboard focus is visible.\n */\nexport function isFocusVisible(): boolean {\n  return currentModality !== 'pointer';\n}\n\nexport function getInteractionModality(): Modality {\n  return currentModality;\n}\n\nexport function setInteractionModality(modality: Modality) {\n  currentModality = modality;\n  triggerChangeHandlers(modality, null);\n}\n\n/**\n * Keeps state of the current modality.\n */\nexport function useInteractionModality(): Modality {\n  setupGlobalFocusEvents();\n\n  let [modality, setModality] = useState(currentModality);\n  useEffect(() => {\n    let handler = () => {\n      setModality(currentModality);\n    };\n\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, []);\n\n  return modality;\n}\n\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */\nfunction isKeyboardFocusEvent(isTextInput: boolean, modality: Modality, e: HandlerEvent) {\n  return !(isTextInput && modality === 'keyboard' && e instanceof KeyboardEvent && !FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\n\n/**\n * Manages focus visible state for the page, and subscribes individual components for updates.\n */\nexport function useFocusVisible(props: FocusVisibleProps = {}): FocusVisibleResult {\n  let {isTextInput, autoFocus} = props;\n  let [isFocusVisibleState, setFocusVisible] = useState(autoFocus || isFocusVisible());\n  useFocusVisibleListener((isFocusVisible) => {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {isTextInput});\n\n  return {isFocusVisible: isFocusVisibleState};\n}\n\n/**\n * Listens for trigger change and reports if focus is visible (i.e., modality is not pointer).\n */\nexport function useFocusVisibleListener(fn: FocusVisibleHandler, deps: ReadonlyArray<any>, opts?: {isTextInput?: boolean}): void {\n  setupGlobalFocusEvents();\n\n  useEffect(() => {\n    let handler = (modality: Modality, e: HandlerEvent) => {\n      if (!isKeyboardFocusEvent(opts?.isTextInput, modality, e)) {\n        return;\n      }\n      fn(isFocusVisible());\n    };\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, deps);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {FocusEvent, HTMLAttributes, useRef} from 'react';\nimport {useSyntheticBlurEvent} from './utils';\n\ninterface FocusWithinProps {\n  /** Whether the focus within events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when the target element or a descendant receives focus. */\n  onFocusWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the target element and all descendants lose focus. */\n  onBlurWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the the focus within state changes. */\n  onFocusWithinChange?: (isFocusWithin: boolean) => void\n}\n\ninterface FocusWithinResult {\n  /** Props to spread onto the target element. */\n  focusWithinProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles focus events for the target and its descendants.\n */\nexport function useFocusWithin(props: FocusWithinProps): FocusWithinResult {\n  let state = useRef({\n    isFocusWithin: false\n  }).current;\n\n  let onBlur = props.isDisabled ? null : (e: FocusEvent) => {\n    // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n    // when moving focus inside the element. Only trigger if the currentTarget doesn't\n    // include the relatedTarget (where focus is moving).\n    if (state.isFocusWithin && !(e.currentTarget as Element).contains(e.relatedTarget as Element)) {\n      state.isFocusWithin = false;\n\n      if (props.onBlurWithin) {\n        props.onBlurWithin(e);\n      }\n\n      if (props.onFocusWithinChange) {\n        props.onFocusWithinChange(false);\n      }\n    }\n  };\n\n  let onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n  let onFocus = props.isDisabled ? null : (e: FocusEvent) => {\n    if (!state.isFocusWithin) {\n      if (props.onFocusWithin) {\n        props.onFocusWithin(e);\n      }\n\n      if (props.onFocusWithinChange) {\n        props.onFocusWithinChange(true);\n      }\n\n      state.isFocusWithin = true;\n      onSyntheticFocus(e);\n    }\n  };\n\n  return {\n    focusWithinProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {HoverEvents} from '@react-types/shared';\nimport {HTMLAttributes, useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface HoverProps extends HoverEvents {\n  /** Whether the hover events should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface HoverResult {\n  /** Props to spread on the target element. */\n  hoverProps: HTMLAttributes<HTMLElement>,\n  isHovered: boolean\n}\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet globalIgnoreEmulatedMouseEvents = false;\nlet hoverCount = 0;\n\nfunction setGlobalIgnoreEmulatedMouseEvents() {\n  globalIgnoreEmulatedMouseEvents = true;\n\n  // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n  // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n  // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n  // the distant future because a user previously touched the element.\n  setTimeout(() => {\n    globalIgnoreEmulatedMouseEvents = false;\n  }, 50);\n}\n\nfunction handleGlobalPointerEvent(e) {\n  if (e.pointerType === 'touch') {\n    setGlobalIgnoreEmulatedMouseEvents();\n  }\n}\n\nfunction setupGlobalTouchEvents() {\n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerup', handleGlobalPointerEvent);\n  } else {\n    document.addEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n  }\n\n  hoverCount++;\n  return () => {\n    hoverCount--;\n    if (hoverCount > 0) {\n      return;\n    }\n\n    if (typeof PointerEvent !== 'undefined') {\n      document.removeEventListener('pointerup', handleGlobalPointerEvent);\n    } else {\n      document.removeEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n    }\n  };\n}\n\n/**\n * Handles pointer hover interactions for an element. Normalizes behavior\n * across browsers and platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useHover(props: HoverProps): HoverResult {\n  let {\n    onHoverStart,\n    onHoverChange,\n    onHoverEnd,\n    isDisabled\n  } = props;\n\n  let [isHovered, setHovered] = useState(false);\n  let state = useRef({\n    isHovered: false,\n    ignoreEmulatedMouseEvents: false,\n    pointerType: '',\n    target: null\n  }).current;\n\n  useEffect(setupGlobalTouchEvents, []);\n\n  let {hoverProps, triggerHoverEnd} = useMemo(() => {\n    let triggerHoverStart = (event, pointerType) => {\n      state.pointerType = pointerType;\n      if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) {\n        return;\n      }\n\n      state.isHovered = true;\n      let target = event.currentTarget;\n      state.target = target;\n\n      if (onHoverStart) {\n        onHoverStart({\n          type: 'hoverstart',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(true);\n      }\n\n      setHovered(true);\n    };\n\n    let triggerHoverEnd = (event, pointerType) => {\n      state.pointerType = '';\n      state.target = null;\n\n      if (pointerType === 'touch' || !state.isHovered) {\n        return;\n      }\n\n      state.isHovered = false;\n      let target = event.currentTarget;\n      if (onHoverEnd) {\n        onHoverEnd({\n          type: 'hoverend',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(false);\n      }\n\n      setHovered(false);\n    };\n\n    let hoverProps: HTMLAttributes<HTMLElement> = {};\n\n    if (typeof PointerEvent !== 'undefined') {\n      hoverProps.onPointerEnter = (e) => {\n        if (globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') {\n          return;\n        }\n\n        triggerHoverStart(e, e.pointerType);\n      };\n\n      hoverProps.onPointerLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as HTMLElement)) {\n          triggerHoverEnd(e, e.pointerType);\n        }\n      };\n    } else {\n      hoverProps.onTouchStart = () => {\n        state.ignoreEmulatedMouseEvents = true;\n      };\n\n      hoverProps.onMouseEnter = (e) => {\n        if (!state.ignoreEmulatedMouseEvents && !globalIgnoreEmulatedMouseEvents) {\n          triggerHoverStart(e, 'mouse');\n        }\n\n        state.ignoreEmulatedMouseEvents = false;\n      };\n\n      hoverProps.onMouseLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as HTMLElement)) {\n          triggerHoverEnd(e, 'mouse');\n        }\n      };\n    }\n    return {hoverProps, triggerHoverEnd};\n  }, [onHoverStart, onHoverChange, onHoverEnd, isDisabled, state]);\n\n  useEffect(() => {\n    // Call the triggerHoverEnd as soon as isDisabled changes to true\n    // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n    if (isDisabled) {\n      triggerHoverEnd({currentTarget: state.target}, state.pointerType);\n    }\n  }, [isDisabled]);\n\n  return {\n    hoverProps,\n    isHovered\n  };\n}\n\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {RefObject, SyntheticEvent, useEffect, useRef} from 'react';\n\ninterface InteractOutsideProps {\n  ref: RefObject<Element>,\n  onInteractOutside?: (e: SyntheticEvent) => void,\n  onInteractOutsideStart?: (e: SyntheticEvent) => void,\n  /** Whether the interact outside events should be disabled. */\n  isDisabled?: boolean\n}\n\n/**\n * Example, used in components like Dialogs and Popovers so they can close\n * when a user clicks outside them.\n */\nexport function useInteractOutside(props: InteractOutsideProps) {\n  let {ref, onInteractOutside, isDisabled, onInteractOutsideStart} = props;\n  let stateRef = useRef({\n    isPointerDown: false,\n    ignoreEmulatedMouseEvents: false,\n    onInteractOutside,\n    onInteractOutsideStart\n  });\n  let state = stateRef.current;\n  state.onInteractOutside = onInteractOutside;\n  state.onInteractOutsideStart = onInteractOutsideStart;\n\n  useEffect(() => {\n    if (isDisabled) {\n      return;\n    }\n\n    let onPointerDown = (e) => {\n      if (isValidEvent(e, ref) && state.onInteractOutside) {\n        if (state.onInteractOutsideStart) {\n          state.onInteractOutsideStart(e);\n        }\n        state.isPointerDown = true;\n      }\n    };\n\n    // Use pointer events if available. Otherwise, fall back to mouse and touch events.\n    if (typeof PointerEvent !== 'undefined') {\n      let onPointerUp = (e) => {\n        if (state.isPointerDown && state.onInteractOutside && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      // changing these to capture phase fixed combobox\n      document.addEventListener('pointerdown', onPointerDown, true);\n      document.addEventListener('pointerup', onPointerUp, true);\n\n      return () => {\n        document.removeEventListener('pointerdown', onPointerDown, true);\n        document.removeEventListener('pointerup', onPointerUp, true);\n      };\n    } else {\n      let onMouseUp = (e) => {\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n        } else if (state.isPointerDown && state.onInteractOutside && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      let onTouchEnd = (e) => {\n        state.ignoreEmulatedMouseEvents = true;\n        if (state.onInteractOutside && state.isPointerDown && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      document.addEventListener('mousedown', onPointerDown, true);\n      document.addEventListener('mouseup', onMouseUp, true);\n      document.addEventListener('touchstart', onPointerDown, true);\n      document.addEventListener('touchend', onTouchEnd, true);\n\n      return () => {\n        document.removeEventListener('mousedown', onPointerDown, true);\n        document.removeEventListener('mouseup', onMouseUp, true);\n        document.removeEventListener('touchstart', onPointerDown, true);\n        document.removeEventListener('touchend', onTouchEnd, true);\n      };\n    }\n  }, [ref, state, isDisabled]);\n}\n\nfunction isValidEvent(event, ref) {\n  if (event.button > 0) {\n    return false;\n  }\n\n  // if the event target is no longer in the document\n  if (event.target) {\n    const ownerDocument = event.target.ownerDocument;\n    if (!ownerDocument || !ownerDocument.documentElement.contains(event.target)) {\n      return false;\n    }\n  }\n\n  return ref.current && !ref.current.contains(event.target);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {BaseEvent} from '@react-types/shared';\nimport {SyntheticEvent} from 'react';\n\n/**\n * This function wraps a React event handler to make stopPropagation the default, and support continuePropagation instead.\n */\nexport function createEventHandler<T extends SyntheticEvent>(handler: (e: BaseEvent<T>) => void): (e: T) => void {\n  if (!handler) {\n    return;\n  }\n\n  let shouldStopPropagation = true;\n  return (e: T) => {\n    let event: BaseEvent<T> = {\n      ...e,\n      preventDefault() {\n        e.preventDefault();\n      },\n      isDefaultPrevented() {\n        return e.isDefaultPrevented();\n      },\n      stopPropagation() {\n        console.error('stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.');\n      },\n      continuePropagation() {\n        shouldStopPropagation = false;\n      }\n    };\n\n    handler(event);\n\n    if (shouldStopPropagation) {\n      e.stopPropagation();\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {createEventHandler} from './createEventHandler';\nimport {HTMLAttributes} from 'react';\nimport {KeyboardEvents} from '@react-types/shared';\n\nexport interface KeyboardProps extends KeyboardEvents {\n  /** Whether the keyboard events should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface KeyboardResult {\n  /** Props to spread onto the target element. */\n  keyboardProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles keyboard interactions for a focusable element.\n */\nexport function useKeyboard(props: KeyboardProps): KeyboardResult {\n  return {\n    keyboardProps: props.isDisabled ? {} : {\n      onKeyDown: createEventHandler(props.onKeyDown),\n      onKeyUp: createEventHandler(props.onKeyUp)\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {disableTextSelection, restoreTextSelection}  from './textSelection';\nimport {MoveEvents, PointerType} from '@react-types/shared';\nimport React, {HTMLAttributes, useMemo, useRef} from 'react';\nimport {useGlobalListeners} from '@react-aria/utils';\n\ninterface MoveResult {\n  /** Props to spread on the target element. */\n  moveProps: HTMLAttributes<HTMLElement>\n}\n\ninterface EventBase {\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\n/**\n * Handles move interactions across mouse, touch, and keyboard, including dragging with\n * the mouse or touch, and using the arrow keys. Normalizes behavior across browsers and\n * platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useMove(props: MoveEvents): MoveResult {\n  let {onMoveStart, onMove, onMoveEnd} = props;\n\n  let state = useRef<{\n    didMove: boolean,\n    lastPosition: {pageX: number, pageY: number} | null,\n    id: number | null\n  }>({didMove: false, lastPosition: null, id: null});\n\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let moveProps = useMemo(() => {\n    let moveProps: HTMLAttributes<HTMLElement> = {};\n\n    let start = () => {\n      disableTextSelection();\n      state.current.didMove = false;\n    };\n    let move = (originalEvent: EventBase, pointerType: PointerType, deltaX: number, deltaY: number) => {\n      if (deltaX === 0 && deltaY === 0) {\n        return;\n      }\n\n      if (!state.current.didMove) {\n        state.current.didMove = true;\n        onMoveStart?.({\n          type: 'movestart',\n          pointerType,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n      onMove({\n        type: 'move',\n        pointerType,\n        deltaX: deltaX,\n        deltaY: deltaY,\n        shiftKey: originalEvent.shiftKey,\n        metaKey: originalEvent.metaKey,\n        ctrlKey: originalEvent.ctrlKey,\n        altKey: originalEvent.altKey\n      });\n    };\n    let end = (originalEvent: EventBase, pointerType: PointerType) => {\n      restoreTextSelection();\n      if (state.current.didMove) {\n        onMoveEnd?.({\n          type: 'moveend',\n          pointerType,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    if (typeof PointerEvent === 'undefined') {\n      let onMouseMove = (e: MouseEvent) => {\n        if (e.button === 0) {\n          move(e, 'mouse', e.pageX - state.current.lastPosition.pageX, e.pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n      let onMouseUp = (e: MouseEvent) => {\n        if (e.button === 0) {\n          end(e, 'mouse');\n          removeGlobalListener(window, 'mousemove', onMouseMove, false);\n          removeGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n      moveProps.onMouseDown = (e: React.MouseEvent) => {\n        if (e.button === 0) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          addGlobalListener(window, 'mousemove', onMouseMove, false);\n          addGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n\n      let onTouchMove = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          let {pageX, pageY} = e.changedTouches[touch];\n          move(e, 'touch', pageX - state.current.lastPosition.pageX, pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX, pageY};\n        }\n      };\n      let onTouchEnd = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          end(e, 'touch');\n          state.current.id = null;\n          removeGlobalListener(window, 'touchmove', onTouchMove);\n          removeGlobalListener(window, 'touchend', onTouchEnd);\n          removeGlobalListener(window, 'touchcancel', onTouchEnd);\n        }\n      };\n      moveProps.onTouchStart = (e: React.TouchEvent) => {\n        if (e.changedTouches.length === 0 || state.current.id != null) {\n          return;\n        }\n\n        let {pageX, pageY, identifier} = e.changedTouches[0];\n        start();\n        e.stopPropagation();\n        e.preventDefault();\n        state.current.lastPosition = {pageX, pageY};\n        state.current.id = identifier;\n        addGlobalListener(window, 'touchmove', onTouchMove, false);\n        addGlobalListener(window, 'touchend', onTouchEnd, false);\n        addGlobalListener(window, 'touchcancel', onTouchEnd, false);\n      };\n    } else {\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n\n          // Problems with PointerEvent#movementX/movementY:\n          // 1. it is always 0 on macOS Safari.\n          // 2. On Chrome Android, it's scaled by devicePixelRatio, but not on Chrome macOS\n          move(e, pointerType, e.pageX - state.current.lastPosition.pageX, e.pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n          end(e, pointerType);\n          state.current.id = null;\n          removeGlobalListener(window, 'pointermove', onPointerMove, false);\n          removeGlobalListener(window, 'pointerup', onPointerUp, false);\n          removeGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n\n      moveProps.onPointerDown = (e: React.PointerEvent) => {\n        if (e.button === 0 && state.current.id == null) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          state.current.id = e.pointerId;\n          addGlobalListener(window, 'pointermove', onPointerMove, false);\n          addGlobalListener(window, 'pointerup', onPointerUp, false);\n          addGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n    }\n\n    let triggerKeyboardMove = (e: EventBase, deltaX: number, deltaY: number) => {\n      start();\n      move(e, 'keyboard', deltaX, deltaY);\n      end(e, 'keyboard');\n    };\n\n    moveProps.onKeyDown = (e) => {\n      switch (e.key) {\n        case 'Left':\n        case 'ArrowLeft':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, -1, 0);\n          break;\n        case 'Right':\n        case 'ArrowRight':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 1, 0);\n          break;\n        case 'Up':\n        case 'ArrowUp':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, -1);\n          break;\n        case 'Down':\n        case 'ArrowDown':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, 1);\n          break;\n      }\n    };\n\n    return moveProps;\n  }, [state, onMoveStart, onMove, onMoveEnd, addGlobalListener, removeGlobalListener]);\n\n  return {moveProps};\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useCallback} from 'react';\nimport {ScrollEvents} from '@react-types/shared';\nimport {useEvent} from '@react-aria/utils';\n\nexport interface ScrollWheelProps extends ScrollEvents {\n  /** Whether the scroll listener should be disabled. */\n  isDisabled?: boolean\n}\n\n// scroll wheel needs to be added not passively so it's cancelable, small helper hook to remember that\nexport function useScrollWheel(props: ScrollWheelProps, ref: RefObject<HTMLElement>): void {\n  let {onScroll, isDisabled} = props;\n  let onScrollHandler = useCallback((e) => {\n    // If the ctrlKey is pressed, this is a zoom event, do nothing.\n    if (e.ctrlKey) {\n      return;\n    }\n\n    // stop scrolling the page\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (onScroll) {\n      onScroll({deltaX: e.deltaX, deltaY: e.deltaY});\n    }\n  }, [onScroll]);\n\n  useEvent(ref, 'wheel', isDisabled ? null : onScrollHandler);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {HTMLAttributes, useRef} from 'react';\nimport {LongPressEvent} from '@react-types/shared';\nimport {mergeProps, useDescription, useGlobalListeners} from '@react-aria/utils';\nimport {usePress} from './usePress';\n\ninterface LongPressProps {\n  /** Whether long press events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when a long press interaction starts. */\n  onLongPressStart?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when a long press interaction ends, either\n   * over the target or when the pointer leaves the target.\n   */\n  onLongPressEnd?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when the threshold time is met while\n   * the press is over the target.\n   */\n  onLongPress?: (e: LongPressEvent) => void,\n  /**\n   * The amount of time in milliseconds to wait before triggering a long press.\n   * @default 500ms\n   */\n  threshold?: number,\n  /**\n   * A description for assistive techology users indicating that a long press\n   * action is available, e.g. \"Long press to open menu\".\n   */\n  accessibilityDescription?: string\n}\n\ninterface LongPressResult {\n  /** Props to spread on the target element. */\n  longPressProps: HTMLAttributes<HTMLElement>\n}\n\nconst DEFAULT_THRESHOLD = 500;\n\n/**\n * Handles long press interactions across mouse and touch devices. Supports a customizable time threshold,\n * accessibility description, and normalizes behavior across browsers and devices.\n */\nexport function useLongPress(props: LongPressProps): LongPressResult {\n  let {\n    isDisabled,\n    onLongPressStart,\n    onLongPressEnd,\n    onLongPress,\n    threshold = DEFAULT_THRESHOLD,\n    accessibilityDescription\n  } = props;\n\n  const timeRef = useRef(null);\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let {pressProps} = usePress({\n    isDisabled,\n    onPressStart(e) {\n      if (e.pointerType === 'mouse' || e.pointerType === 'touch') {\n        if (onLongPressStart) {\n          onLongPressStart({\n            ...e,\n            type: 'longpressstart'\n          });\n        }\n\n        timeRef.current = setTimeout(() => {\n          // Prevent other usePress handlers from also handling this event.\n          e.target.dispatchEvent(new PointerEvent('pointercancel', {bubbles: true}));\n          if (onLongPress) {\n            onLongPress({\n              ...e,\n              type: 'longpress'\n            });\n          }\n          timeRef.current = null;\n        }, threshold);\n\n        // Prevent context menu, which may be opened on long press on touch devices\n        if (e.pointerType === 'touch') {\n          let onContextMenu = e => {\n            e.preventDefault();\n          };\n\n          addGlobalListener(e.target, 'contextmenu', onContextMenu, {once: true});\n          addGlobalListener(window, 'pointerup', () => {\n            // If no contextmenu event is fired quickly after pointerup, remove the handler\n            // so future context menu events outside a long press are not prevented.\n            setTimeout(() => {\n              removeGlobalListener(e.target, 'contextmenu', onContextMenu);\n            }, 30);\n          }, {once: true});\n        }\n      }\n    },\n    onPressEnd(e) {\n      if (timeRef.current) {\n        clearTimeout(timeRef.current);\n      }\n\n      if (onLongPressEnd && (e.pointerType === 'mouse' || e.pointerType === 'touch')) {\n        onLongPressEnd({\n          ...e,\n          type: 'longpressend'\n        });\n      }\n    }\n  });\n\n  let descriptionProps = useDescription(onLongPress && !isDisabled ? accessibilityDescription : null);\n\n  return {\n    longPressProps: mergeProps(pressProps, descriptionProps)\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {focusWithoutScrolling, runAfterTransition} from '@react-aria/utils';\nimport {getInteractionModality} from '@react-aria/interactions';\n\n/**\n * A utility function that focuses an element while avoiding undesired side effects such\n * as page scrolling and screen reader issues with CSS transitions.\n */\nexport function focusSafely(element: HTMLElement) {\n  // If the user is interacting with a virtual cursor, e.g. screen reader, then\n  // wait until after any animated transitions that are currently occurring on\n  // the page before shifting focus. This avoids issues with VoiceOver on iOS\n  // causing the page to scroll when moving focus if the element is transitioning\n  // from off the screen.\n  if (getInteractionModality() === 'virtual') {\n    let lastFocusedElement = document.activeElement;\n    runAfterTransition(() => {\n      // If focus did not move and the element is still in the document, focus it.\n      if (document.activeElement === lastFocusedElement && document.contains(element)) {\n        focusWithoutScrolling(element);\n      }\n    });\n  } else {\n    focusWithoutScrolling(element);\n  }\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction isStyleVisible(element: Element) {\n  if (!(element instanceof HTMLElement) && !(element instanceof SVGElement)) {\n    return false;\n  }\n\n  let {display, visibility} = element.style;\n\n  let isVisible = (\n    display !== 'none' &&\n    visibility !== 'hidden' &&\n    visibility !== 'collapse'\n  );\n\n  if (isVisible) {\n    const {getComputedStyle} = element.ownerDocument.defaultView;\n    let {display: computedDisplay, visibility: computedVisibility} = getComputedStyle(element);\n\n    isVisible = (\n      computedDisplay !== 'none' &&\n      computedVisibility !== 'hidden' &&\n      computedVisibility !== 'collapse'\n    );\n  }\n\n  return isVisible;\n}\n\nfunction isAttributeVisible(element: Element, childElement?: Element) {\n  return (\n    !element.hasAttribute('hidden') &&\n    (element.nodeName === 'DETAILS' &&\n      childElement &&\n      childElement.nodeName !== 'SUMMARY'\n      ? element.hasAttribute('open')\n      : true)\n  );\n}\n\n/**\n * Adapted from https://github.com/testing-library/jest-dom and \n * https://github.com/vuejs/vue-test-utils-next/.\n * Licensed under the MIT License.\n * @param element - Element to evaluate for display or visibility.\n */  \nexport function isElementVisible(element: Element, childElement?: Element) {\n  return (\n    element.nodeName !== '#comment' &&\n    isStyleVisible(element) &&\n    isAttributeVisible(element, childElement) &&\n    (!element.parentElement || isElementVisible(element.parentElement, element))\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {focusSafely} from './focusSafely';\nimport {isElementVisible} from './isElementVisible';\nimport React, {ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\n// import {FocusScope, useFocusScope} from 'react-events/focus-scope';\n// export {FocusScope};\n\ninterface FocusScopeProps {\n  /** The contents of the focus scope. */\n  children: ReactNode,\n\n  /**\n   * Whether to contain focus inside the scope, so users cannot\n   * move focus outside, for example in a modal dialog.\n   */\n  contain?: boolean,\n\n  /**\n   * Whether to restore focus back to the element that was focused\n   * when the focus scope mounted, after the focus scope unmounts.\n   */\n  restoreFocus?: boolean,\n\n  /** Whether to auto focus the first focusable element in the focus scope on mount. */\n  autoFocus?: boolean\n}\n\ninterface FocusManagerOptions {\n  /** The element to start searching from. The currently focused element by default. */\n  from?: HTMLElement,\n  /** Whether to only include tabbable elements, or all focusable elements. */\n  tabbable?: boolean,\n  /** Whether focus should wrap around when it reaches the end of the scope. */\n  wrap?: boolean\n}\n\nexport interface FocusManager {\n  /** Moves focus to the next focusable or tabbable element in the focus scope. */\n  focusNext(opts?: FocusManagerOptions): HTMLElement,\n  /** Moves focus to the previous focusable or tabbable element in the focus scope. */\n  focusPrevious(opts?: FocusManagerOptions): HTMLElement,\n  /** Moves focus to the first focusable or tabbable element in the focus scope. */\n  focusFirst(opts?: FocusManagerOptions): HTMLElement,\n    /** Moves focus to the last focusable or tabbable element in the focus scope. */\n  focusLast(opts?: FocusManagerOptions): HTMLElement\n}\n\ntype ScopeRef = RefObject<HTMLElement[]>;\ninterface IFocusContext {\n  scopeRef: ScopeRef,\n  focusManager: FocusManager\n}\n\nconst FocusContext = React.createContext<IFocusContext>(null);\n\nlet activeScope: ScopeRef = null;\nlet scopes: Map<ScopeRef, ScopeRef | null> = new Map();\n\n// This is a hacky DOM-based implementation of a FocusScope until this RFC lands in React:\n// https://github.com/reactjs/rfcs/pull/109\n// For now, it relies on the DOM tree order rather than the React tree order, and is probably\n// less optimized for performance.\n\n/**\n * A FocusScope manages focus for its descendants. It supports containing focus inside\n * the scope, restoring focus to the previously focused element on unmount, and auto\n * focusing children on mount. It also acts as a container for a programmatic focus\n * management interface that can be used to move focus forward and back in response\n * to user events.\n */\nexport function FocusScope(props: FocusScopeProps) {\n  let {children, contain, restoreFocus, autoFocus} = props;\n  let startRef = useRef<HTMLSpanElement>();\n  let endRef = useRef<HTMLSpanElement>();\n  let scopeRef = useRef<HTMLElement[]>([]);\n  let ctx = useContext(FocusContext);\n  let parentScope = ctx?.scopeRef;\n\n  useLayoutEffect(() => {\n    // Find all rendered nodes between the sentinels and add them to the scope.\n    let node = startRef.current.nextSibling;\n    let nodes = [];\n    while (node && node !== endRef.current) {\n      nodes.push(node);\n      node = node.nextSibling;\n    }\n\n    scopeRef.current = nodes;\n  }, [children, parentScope]);\n\n  useLayoutEffect(() => {\n    scopes.set(scopeRef, parentScope);\n    return () => {\n      // Restore the active scope on unmount if this scope or a descendant scope is active.\n      // Parent effect cleanups run before children, so we need to check if the\n      // parent scope actually still exists before restoring the active scope to it.\n      if (\n        (scopeRef === activeScope || isAncestorScope(scopeRef, activeScope)) &&\n        (!parentScope || scopes.has(parentScope))\n      ) {\n        activeScope = parentScope;\n      }\n      scopes.delete(scopeRef);\n    };\n  }, [scopeRef, parentScope]);\n\n  useFocusContainment(scopeRef, contain);\n  useRestoreFocus(scopeRef, restoreFocus, contain);\n  useAutoFocus(scopeRef, autoFocus);\n\n  let focusManager = createFocusManagerForScope(scopeRef);\n\n  return (\n    <FocusContext.Provider value={{scopeRef, focusManager}}>\n      <span data-focus-scope-start hidden ref={startRef} />\n      {children}\n      <span data-focus-scope-end hidden ref={endRef} />\n    </FocusContext.Provider>\n  );\n}\n\n/**\n * Returns a FocusManager interface for the parent FocusScope.\n * A FocusManager can be used to programmatically move focus within\n * a FocusScope, e.g. in response to user events like keyboard navigation.\n */\nexport function useFocusManager(): FocusManager {\n  return useContext(FocusContext)?.focusManager;\n}\n\nfunction createFocusManagerForScope(scopeRef: React.RefObject<HTMLElement[]>): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[0].previousElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let nextNode = walker.nextNode() as HTMLElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = sentinel;\n        nextNode = walker.nextNode() as HTMLElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[scope.length - 1].nextElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let previousNode = walker.previousNode() as HTMLElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = sentinel;\n        previousNode = walker.previousNode() as HTMLElement;\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n      walker.currentNode = scope[0].previousElementSibling;\n      let nextNode = walker.nextNode() as HTMLElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n      walker.currentNode = scope[scope.length - 1].nextElementSibling;\n      let previousNode = walker.previousNode() as HTMLElement;\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    }\n  };\n}\n\nconst focusableElements = [\n  'input:not([disabled]):not([type=hidden])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  'button:not([disabled])',\n  'a[href]',\n  'area[href]',\n  'summary',\n  'iframe',\n  'object',\n  'embed',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]'\n];\n\nconst FOCUSABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]),') + ',[tabindex]:not([disabled]):not([hidden])';\n\nfocusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nconst TABBABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\n\nfunction getScopeRoot(scope: HTMLElement[]) {\n  return scope[0].parentElement;\n}\n\nfunction useFocusContainment(scopeRef: RefObject<HTMLElement[]>, contain: boolean) {\n  let focusedNode = useRef<HTMLElement>();\n\n  let raf = useRef(null);\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!contain) {\n      return;\n    }\n\n    // Handle the Tab key to contain focus within the scope\n    let onKeyDown = (e) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey || scopeRef !== activeScope) {\n        return;\n      }\n\n      let focusedElement = document.activeElement as HTMLElement;\n      let scope = scopeRef.current;\n      if (!isElementInScope(focusedElement, scope)) {\n        return;\n      }\n\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: true}, scope);\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as HTMLElement;\n      if (!nextElement) {\n        walker.currentNode = e.shiftKey ? scope[scope.length - 1].nextElementSibling : scope[0].previousElementSibling;\n        nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode())  as HTMLElement;\n      }\n\n      e.preventDefault();\n      if (nextElement) {\n        focusElement(nextElement, true);\n      }\n    };\n\n    let onFocus = (e) => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if (!activeScope || isAncestorScope(activeScope, scopeRef)) {\n        activeScope = scopeRef;\n        focusedNode.current = e.target;\n      } else if (scopeRef === activeScope && !isElementInChildScope(e.target, scopeRef)) {\n        // If a focus event occurs outside the active scope (e.g. user tabs from browser location bar),\n        // restore focus to the previously focused node or the first tabbable element in the active scope.\n        if (focusedNode.current) {\n          focusedNode.current.focus();\n        } else if (activeScope) {\n          focusFirstInScope(activeScope.current);\n        }\n      } else if (scopeRef === activeScope) {\n        focusedNode.current = e.target;\n      }\n    };\n\n    let onBlur = (e) => {\n      // Firefox doesn't shift focus back to the Dialog properly without this\n      raf.current = requestAnimationFrame(() => {\n        // Use document.activeElement instead of e.relatedTarget so we can tell if user clicked into iframe\n        if (scopeRef === activeScope && !isElementInChildScope(document.activeElement, scopeRef)) {\n          activeScope = scopeRef;\n          focusedNode.current = e.target;\n          focusedNode.current.focus();\n        }\n      });\n    };\n\n    document.addEventListener('keydown', onKeyDown, false);\n    document.addEventListener('focusin', onFocus, false);\n    scope.forEach(element => element.addEventListener('focusin', onFocus, false));\n    scope.forEach(element => element.addEventListener('focusout', onBlur, false));\n    return () => {\n      document.removeEventListener('keydown', onKeyDown, false);\n      document.removeEventListener('focusin', onFocus, false);\n      scope.forEach(element => element.removeEventListener('focusin', onFocus, false));\n      scope.forEach(element => element.removeEventListener('focusout', onBlur, false));\n    };\n  }, [scopeRef, contain]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => cancelAnimationFrame(raf.current);\n  }, [raf]);\n}\n\nfunction isElementInAnyScope(element: Element) {\n  for (let scope of scopes.keys()) {\n    if (isElementInScope(element, scope.current)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isElementInScope(element: Element, scope: HTMLElement[]) {\n  return scope.some(node => node.contains(element));\n}\n\nfunction isElementInChildScope(element: Element, scope: ScopeRef) {\n  // node.contains in isElementInScope covers child scopes that are also DOM children,\n  // but does not cover child scopes in portals.\n  for (let s of scopes.keys()) {\n    if ((s === scope || isAncestorScope(scope, s)) && isElementInScope(element, s.current)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isAncestorScope(ancestor: ScopeRef, scope: ScopeRef) {\n  let parent = scopes.get(scope);\n  if (!parent) {\n    return false;\n  }\n\n  if (parent === ancestor) {\n    return true;\n  }\n\n  return isAncestorScope(ancestor, parent);\n}\n\nfunction focusElement(element: HTMLElement | null, scroll = false) {\n  if (element != null && !scroll) {\n    try {\n      focusSafely(element);\n    } catch (err) {\n      // ignore\n    }\n  } else if (element != null) {\n    try {\n      element.focus();\n    } catch (err) {\n      // ignore\n    }\n  }\n}\n\nfunction focusFirstInScope(scope: HTMLElement[]) {\n  let sentinel = scope[0].previousElementSibling;\n  let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: true}, scope);\n  walker.currentNode = sentinel;\n  focusElement(walker.nextNode() as HTMLElement);\n}\n\nfunction useAutoFocus(scopeRef: RefObject<HTMLElement[]>, autoFocus: boolean) {\n  const autoFocusRef = React.useRef(autoFocus);\n  useEffect(() => {\n    if (autoFocusRef.current) {\n      activeScope = scopeRef;\n      if (!isElementInScope(document.activeElement, activeScope.current)) {\n        focusFirstInScope(scopeRef.current);\n      }\n    }\n    autoFocusRef.current = false;\n  }, []);\n}\n\nfunction useRestoreFocus(scopeRef: RefObject<HTMLElement[]>, restoreFocus: boolean, contain: boolean) {\n  // create a ref during render instead of useLayoutEffect so the active element is saved before a child with autoFocus=true mounts.\n  const nodeToRestoreRef = useRef(typeof document !== 'undefined' ? document.activeElement as HTMLElement : null);\n\n  // useLayoutEffect instead of useEffect so the active element is saved synchronously instead of asynchronously.\n  useLayoutEffect(() => {\n    let nodeToRestore = nodeToRestoreRef.current;\n    if (!restoreFocus) {\n      return;\n    }\n\n    // Handle the Tab key so that tabbing out of the scope goes to the next element\n    // after the node that had focus when the scope mounted. This is important when\n    // using portals for overlays, so that focus goes to the expected element when\n    // tabbing out of the overlay.\n    let onKeyDown = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n\n      let focusedElement = document.activeElement as HTMLElement;\n      if (!isElementInScope(focusedElement, scopeRef.current)) {\n        return;\n      }\n\n      // Create a DOM tree walker that matches all tabbable elements\n      let walker = getFocusableTreeWalker(document.body, {tabbable: true});\n\n      // Find the next tabbable element after the currently focused element\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as HTMLElement;\n\n      if (!document.body.contains(nodeToRestore) || nodeToRestore === document.body) {\n        nodeToRestore = null;\n      }\n\n      // If there is no next element, or it is outside the current scope, move focus to the\n      // next element after the node to restore to instead.\n      if ((!nextElement || !isElementInScope(nextElement, scopeRef.current)) && nodeToRestore) {\n        walker.currentNode = nodeToRestore;\n\n        // Skip over elements within the scope, in case the scope immediately follows the node to restore.\n        do {\n          nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as HTMLElement;\n        } while (isElementInScope(nextElement, scopeRef.current));\n\n        e.preventDefault();\n        e.stopPropagation();\n        if (nextElement) {\n          focusElement(nextElement, true);\n        } else {\n           // If there is no next element and the nodeToRestore isn't within a FocusScope (i.e. we are leaving the top level focus scope)\n           // then move focus to the body.\n           // Otherwise restore focus to the nodeToRestore (e.g menu within a popover -> tabbing to close the menu should move focus to menu trigger)\n          if (!isElementInAnyScope(nodeToRestore)) {\n            focusedElement.blur();\n          } else {\n            focusElement(nodeToRestore, true);\n          }\n        }\n      }\n    };\n\n    if (!contain) {\n      document.addEventListener('keydown', onKeyDown, true);\n    }\n\n    return () => {\n      if (!contain) {\n        document.removeEventListener('keydown', onKeyDown, true);\n      }\n\n      if (restoreFocus && nodeToRestore && isElementInScope(document.activeElement, scopeRef.current)) {\n        requestAnimationFrame(() => {\n          if (document.body.contains(nodeToRestore)) {\n            focusElement(nodeToRestore);\n          }\n        });\n      }\n    };\n  }, [scopeRef, restoreFocus, contain]);\n}\n\n/**\n * Create a [TreeWalker]{@link https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker}\n * that matches all focusable/tabbable elements.\n */\nexport function getFocusableTreeWalker(root: HTMLElement, opts?: FocusManagerOptions, scope?: HTMLElement[]) {\n  let selector = opts?.tabbable ? TABBABLE_ELEMENT_SELECTOR : FOCUSABLE_ELEMENT_SELECTOR;\n  let walker = document.createTreeWalker(\n    root,\n    NodeFilter.SHOW_ELEMENT,\n    {\n      acceptNode(node) {\n        // Skip nodes inside the starting node.\n        if (opts?.from?.contains(node)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n\n        if ((node as HTMLElement).matches(selector)\n          && isElementVisible(node as HTMLElement)\n          && (!scope || isElementInScope(node as HTMLElement, scope))) {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n\n        return NodeFilter.FILTER_SKIP;\n      }\n    }\n  );\n\n  if (opts?.from) {\n    walker.currentNode = opts.from;\n  }\n\n  return walker;\n}\n\n/**\n * Creates a FocusManager object that can be used to move focus within an element.\n */\nexport function createFocusManager(ref: RefObject<HTMLElement>): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let root = ref.current;\n      let {from, tabbable, wrap} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      }\n      let nextNode = walker.nextNode() as HTMLElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = root;\n        nextNode = walker.nextNode() as HTMLElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = {}) {\n      let root = ref.current;\n      let {from, tabbable, wrap} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      } else {\n        let next = last(walker);\n        if (next) {\n          focusElement(next, true);\n        }\n        return next;\n      }\n      let previousNode = walker.previousNode() as HTMLElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = root;\n        previousNode = last(walker);\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = {}) {\n      let root = ref.current;\n      let {tabbable} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable});\n      let nextNode = walker.nextNode() as HTMLElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = {}) {\n      let root = ref.current;\n      let {tabbable} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable});\n      let next = last(walker);\n      if (next) {\n        focusElement(next, true);\n      }\n      return next;\n    }\n  };\n}\n\nfunction last(walker: TreeWalker) {\n  let next: HTMLElement;\n  let last: HTMLElement;\n  do {\n    last = walker.lastChild() as HTMLElement;\n    if (last) {\n      next = last;\n    }\n  } while (last);\n  return next;\n}\n","import {HTMLAttributes, useState} from 'react';\nimport {isFocusVisible, useFocus, useFocusVisibleListener, useFocusWithin} from '@react-aria/interactions';\nimport {useRef} from 'react';\n\ninterface FocusRingProps {\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default 'false'\n   */\n  within?: boolean,\n\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\ninterface FocusRingAria {\n  /** Whether the element is currently focused. */\n  isFocused: boolean,\n\n  /** Whether keyboard focus should be visible. */\n  isFocusVisible: boolean,\n\n  /** Props to apply to the container element with the focus ring. */\n  focusProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Determines whether a focus ring should be shown to indicate keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function useFocusRing(props: FocusRingProps = {}): FocusRingAria {\n  let {\n    autoFocus = false,\n    isTextInput,\n    within\n  } = props;\n  let state = useRef({\n    isFocused: false,\n    isFocusVisible: autoFocus || isFocusVisible()\n  }).current;\n  let [isFocused, setFocused] = useState(false);\n  let [isFocusVisibleState, setFocusVisible] = useState(() => state.isFocused && state.isFocusVisible);\n\n  let updateState = () => setFocusVisible(state.isFocused && state.isFocusVisible);\n\n  let onFocusChange = isFocused => {\n    state.isFocused = isFocused;\n    setFocused(isFocused);\n    updateState();\n  };\n\n  useFocusVisibleListener((isFocusVisible) => {\n    state.isFocusVisible = isFocusVisible;\n    updateState();\n  }, [], {isTextInput});\n\n  let {focusProps} = useFocus({\n    isDisabled: within,\n    onFocusChange\n  });\n\n  let {focusWithinProps} = useFocusWithin({\n    isDisabled: !within,\n    onFocusWithinChange: onFocusChange\n  });\n\n  return {\n    isFocused,\n    isFocusVisible: state.isFocused && isFocusVisibleState,\n    focusProps: within ? focusWithinProps : focusProps\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport clsx from 'clsx';\nimport {mergeProps} from '@react-aria/utils';\nimport React, {ReactElement} from 'react';\nimport {useFocusRing} from './useFocusRing';\n\ninterface FocusRingProps {\n  /** Child element to apply CSS classes to. */\n  children: ReactElement,\n  /** CSS class to apply when the element is focused. */\n  focusClass?: string,\n  /** CSS class to apply when the element has keyboard focus. */\n  focusRingClass?: string,\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default false\n   */\n  within?: boolean,\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\n/**\n * A utility component that applies a CSS class when an element has keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function FocusRing(props: FocusRingProps) {\n  let {children, focusClass, focusRingClass} = props;\n  let {isFocused, isFocusVisible, focusProps} = useFocusRing(props);\n  let child = React.Children.only(children);\n\n  return React.cloneElement(child, mergeProps(child.props, {\n    ...focusProps,\n    className: clsx({\n      [focusClass || '']: isFocused,\n      [focusRingClass || '']: isFocusVisible\n    })\n  }));\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableDOMProps, FocusableProps} from '@react-types/shared';\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport React, {HTMLAttributes, MutableRefObject, ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useFocus, useKeyboard} from '@react-aria/interactions';\n\ninterface FocusableOptions extends FocusableProps, FocusableDOMProps {\n  /** Whether focus should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface FocusableProviderProps extends HTMLAttributes<HTMLElement> {\n  /** The child element to provide DOM props to. */\n  children?: ReactNode\n}\n\ninterface FocusableContextValue extends FocusableProviderProps {\n  ref?: MutableRefObject<HTMLElement>\n}\n\nlet FocusableContext = React.createContext<FocusableContextValue>(null);\n\nfunction useFocusableContext(ref: RefObject<HTMLElement>): FocusableContextValue {\n  let context = useContext(FocusableContext) || {};\n  useSyncRef(context, ref);\n\n  // eslint-disable-next-line\n  let {ref: _, ...otherProps} = context;\n  return otherProps;\n}\n\n/**\n * Provides DOM props to the nearest focusable child.\n */\nfunction FocusableProvider(props: FocusableProviderProps, ref: RefObject<HTMLElement>) {\n  let {children, ...otherProps} = props;\n  let context = {\n    ...otherProps,\n    ref\n  };\n\n  return (\n    <FocusableContext.Provider value={context}>\n      {children}\n    </FocusableContext.Provider>\n  );\n}\n\nlet _FocusableProvider = React.forwardRef(FocusableProvider);\nexport {_FocusableProvider as FocusableProvider};\n\n/**\n * Used to make an element focusable and capable of auto focus.\n */\nexport function useFocusable(props: FocusableOptions, domRef: RefObject<HTMLElement>) {\n  let {focusProps} = useFocus(props);\n  let {keyboardProps} = useKeyboard(props);\n  let interactions = mergeProps(focusProps, keyboardProps);\n  let domProps = useFocusableContext(domRef);\n  let interactionProps = props.isDisabled ? {} : domProps;\n  let autoFocusRef = useRef(props.autoFocus);\n\n  useEffect(() => {\n    if (autoFocusRef.current && domRef.current) {\n      domRef.current.focus();\n    }\n    autoFocusRef.current = false;\n  }, []);\n\n  return {\n    focusableProps: mergeProps(\n      {\n        ...interactions,\n        tabIndex: props.excludeFromTabOrder && !props.isDisabled ? -1 : undefined\n      },\n      interactionProps\n    )\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useRef, useState} from 'react';\n\nexport function useControlledState<T>(\n  value: T,\n  defaultValue: T,\n  onChange: (value: T, ...args: any[]) => void\n): [T, (value: T, ...args: any[]) => void]  {\n  let [stateValue, setStateValue] = useState(value || defaultValue);\n  let ref = useRef(value !== undefined);\n  let wasControlled = ref.current;\n  let isControlled = value !== undefined;\n  // Internal state reference for useCallback\n  let stateRef = useRef(stateValue);\n  if (wasControlled !== isControlled) {\n    console.warn(`WARN: A component changed from ${wasControlled ? 'controlled' : 'uncontrolled'} to ${isControlled ? 'controlled' : 'uncontrolled'}.`);\n  }\n\n  ref.current = isControlled;\n\n  let setValue = useCallback((value, ...args) => {\n    let onChangeCaller = (value, ...onChangeArgs) => {\n      if (onChange) {\n        if (!Object.is(stateRef.current, value)) {\n          onChange(value, ...onChangeArgs);\n        }\n      }\n      if (!isControlled) {\n        stateRef.current = value;\n      }\n    };\n\n    if (typeof value === 'function') {\n      console.warn('We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320');\n      // this supports functional updates https://reactjs.org/docs/hooks-reference.html#functional-updates\n      // when someone using useControlledState calls setControlledState(myFunc)\n      // this will call our useState setState with a function as well which invokes myFunc and calls onChange with the value from myFunc\n      // if we're in an uncontrolled state, then we also return the value of myFunc which to setState looks as though it was just called with myFunc from the beginning\n      // otherwise we just return the controlled value, which won't cause a rerender because React knows to bail out when the value is the same\n      let updateFunction = (oldValue, ...functionArgs) => {\n        let interceptedValue = value(isControlled ? stateRef.current : oldValue, ...functionArgs);\n        onChangeCaller(interceptedValue, ...args);\n        if (!isControlled) {\n          return interceptedValue;\n        }\n        return oldValue;\n      };\n      setStateValue(updateFunction);\n    } else {\n      if (!isControlled) {\n        setStateValue(value);\n      }\n      onChangeCaller(value, ...args);\n    }\n  }, [isControlled, onChange]);\n\n  // If a controlled component's value prop changes, we need to update stateRef\n  if (isControlled) {\n    stateRef.current = value;\n  } else {\n    value = stateValue;\n  }\n\n  return [value, setValue];\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Takes a value and forces it to the closest min/max if it's outside. Also forces it to the closest valid step.\n */\nexport function clamp(value: number, min: number = -Infinity, max: number = Infinity): number {\n  let newValue = Math.min(Math.max(value, min), max);\n  return newValue;\n}\n\nexport function snapValueToStep(value: number, min: number, max: number, step: number): number {\n  let remainder = ((value - (isNaN(min) ? 0 : min)) % step);\n  let snappedValue = Math.abs(remainder) * 2 >= step\n    ? value + Math.sign(remainder) * (step - Math.abs(remainder))\n    : value - remainder;\n\n  if (!isNaN(min)) {\n    if (snappedValue < min) {\n      snappedValue = min;\n    } else if (!isNaN(max) && snappedValue > max) {\n      snappedValue = min + Math.floor((max - min) / step) * step;\n    }\n  } else if (!isNaN(max) && snappedValue > max) {\n    snappedValue = Math.floor(max / step) * step;\n  }\n\n  // correct floating point behavior by rounding to step precision\n  let string = step.toString();\n  let index = string.indexOf('.');\n  let precision = index >= 0 ? string.length - index : 0;\n\n  if (precision > 0) {\n    let pow = Math.pow(10, precision);\n    snappedValue = Math.round(snappedValue * pow) / pow;\n  }\n\n  return snappedValue;\n}\n\n/* Takes a value and rounds off to the number of digits. */\nexport function toFixedNumber(value: number, digits: number, base: number = 10): number {\n  const pow = Math.pow(base, digits);\n\n  return Math.round(value * pow) / pow;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React from 'react';\n\n// During SSR, React emits a warning when calling useLayoutEffect.\n// Since neither useLayoutEffect nor useEffect run on the server,\n// we can suppress this by replace it with a noop on the server.\nexport const useLayoutEffect = typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : () => {};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useSSRSafeId} from '@react-aria/ssr';\nimport {useValueEffect} from './';\n\nlet idsUpdaterMap: Map<string, (v: string) => void> = new Map();\n\n/**\n * If a default is not provided, generate an id.\n * @param defaultId - Default component id.\n */\nexport function useId(defaultId?: string): string {\n  let isRendering = useRef(true);\n  isRendering.current = true;\n  let [value, setValue] = useState(defaultId);\n  let nextId = useRef(null);\n\n  let res = useSSRSafeId(value);\n\n  // don't memo this, we want it new each render so that the Effects always run\n  let updateValue = (val) => {\n    if (!isRendering.current) {\n      setValue(val);\n    } else {\n      nextId.current = val;\n    }\n  };\n\n  idsUpdaterMap.set(res, updateValue);\n\n  useLayoutEffect(() => {\n    isRendering.current = false;\n  }, [updateValue]);\n\n  useLayoutEffect(() => {\n    let r = res;\n    return () => {\n      idsUpdaterMap.delete(r);\n    };\n  }, [res]);\n\n  useEffect(() => {\n    let newId = nextId.current;\n    if (newId) {\n      setValue(newId);\n      nextId.current = null;\n    }\n  }, [setValue, updateValue]);\n  return res;\n}\n\n/**\n * Merges two ids.\n * Different ids will trigger a side-effect and re-render components hooked up with `useId`.\n */\nexport function mergeIds(idA: string, idB: string): string {\n  if (idA === idB) {\n    return idA;\n  }\n\n  let setIdA = idsUpdaterMap.get(idA);\n  if (setIdA) {\n    setIdA(idB);\n    return idB;\n  }\n\n  let setIdB = idsUpdaterMap.get(idB);\n  if (setIdB) {\n    setIdB(idA);\n    return idA;\n  }\n\n  return idB;\n}\n\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as labelledby.\n * @param depArray - When to recalculate if the id is in the DOM.\n */\nexport function useSlotId(depArray: ReadonlyArray<any> = []): string {\n  let id = useId();\n  let [resolvedId, setResolvedId] = useValueEffect(id);\n  let updateId = useCallback(() => {\n    setResolvedId(function *() {\n      yield id;\n\n      yield document.getElementById(id) ? id : null;\n    });\n  }, [id, setResolvedId]);\n\n  useLayoutEffect(updateId, [id, updateId, ...depArray]);\n\n  return resolvedId;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (let callback of callbacks) {\n      if (typeof callback === 'function') {\n        callback(...args);\n      }\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {chain} from './chain';\nimport clsx from 'clsx';\nimport {mergeIds} from './useId';\n\ninterface Props {\n  [key: string]: any\n}\n\n// taken from: https://stackoverflow.com/questions/51603250/typescript-3-parameter-list-intersection-type/51604379#51604379\ntype TupleTypes<T> = { [P in keyof T]: T[P] } extends { [key: number]: infer V } ? V : never;\n// eslint-disable-next-line no-undef, @typescript-eslint/no-unused-vars\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;\n\n/**\n * Merges multiple props objects together. Event handlers are chained,\n * classNames are combined, and ids are deduplicated - different ids\n * will trigger a side-effect and re-render components hooked up with `useId`.\n * For all other props, the last prop object overrides all previous ones.\n * @param args - Multiple sets of props to merge together.\n */\nexport function mergeProps<T extends Props[]>(...args: T): UnionToIntersection<TupleTypes<T>> {\n  // Start with a base clone of the first argument. This is a lot faster than starting\n  // with an empty object and adding properties as we go.\n  let result: Props = {...args[0]};\n  for (let i = 1; i < args.length; i++) {\n    let props = args[i];\n    for (let key in props) {\n      let a = result[key];\n      let b = props[key];\n\n      // Chain events\n      if (\n        typeof a === 'function' &&\n        typeof b === 'function' &&\n        // This is a lot faster than a regex.\n        key[0] === 'o' &&\n        key[1] === 'n' &&\n        key.charCodeAt(2) >= /* 'A' */ 65 &&\n        key.charCodeAt(2) <= /* 'Z' */ 90\n      ) {\n        result[key] = chain(a, b);\n\n        // Merge classnames, sometimes classNames are empty string which eval to false, so we just need to do a type check\n      } else if (\n        (key === 'className' || key === 'UNSAFE_className') &&\n        typeof a === 'string' &&\n        typeof b === 'string'\n      ) {\n        result[key] = clsx(a, b);\n      } else if (key === 'id' && a && b) {\n        result.id = mergeIds(a, b);\n        // Override others\n      } else {\n        result[key] = b !== undefined ? b : a;\n      }\n    }\n  }\n\n  return result as UnionToIntersection<TupleTypes<T>>;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ForwardedRef} from 'react';\n\n/**\n * Merges multiple refs into one. Works with either callback or object refs.\n */\nexport function mergeRefs<T>(...refs: ForwardedRef<T>[]): ForwardedRef<T> {\n  return (value: T) => {\n    for (let ref of refs) {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {HTMLAttributes} from 'react';\n\nconst DOMPropNames = new Set([\n  'id'\n]);\n\nconst labelablePropNames = new Set([\n  'aria-label',\n  'aria-labelledby',\n  'aria-describedby',\n  'aria-details'\n]);\n\ninterface Options {\n  /**\n   * If labelling associated aria properties should be included in the filter.\n   */\n  labelable?: boolean,\n  /**\n   * A Set of other property names that should be included in the filter.\n   */\n  propNames?: Set<string>\n}\n\nconst propRe = /^(data-.*)$/;\n\n/**\n * Filters out all props that aren't valid DOM props or defined via override prop obj.\n * @param props - The component props to be filtered.\n * @param opts - Props to override.\n */\nexport function filterDOMProps(props: DOMProps & AriaLabelingProps, opts: Options = {}): DOMProps & AriaLabelingProps {\n  let {labelable, propNames} = opts;\n  let filteredProps: HTMLAttributes<HTMLElement> = {};\n\n  for (const prop in props) {\n    if (\n      Object.prototype.hasOwnProperty.call(props, prop) && (\n        DOMPropNames.has(prop) ||\n        (labelable && labelablePropNames.has(prop)) ||\n        propNames?.has(prop) ||\n        propRe.test(prop)\n      )\n    ) {\n      filteredProps[prop] = props[prop];\n    }\n  }\n\n  return filteredProps;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// This is a polyfill for element.focus({preventScroll: true});\n// Currently necessary for Safari and old Edge:\n// https://caniuse.com/#feat=mdn-api_htmlelement_focus_preventscroll_option\n// See https://bugs.webkit.org/show_bug.cgi?id=178583\n//\n\n// Original licensing for the following methods can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/calvellido/focus-options-polyfill\n\ninterface ScrollableElement {\n  element: HTMLElement,\n  scrollTop: number,\n  scrollLeft: number\n}\n\nexport function focusWithoutScrolling(element: HTMLElement) {\n  if (supportsPreventScroll()) {\n    element.focus({preventScroll: true});\n  } else {\n    let scrollableElements = getScrollableElements(element);\n    element.focus();\n    restoreScrollPosition(scrollableElements);\n  }\n}\n\nlet supportsPreventScrollCached: boolean = null;\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n    try {\n      var focusElem = document.createElement('div');\n      focusElem.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n      });\n    } catch (e) {\n      // Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element: HTMLElement): ScrollableElement[] {\n  var parent = element.parentNode;\n  var scrollableElements: ScrollableElement[] = [];\n  var rootScrollingElement = document.scrollingElement || document.documentElement;\n\n  while (parent instanceof HTMLElement && parent !== rootScrollingElement) {\n    if (\n      parent.offsetHeight < parent.scrollHeight ||\n      parent.offsetWidth < parent.scrollWidth\n    ) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements: ScrollableElement[]) {\n  for (let {element, scrollTop, scrollLeft} of scrollableElements) {\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getOffset(element, reverse, orientation = 'horizontal') {\n  let rect = element.getBoundingClientRect();\n  if (reverse) {\n    return orientation === 'horizontal' ? rect.right : rect.bottom;\n  }\n  return orientation === 'horizontal' ? rect.left : rect.top;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We store a global list of elements that are currently transitioning,\n// mapped to a set of CSS properties that are transitioning for that element.\n// This is necessary rather than a simple count of transitions because of browser\n// bugs, e.g. Chrome sometimes fires both transitionend and transitioncancel rather\n// than one or the other. So we need to track what's actually transitioning so that\n// we can ignore these duplicate events.\nlet transitionsByElement = new Map<EventTarget, Set<string>>();\n\n// A list of callbacks to call once there are no transitioning elements.\nlet transitionCallbacks = new Set<() => void>();\n\nfunction setupGlobalEvents() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  let onTransitionStart = (e: TransitionEvent) => {\n    // Add the transitioning property to the list for this element.\n    let transitions = transitionsByElement.get(e.target);\n    if (!transitions) {\n      transitions = new Set();\n      transitionsByElement.set(e.target, transitions);\n\n      // The transitioncancel event must be registered on the element itself, rather than as a global\n      // event. This enables us to handle when the node is deleted from the document while it is transitioning.\n      // In that case, the cancel event would have nowhere to bubble to so we need to handle it directly.\n      e.target.addEventListener('transitioncancel', onTransitionEnd);\n    }\n\n    transitions.add(e.propertyName);\n  };\n\n  let onTransitionEnd = (e: TransitionEvent) => {\n    // Remove property from list of transitioning properties.\n    let properties = transitionsByElement.get(e.target);\n    if (!properties) {\n      return;\n    }\n\n    properties.delete(e.propertyName);\n\n    // If empty, remove transitioncancel event, and remove the element from the list of transitioning elements.\n    if (properties.size === 0) {\n      e.target.removeEventListener('transitioncancel', onTransitionEnd);\n      transitionsByElement.delete(e.target);\n    }\n\n    // If no transitioning elements, call all of the queued callbacks.\n    if (transitionsByElement.size === 0) {\n      for (let cb of transitionCallbacks) {\n        cb();\n      }\n\n      transitionCallbacks.clear();\n    }\n  };\n\n  document.body.addEventListener('transitionrun', onTransitionStart);\n  document.body.addEventListener('transitionend', onTransitionEnd);\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalEvents);\n  }\n}\n\nexport function runAfterTransition(fn: () => void) {\n  // Wait one frame to see if an animation starts, e.g. a transition on mount.\n  requestAnimationFrame(() => {\n    // If no transitions are running, call the function immediately.\n    // Otherwise, add it to a list of callbacks to run at the end of the animation.\n    if (transitionsByElement.size === 0) {\n      fn();\n    } else {\n      transitionCallbacks.add(fn);\n    }\n  });\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getOffset} from './getOffset';\nimport {Orientation} from '@react-types/shared';\nimport React, {HTMLAttributes, MutableRefObject, useRef} from 'react';\n\ninterface UseDrag1DProps {\n  containerRef: MutableRefObject<HTMLElement>,\n  reverse?: boolean,\n  orientation?: Orientation,\n  onHover?: (hovered: boolean) => void,\n  onDrag?: (dragging: boolean) => void,\n  onPositionChange?: (position: number) => void,\n  onIncrement?: () => void,\n  onDecrement?: () => void,\n  onIncrementToMax?: () => void,\n  onDecrementToMin?: () => void,\n  onCollapseToggle?: () => void\n}\n\n// Keep track of elements that we are currently handling dragging for via useDrag1D.\n// If there's an ancestor and a descendant both using useDrag1D(), and the user starts\n// dragging the descendant, we don't want useDrag1D events to fire for the ancestor.\nconst draggingElements: HTMLElement[] = [];\n\n// created for splitview, this should be reusable for things like sliders/dials\n// It also handles keyboard events on the target allowing for increment/decrement by a given stepsize as well as minifying/maximizing and toggling between minified and previous size\n// It can also take a 'reverse' param to say if we should measure from the right/bottom instead of the top/left\n// It can also handle either a vertical or horizontal movement, but not both at the same time\n\nexport function useDrag1D(props: UseDrag1DProps): HTMLAttributes<HTMLElement> {\n  console.warn('useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html');\n  let {containerRef, reverse, orientation, onHover, onDrag, onPositionChange, onIncrement, onDecrement, onIncrementToMax, onDecrementToMin, onCollapseToggle} = props;\n  let getPosition = (e) => orientation === 'horizontal' ? e.clientX : e.clientY;\n  let getNextOffset = (e: MouseEvent) => {\n    let containerOffset = getOffset(containerRef.current, reverse, orientation);\n    let mouseOffset = getPosition(e);\n    let nextOffset = reverse ? containerOffset - mouseOffset : mouseOffset - containerOffset;\n    return nextOffset;\n  };\n  let dragging = useRef(false);\n  let prevPosition = useRef(0);\n\n  // Keep track of the current handlers in a ref so that the events can access them.\n  let handlers = useRef({onPositionChange, onDrag});\n  handlers.current.onDrag = onDrag;\n  handlers.current.onPositionChange = onPositionChange;\n\n  let onMouseDragged = (e: MouseEvent) => {\n    e.preventDefault();\n    let nextOffset = getNextOffset(e);\n    if (!dragging.current) {\n      dragging.current = true;\n      if (handlers.current.onDrag) {\n        handlers.current.onDrag(true);\n      }\n      if (handlers.current.onPositionChange) {\n        handlers.current.onPositionChange(nextOffset);\n      }\n    }\n    if (prevPosition.current === nextOffset) {\n      return;\n    }\n    prevPosition.current = nextOffset;\n    if (onPositionChange) {\n      onPositionChange(nextOffset);\n    }\n  };\n\n  let onMouseUp = (e: MouseEvent) => {\n    const target = e.target as HTMLElement;\n    dragging.current = false;\n    let nextOffset = getNextOffset(e);\n    if (handlers.current.onDrag) {\n      handlers.current.onDrag(false);\n    }\n    if (handlers.current.onPositionChange) {\n      handlers.current.onPositionChange(nextOffset);\n    }\n\n    draggingElements.splice(draggingElements.indexOf(target), 1);\n    window.removeEventListener('mouseup', onMouseUp, false);\n    window.removeEventListener('mousemove', onMouseDragged, false);\n  };\n\n  let onMouseDown = (e: React.MouseEvent<HTMLElement>) => {\n    const target = e.currentTarget;\n    // If we're already handling dragging on a descendant with useDrag1D, then\n    // we don't want to handle the drag motion on this target as well.\n    if (draggingElements.some(elt => target.contains(elt))) {\n      return;\n    }\n    draggingElements.push(target);\n    window.addEventListener('mousemove', onMouseDragged, false);\n    window.addEventListener('mouseup', onMouseUp, false);\n  };\n\n  let onMouseEnter = () => {\n    if (onHover) {\n      onHover(true);\n    }\n  };\n\n  let onMouseOut = () => {\n    if (onHover) {\n      onHover(false);\n    }\n  };\n\n  let onKeyDown = (e) => {\n    switch (e.key) {\n      case 'Left':\n      case 'ArrowLeft':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Up':\n      case 'ArrowUp':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Right':\n      case 'ArrowRight':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Down':\n      case 'ArrowDown':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Home':\n        e.preventDefault();\n        if (onDecrementToMin) {\n          onDecrementToMin();\n        }\n        break;\n      case 'End':\n        e.preventDefault();\n        if (onIncrementToMax) {\n          onIncrementToMax();\n        }\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (onCollapseToggle) {\n          onCollapseToggle();\n        }\n        break;\n    }\n  };\n\n  return {onMouseDown, onMouseEnter, onMouseOut, onKeyDown};\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef} from 'react';\n\ninterface GlobalListeners {\n  addGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void,\n  addGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void,\n  removeGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | EventListenerOptions): void,\n  removeGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void,\n  removeAllGlobalListeners(): void\n}\n\nexport function useGlobalListeners(): GlobalListeners {\n  let globalListeners = useRef(new Map());\n  let addGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    // Make sure we remove the listener after it is called with the `once` option.\n    let fn = options?.once ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {type, eventTarget, fn, options});\n    eventTarget.addEventListener(type, listener, options);\n  }, []);\n  let removeGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    let fn = globalListeners.current.get(listener)?.fn || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = useCallback(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [removeGlobalListener]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return removeAllGlobalListeners;\n  }, [removeAllGlobalListeners]);\n\n  return {addGlobalListener, removeGlobalListener, removeAllGlobalListeners};\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {useId} from './useId';\n\n/**\n * Merges aria-label and aria-labelledby into aria-labelledby when both exist.\n * @param props - Aria label props.\n * @param defaultLabel - Default value for aria-label when not present.\n */\nexport function useLabels(props: DOMProps & AriaLabelingProps, defaultLabel?: string): DOMProps & AriaLabelingProps {\n  let {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  } = props;\n\n  // If there is both an aria-label and aria-labelledby,\n  // combine them by pointing to the element itself.\n  id = useId(id);\n  if (labelledBy && label) {\n    let ids = new Set([...labelledBy.trim().split(/\\s+/), id]);\n    labelledBy = [...ids].join(' ');\n  } else if (labelledBy) {\n    labelledBy = labelledBy.trim().split(/\\s+/).join(' ');\n  }\n\n  // If no labels are provided, use the default\n  if (!label && !labelledBy && defaultLabel) {\n    label = defaultLabel;\n  }\n\n  return {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  };\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, useRef} from 'react';\nimport {useLayoutEffect} from './';\n\n/**\n * Offers an object ref for a given callback ref or an object ref. Especially\n * helfpul when passing forwarded refs (created using `React.forwardRef`) to\n * React Aria Hooks.\n *\n * @param forwardedRef The original ref intended to be used.\n * @returns An object ref that updates the given ref.\n * @see https://reactjs.org/docs/forwarding-refs.html\n */\nexport function useObjectRef<T>(forwardedRef?: ((instance: T | null) => void) | MutableRefObject<T | null> | null): MutableRefObject<T> {\n  const objRef = useRef<T>();\n\n  /**\n   * We're using `useLayoutEffect` here instead of `useEffect` because we want\n   * to make sure that the `ref` value is up to date before other places in the\n   * the execution cycle try to read it.\n   */\n  useLayoutEffect(() => {\n    if (!forwardedRef) {\n      return;\n    }\n\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(objRef.current);\n    } else {\n      forwardedRef.current = objRef.current;\n    }\n  }, [forwardedRef]);\n\n  return objRef;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {EffectCallback, useEffect, useRef} from 'react';\n\n// Like useEffect, but only called for updates after the initial render.\nexport function useUpdateEffect(effect: EffectCallback, dependencies: any[]) {\n  const isInitialMount = useRef(true);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n}\n","import {RefObject, useEffect} from 'react';\n\nfunction hasResizeObserver() {\n  return typeof window.ResizeObserver !== 'undefined';\n}\n\ntype useResizeObserverOptionsType<T> = {\n  ref: RefObject<T>,\n  onResize: () => void\n}\n\nexport function useResizeObserver<T extends HTMLElement>(options: useResizeObserverOptionsType<T>) {\n  const {ref, onResize} = options;\n\n  useEffect(() => {\n    let element = ref?.current;\n    if (!element) {\n      return;\n    }\n\n    if (!hasResizeObserver()) {\n      window.addEventListener('resize', onResize, false);\n      return () => {\n        window.removeEventListener('resize', onResize, false);\n      };\n    } else {\n\n      const resizeObserverInstance = new window.ResizeObserver((entries) => {\n        if (!entries.length) {\n          return;\n        }\n\n        onResize();\n      });\n      resizeObserverInstance.observe(element);\n\n      return () => {\n        if (element) {\n          resizeObserverInstance.unobserve(element);\n        }\n      };\n    }\n\n  }, [onResize, ref]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, RefObject} from 'react';\nimport {useLayoutEffect} from './';\n\ninterface ContextValue<T> {\n  ref?: MutableRefObject<T>\n}\n\n// Syncs ref from context with ref passed to hook\nexport function useSyncRef<T>(context: ContextValue<T>, ref: RefObject<T>) {\n  useLayoutEffect(() => {\n    if (context && context.ref && ref) {\n      context.ref.current = ref.current;\n      return () => {\n        context.ref.current = null;\n      };\n    }\n  }, [context, ref]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getScrollParent(node: Element): Element {\n  while (node && !isScrollable(node)) {\n    node = node.parentElement;\n  }\n\n  return node || document.scrollingElement || document.documentElement;\n}\n\nfunction isScrollable(node: Element): boolean {\n  let style = window.getComputedStyle(node);\n  return /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useEffect, useState} from 'react';\n\ninterface ViewportSize {\n  width: number,\n  height: number\n}\n\n// @ts-ignore\nlet visualViewport = typeof window !== 'undefined' && window.visualViewport;\n\nexport function useViewportSize(): ViewportSize {\n  let [size, setSize] = useState(() => getViewportSize());\n\n  useEffect(() => {\n    // Use visualViewport api to track available height even on iOS virtual keyboard opening\n    let onResize = () => {\n      setSize(size => {\n        let newSize = getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) {\n          return size;\n        }\n        return newSize;\n      });\n    };\n\n    if (!visualViewport) {\n      window.addEventListener('resize', onResize);\n    } else {\n      visualViewport.addEventListener('resize', onResize);\n    }\n\n    return () => {\n      if (!visualViewport) {\n        window.removeEventListener('resize', onResize);\n      } else {\n        visualViewport.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return size;\n}\n\nfunction getViewportSize(): ViewportSize {\n  return {\n    width: visualViewport?.width || window.innerWidth,\n    height: visualViewport?.height || window.innerHeight\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps} from '@react-types/shared';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useState} from 'react';\n\nlet descriptionId = 0;\nconst descriptionNodes = new Map<string, {refCount: number, element: HTMLElement}>();\n\nexport function useDescription(description: string): AriaLabelingProps {\n  let [id, setId] = useState(null);\n\n  useLayoutEffect(() => {\n    if (!description) {\n      return;\n    }\n\n    let desc = descriptionNodes.get(description);\n    if (!desc) {\n      let id = `react-aria-description-${descriptionId++}`;\n      setId(id);\n\n      let node = document.createElement('div');\n      node.id = id;\n      node.style.display = 'none';\n      node.textContent = description;\n      document.body.appendChild(node);\n      desc = {refCount: 0, element: node};\n      descriptionNodes.set(description, desc);\n    } else {\n      setId(desc.element.id);\n    }\n\n    desc.refCount++;\n    return () => {\n      if (--desc.refCount === 0) {\n        desc.element.remove();\n        descriptionNodes.delete(description);\n      }\n    };\n  }, [description]);\n\n  return {\n    'aria-describedby': description ? id : undefined\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction testUserAgent(re: RegExp) {\n  if (typeof window === 'undefined' || window.navigator == null) {\n    return false;\n  }\n  return (\n    window.navigator['userAgentData']?.brands.some((brand: {brand: string, version: string}) => re.test(brand.brand))\n  ) ||\n  re.test(window.navigator.userAgent);\n}\n\nfunction testPlatform(re: RegExp) {\n  return typeof window !== 'undefined' && window.navigator != null\n    ? re.test((window.navigator['userAgentData'] || window.navigator).platform)\n    : false;\n}\n\nexport function isMac() {\n  return testPlatform(/^Mac/i);\n}\n\nexport function isIPhone() {\n  return testPlatform(/^iPhone/i);\n}\n\nexport function isIPad() {\n  return testPlatform(/^iPad/i) ||\n    // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    (isMac() && navigator.maxTouchPoints > 1);\n}\n\nexport function isIOS() {\n  return isIPhone() || isIPad();\n}\n\nexport function isAppleDevice() {\n  return isMac() || isIOS();\n}\n\nexport function isWebKit() {\n  return testUserAgent(/AppleWebKit/i) && !isChrome();\n}\n\nexport function isChrome() {\n  return testUserAgent(/Chrome/i);\n}\n\nexport function isAndroid() {\n  return testUserAgent(/Android/i);\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useEffect, useRef} from 'react';\n\nexport function useEvent<K extends keyof GlobalEventHandlersEventMap>(\n  ref: RefObject<EventTarget>,\n  event: K,\n  handler: (this: Document, ev: GlobalEventHandlersEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions\n) {\n  let handlerRef = useRef(handler);\n  handlerRef.current = handler;\n\n  let isDisabled = handler == null;\n\n  useEffect(() => {\n    if (isDisabled) {\n      return;\n    }\n\n    let element = ref.current;\n    let handler = (e: GlobalEventHandlersEventMap[K]) => handlerRef.current.call(this, e);\n\n    element.addEventListener(event, handler, options);\n    return () => {\n      element.removeEventListener(event, handler, options);\n    };\n  }, [ref, event, options, isDisabled]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Dispatch, useCallback, useRef, useState} from 'react';\nimport {useLayoutEffect} from './';\n\ntype SetValueAction<S> = (prev: S) => Generator<any, void, unknown>;\n\n// This hook works like `useState`, but when setting the value, you pass a generator function\n// that can yield multiple values. Each yielded value updates the state and waits for the next\n// layout effect, then continues the generator. This allows sequential updates to state to be\n// written linearly.\nexport function useValueEffect<S>(defaultValue: S | (() => S)): [S, Dispatch<SetValueAction<S>>] {\n  let [value, setValue] = useState(defaultValue);\n  let valueRef = useRef(value);\n  let effect = useRef(null);\n\n  valueRef.current = value;\n\n  // Store the function in a ref so we can always access the current version\n  // which has the proper `value` in scope.\n  let nextRef = useRef(null);\n  nextRef.current = () => {\n    // Run the generator to the next yield.\n    let newValue = effect.current.next();\n\n    // If the generator is done, reset the effect.\n    if (newValue.done) {\n      effect.current = null;\n      return;\n    }\n\n    // If the value is the same as the current value,\n    // then continue to the next yield. Otherwise,\n    // set the value in state and wait for the next layout effect.\n    if (value === newValue.value) {\n      nextRef.current();\n    } else {\n      setValue(newValue.value);\n    }\n  };\n\n  useLayoutEffect(() => {\n    // If there is an effect currently running, continue to the next yield.\n    if (effect.current) {\n      nextRef.current();\n    }\n  });\n\n  let queue = useCallback(fn => {\n    effect.current = fn(valueRef.current);\n    nextRef.current();\n  }, [effect, nextRef]);\n\n  return [value, queue];\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Scrolls `scrollView` so that `element` is visible.\n * Similar to `element.scrollIntoView({block: 'nearest'})` (not supported in Edge),\n * but doesn't affect parents above `scrollView`.\n */\nexport function scrollIntoView(scrollView: HTMLElement, element: HTMLElement) {\n  let offsetX = relativeOffset(scrollView, element, 'left');\n  let offsetY = relativeOffset(scrollView, element, 'top');\n  let width = element.offsetWidth;\n  let height = element.offsetHeight;\n  let x = scrollView.scrollLeft;\n  let y = scrollView.scrollTop;\n  let maxX = x + scrollView.offsetWidth;\n  let maxY = y + scrollView.offsetHeight;\n\n  if (offsetX <= x) {\n    x = offsetX;\n  } else if (offsetX + width > maxX) {\n    x += offsetX + width - maxX;\n  }\n  if (offsetY <= y) {\n    y = offsetY;\n  } else if (offsetY + height > maxY) {\n    y += offsetY + height - maxY;\n  }\n\n  scrollView.scrollLeft = x;\n  scrollView.scrollTop = y;\n}\n\n/**\n * Computes the offset left or top from child to ancestor by accumulating\n * offsetLeft or offsetTop through intervening offsetParents.\n */\nfunction relativeOffset(ancestor: HTMLElement, child: HTMLElement, axis: 'left'|'top') {\n  const prop = axis === 'left' ? 'offsetLeft' : 'offsetTop';\n  let sum = 0;\n  while (child.offsetParent) {\n    sum += child[prop];\n    if (child.offsetParent === ancestor) {\n      // Stop once we have found the ancestor we are interested in.\n      break;\n    } else if (child.offsetParent.contains(ancestor)) {\n      // If the ancestor is not `position:relative`, then we stop at\n      // _its_ offset parent, and we subtract off _its_ offset, so that\n      // we end up with the proper offset from child to ancestor.\n      sum -= ancestor[prop];\n      break;\n    }\n    child = child.offsetParent as HTMLElement;\n  }\n  return sum;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {isIOS, runAfterTransition} from '@react-aria/utils';\n\n// Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n// is to add user-select: none to the entire page. Adding it to the pressable element prevents\n// that element from being selected, but nearby elements may still receive selection. We add\n// user-select: none on touch start, and remove it again on touch end to prevent this.\n// This must be implemented using global state to avoid race conditions between multiple elements.\n\n// There are three possible states due to the delay before removing user-select: none after\n// pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n// to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n// For non-iOS devices, we apply user-select: none to the pressed element instead to avoid possible\n// performance issues that arise from applying and removing user-select: none to the entire page\n// (see https://github.com/adobe/react-spectrum/issues/1609).\ntype State = 'default' | 'disabled' | 'restoring';\n\n// Note that state only matters here for iOS. Non-iOS gets user-select: none applied to the target element\n// rather than at the document level so we just need to apply/remove user-select: none for each pressed element individually\nlet state: State = 'default';\nlet savedUserSelect = '';\nlet modifiedElementMap = new WeakMap<HTMLElement, string>();\n\nexport function disableTextSelection(target?: HTMLElement) {\n  if (isIOS()) {\n    if (state === 'default') {\n      savedUserSelect = document.documentElement.style.webkitUserSelect;\n      document.documentElement.style.webkitUserSelect = 'none';\n    }\n\n    state = 'disabled';\n  } else if (target) {\n    // If not iOS, store the target's original user-select and change to user-select: none\n    // Ignore state since it doesn't apply for non iOS\n    modifiedElementMap.set(target, target.style.userSelect);\n    target.style.userSelect = 'none';\n  }\n}\n\nexport function restoreTextSelection(target?: HTMLElement) {\n  if (isIOS()) {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      runAfterTransition(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n          if (document.documentElement.style.webkitUserSelect === 'none') {\n            document.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  } else {\n    // If not iOS, restore the target's original user-select if any\n    // Ignore state since it doesn't apply for non iOS\n    if (target && modifiedElementMap.has(target)) {\n      let targetOldUserSelect = modifiedElementMap.get(target);\n\n      if (target.style.userSelect === 'none') {\n        target.style.userSelect = targetOldUserSelect;\n      }\n\n      if (target.getAttribute('style') === '') {\n        target.removeAttribute('style');\n      }\n      modifiedElementMap.delete(target);\n    }\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusEvent as ReactFocusEvent, useRef} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\n// Original licensing for the following method can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/blob/3c713d513195a53788b3f8bb4b70279d68b15bcc/packages/react-interactions/events/src/dom/shared/index.js#L74-L87\n\n// Keyboards, Assistive Technologies, and element.click() all produce a \"virtual\"\n// click event. This is a method of inferring such clicks. Every browser except\n// IE 11 only sets a zero value of \"detail\" for click events that are \"virtual\".\n// However, IE 11 uses a zero value for all click events. For IE 11 we rely on\n// the quirk that it produces click events that are of type PointerEvent, and\n// where only the \"virtual\" click lacks a pointerType field.\n\nexport function isVirtualClick(event: MouseEvent | PointerEvent): boolean {\n  // JAWS/NVDA with Firefox.\n  if ((event as any).mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n\n  return event.detail === 0 && !(event as PointerEvent).pointerType;\n}\n\nexport class SyntheticFocusEvent implements ReactFocusEvent {\n  nativeEvent: FocusEvent;\n  target: Element;\n  currentTarget: Element;\n  relatedTarget: Element;\n  bubbles: boolean;\n  cancelable: boolean;\n  defaultPrevented: boolean;\n  eventPhase: number;\n  isTrusted: boolean;\n  timeStamp: number;\n  type: string;\n\n  constructor(type: string, nativeEvent: FocusEvent) {\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEvent.target as Element;\n    this.currentTarget = nativeEvent.currentTarget as Element;\n    this.relatedTarget = nativeEvent.relatedTarget as Element;\n    this.bubbles = nativeEvent.bubbles;\n    this.cancelable = nativeEvent.cancelable;\n    this.defaultPrevented = nativeEvent.defaultPrevented;\n    this.eventPhase = nativeEvent.eventPhase;\n    this.isTrusted = nativeEvent.isTrusted;\n    this.timeStamp = nativeEvent.timeStamp;\n    this.type = type;\n  }\n\n  isDefaultPrevented(): boolean {\n    return this.nativeEvent.defaultPrevented;\n  }\n\n  preventDefault(): void {\n    this.defaultPrevented = true;\n    this.nativeEvent.preventDefault();\n  }\n\n  stopPropagation(): void {\n    this.nativeEvent.stopPropagation();\n    this.isPropagationStopped = () => true;\n  }\n\n  isPropagationStopped(): boolean {\n    return false;\n  }\n\n  persist() {}\n}\n\nexport function useSyntheticBlurEvent(onBlur: (e: ReactFocusEvent) => void) {\n  let stateRef = useRef({\n    isFocused: false,\n    onBlur,\n    observer: null as MutationObserver\n  });\n  let state = stateRef.current;\n  state.onBlur = onBlur;\n\n  // Clean up MutationObserver on unmount. See below.\n  // eslint-disable-next-line arrow-body-style\n  useLayoutEffect(() => {\n    return () => {\n      if (state.observer) {\n        state.observer.disconnect();\n        state.observer = null;\n      }\n    };\n  }, [state]);\n\n  // This function is called during a React onFocus event.\n  return (e: ReactFocusEvent) => {\n    // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n    // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n    // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n    // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n    if (\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement ||\n      e.target instanceof HTMLSelectElement\n    ) {\n      state.isFocused = true;\n\n      let target = e.target;\n      let onBlurHandler = (e: FocusEvent) => {\n        let state = stateRef.current;\n        state.isFocused = false;\n\n        if (target.disabled) {\n          // For backward compatibility, dispatch a (fake) React synthetic event.\n          state.onBlur?.(new SyntheticFocusEvent('blur', e));\n        }\n\n        // We no longer need the MutationObserver once the target is blurred.\n        if (state.observer) {\n          state.observer.disconnect();\n          state.observer = null;\n        }\n      };\n\n      target.addEventListener('focusout', onBlurHandler, {once: true});\n\n      state.observer = new MutationObserver(() => {\n        if (state.isFocused && target.disabled) {\n          state.observer.disconnect();\n          target.dispatchEvent(new FocusEvent('blur'));\n          target.dispatchEvent(new FocusEvent('focusout', {bubbles: true}));\n        }\n      });\n\n      state.observer.observe(target, {attributes: true, attributeFilter: ['disabled']});\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {PressProps} from './usePress';\nimport React, {MutableRefObject} from 'react';\n\ninterface IPressResponderContext extends PressProps {\n  register(): void,\n  ref?: MutableRefObject<HTMLElement>\n}\n\nexport const PressResponderContext = React.createContext<IPressResponderContext>(null);\nPressResponderContext.displayName = 'PressResponderContext';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {disableTextSelection, restoreTextSelection} from './textSelection';\nimport {focusWithoutScrolling, mergeProps, useGlobalListeners, useSyncRef} from '@react-aria/utils';\nimport {HTMLAttributes, RefObject, useContext, useEffect, useMemo, useRef, useState} from 'react';\nimport {isVirtualClick} from './utils';\nimport {PointerType, PressEvents} from '@react-types/shared';\nimport {PressResponderContext} from './context';\n\nexport interface PressProps extends PressEvents {\n  /** Whether the target is in a controlled press state (e.g. an overlay it triggers is open). */\n  isPressed?: boolean,\n  /** Whether the press events should be disabled. */\n  isDisabled?: boolean,\n  /** Whether the target should not receive focus on press. */\n  preventFocusOnPress?: boolean,\n  /**\n   * Whether press events should be canceled when the pointer leaves the target while pressed.\n   * By default, this is `false`, which means if the pointer returns back over the target while\n   * still pressed, onPressStart will be fired again. If set to `true`, the press is canceled\n   * when the pointer leaves the target and onPressStart will not be fired if the pointer returns.\n   */\n  shouldCancelOnPointerExit?: boolean,\n  /** Whether text selection should be enabled on the pressable element. */\n  allowTextSelectionOnPress?: boolean\n}\n\nexport interface PressHookProps extends PressProps {\n  /** A ref to the target element. */\n  ref?: RefObject<HTMLElement>\n}\n\ninterface PressState {\n  isPressed: boolean,\n  ignoreEmulatedMouseEvents: boolean,\n  ignoreClickAfterPress: boolean,\n  didFirePressStart: boolean,\n  activePointerId: any,\n  target: HTMLElement | null,\n  isOverTarget: boolean,\n  pointerType: PointerType,\n  userSelect?: string\n}\n\ninterface EventBase {\n  currentTarget: EventTarget,\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\nexport interface PressResult {\n  /** Whether the target is currently pressed. */\n  isPressed: boolean,\n  /** Props to spread on the target element. */\n  pressProps: HTMLAttributes<HTMLElement>\n}\n\nfunction usePressResponderContext(props: PressHookProps): PressHookProps {\n  // Consume context from <PressResponder> and merge with props.\n  let context = useContext(PressResponderContext);\n  if (context) {\n    let {register, ...contextProps} = context;\n    props = mergeProps(contextProps, props) as PressHookProps;\n    register();\n  }\n  useSyncRef(context, props.ref);\n\n  return props;\n}\n\n/**\n * Handles press interactions across mouse, touch, keyboard, and screen readers.\n * It normalizes behavior across browsers and platforms, and handles many nuances\n * of dealing with pointer and keyboard events.\n */\nexport function usePress(props: PressHookProps): PressResult {\n  let {\n    onPress,\n    onPressChange,\n    onPressStart,\n    onPressEnd,\n    onPressUp,\n    isDisabled,\n    isPressed: isPressedProp,\n    preventFocusOnPress,\n    shouldCancelOnPointerExit,\n    allowTextSelectionOnPress,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ref: _, // Removing `ref` from `domProps` because TypeScript is dumb\n    ...domProps\n  } = usePressResponderContext(props);\n  let propsRef = useRef<PressHookProps>(null);\n  propsRef.current = {onPress, onPressChange, onPressStart, onPressEnd, onPressUp, isDisabled, shouldCancelOnPointerExit};\n\n  let [isPressed, setPressed] = useState(false);\n  let ref = useRef<PressState>({\n    isPressed: false,\n    ignoreEmulatedMouseEvents: false,\n    ignoreClickAfterPress: false,\n    didFirePressStart: false,\n    activePointerId: null,\n    target: null,\n    isOverTarget: false,\n    pointerType: null\n  });\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let pressProps = useMemo(() => {\n    let state = ref.current;\n    let triggerPressStart = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressStart, onPressChange, isDisabled} = propsRef.current;\n      if (isDisabled || state.didFirePressStart) {\n        return;\n      }\n\n      if (onPressStart) {\n        onPressStart({\n          type: 'pressstart',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(true);\n      }\n\n      state.didFirePressStart = true;\n      setPressed(true);\n    };\n\n    let triggerPressEnd = (originalEvent: EventBase, pointerType: PointerType, wasPressed = true) => {\n      let {onPressEnd, onPressChange, onPress, isDisabled} = propsRef.current;\n      if (!state.didFirePressStart) {\n        return;\n      }\n\n      state.ignoreClickAfterPress = true;\n      state.didFirePressStart = false;\n\n      if (onPressEnd) {\n        onPressEnd({\n          type: 'pressend',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(false);\n      }\n\n      setPressed(false);\n\n      if (onPress && wasPressed && !isDisabled) {\n        onPress({\n          type: 'press',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let triggerPressUp = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressUp, isDisabled} = propsRef.current;\n      if (isDisabled) {\n        return;\n      }\n\n      if (onPressUp) {\n        onPressUp({\n          type: 'pressup',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let cancel = (e: EventBase) => {\n      if (state.isPressed) {\n        if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n        state.isPressed = false;\n        state.isOverTarget = false;\n        state.activePointerId = null;\n        state.pointerType = null;\n        removeAllGlobalListeners();\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n      }\n    };\n\n    let pressProps: HTMLAttributes<HTMLElement> = {\n      onKeyDown(e) {\n        if (isValidKeyboardEvent(e.nativeEvent) && e.currentTarget.contains(e.target as HTMLElement)) {\n          if (shouldPreventDefaultKeyboard(e.target as Element)) {\n            e.preventDefault();\n          }\n          e.stopPropagation();\n\n          // If the event is repeating, it may have started on a different element\n          // after which focus moved to the current element. Ignore these events and\n          // only handle the first key down event.\n          if (!state.isPressed && !e.repeat) {\n            state.target = e.currentTarget as HTMLElement;\n            state.isPressed = true;\n            triggerPressStart(e, 'keyboard');\n\n            // Focus may move before the key up event, so register the event on the document\n            // instead of the same element where the key down event occurred.\n            addGlobalListener(document, 'keyup', onKeyUp, false);\n          }\n        }\n      },\n      onKeyUp(e) {\n        if (isValidKeyboardEvent(e.nativeEvent) && !e.repeat && e.currentTarget.contains(e.target as HTMLElement)) {\n          triggerPressUp(createEvent(state.target, e), 'keyboard');\n        }\n      },\n      onClick(e) {\n        if (e && !e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        if (e && e.button === 0) {\n          e.stopPropagation();\n          if (isDisabled) {\n            e.preventDefault();\n          }\n\n          // If triggered from a screen reader or by using element.click(),\n          // trigger as if it were a keyboard click.\n          if (!state.ignoreClickAfterPress && !state.ignoreEmulatedMouseEvents && (state.pointerType === 'virtual' || isVirtualClick(e.nativeEvent))) {\n            // Ensure the element receives focus (VoiceOver on iOS does not do this)\n            if (!isDisabled && !preventFocusOnPress) {\n              focusWithoutScrolling(e.currentTarget);\n            }\n\n            triggerPressStart(e, 'virtual');\n            triggerPressUp(e, 'virtual');\n            triggerPressEnd(e, 'virtual');\n          }\n\n          state.ignoreEmulatedMouseEvents = false;\n          state.ignoreClickAfterPress = false;\n        }\n      }\n    };\n\n    let onKeyUp = (e: KeyboardEvent) => {\n      if (state.isPressed && isValidKeyboardEvent(e)) {\n        if (shouldPreventDefaultKeyboard(e.target as Element)) {\n          e.preventDefault();\n        }\n        e.stopPropagation();\n\n        state.isPressed = false;\n        let target = e.target as HTMLElement;\n        triggerPressEnd(createEvent(state.target, e), 'keyboard', state.target.contains(target));\n        removeAllGlobalListeners();\n\n        // If the target is a link, trigger the click method to open the URL,\n        // but defer triggering pressEnd until onClick event handler.\n        if (state.target.contains(target) && isHTMLAnchorLink(state.target) || state.target.getAttribute('role') === 'link') {\n          state.target.click();\n        }\n      }\n    };\n\n    if (typeof PointerEvent !== 'undefined') {\n      pressProps.onPointerDown = (e) => {\n        // Only handle left clicks, and ignore events that bubbled through portals.\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        // iOS safari fires pointer events from VoiceOver with incorrect coordinates/target.\n        // Ignore and let the onClick handler take care of it instead.\n        // https://bugs.webkit.org/show_bug.cgi?id=222627\n        // https://bugs.webkit.org/show_bug.cgi?id=223202\n        if (isVirtualPointerEvent(e.nativeEvent)) {\n          state.pointerType = 'virtual';\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on pointer down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget as HTMLElement)) {\n          e.preventDefault();\n        }\n\n        state.pointerType = e.pointerType;\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          state.isPressed = true;\n          state.isOverTarget = true;\n          state.activePointerId = e.pointerId;\n          state.target = e.currentTarget;\n\n          if (!isDisabled && !preventFocusOnPress) {\n            focusWithoutScrolling(e.currentTarget);\n          }\n\n          if (!allowTextSelectionOnPress) {\n            disableTextSelection(state.target);\n          }\n\n          triggerPressStart(e, state.pointerType);\n\n          addGlobalListener(document, 'pointermove', onPointerMove, false);\n          addGlobalListener(document, 'pointerup', onPointerUp, false);\n          addGlobalListener(document, 'pointercancel', onPointerCancel, false);\n        }\n      };\n\n      pressProps.onMouseDown = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        if (e.button === 0) {\n          // Chrome and Firefox on touch Windows devices require mouse down events\n          // to be canceled in addition to pointer events, or an extra asynchronous\n          // focus event will be fired.\n          if (shouldPreventDefault(e.currentTarget as HTMLElement)) {\n            e.preventDefault();\n          }\n\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onPointerUp = (e) => {\n        // iOS fires pointerup with zero width and height, so check the pointerType recorded during pointerdown.\n        if (!e.currentTarget.contains(e.target as HTMLElement) || state.pointerType === 'virtual') {\n          return;\n        }\n\n        // Only handle left clicks\n        // Safari on iOS sometimes fires pointerup events, even\n        // when the touch isn't over the target, so double check.\n        if (e.button === 0 && isOverTarget(e, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType || e.pointerType);\n        }\n      };\n\n      // Safari on iOS < 13.2 does not implement pointerenter/pointerleave events correctly.\n      // Use pointer move events instead to implement our own hit testing.\n      // See https://bugs.webkit.org/show_bug.cgi?id=199803\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId !== state.activePointerId) {\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(createEvent(state.target, e), state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.activePointerId && state.isPressed && e.button === 0) {\n          if (isOverTarget(e, state.target)) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType);\n          } else if (state.isOverTarget) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          }\n\n          state.isPressed = false;\n          state.isOverTarget = false;\n          state.activePointerId = null;\n          state.pointerType = null;\n          removeAllGlobalListeners();\n          if (!allowTextSelectionOnPress) {\n            restoreTextSelection(state.target);\n          }\n        }\n      };\n\n      let onPointerCancel = (e: PointerEvent) => {\n        cancel(e);\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        // Safari does not call onPointerCancel when a drag starts, whereas Chrome and Firefox do.\n        cancel(e);\n      };\n    } else {\n      pressProps.onMouseDown = (e) => {\n        // Only handle left clicks\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on mouse down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget as HTMLElement)) {\n          e.preventDefault();\n        }\n\n        e.stopPropagation();\n        if (state.ignoreEmulatedMouseEvents) {\n          return;\n        }\n\n        state.isPressed = true;\n        state.isOverTarget = true;\n        state.target = e.currentTarget;\n        state.pointerType = isVirtualClick(e.nativeEvent) ? 'virtual' : 'mouse';\n\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(document, 'mouseup', onMouseUp, false);\n      };\n\n      pressProps.onMouseEnter = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = true;\n          triggerPressStart(e, state.pointerType);\n        }\n      };\n\n      pressProps.onMouseLeave = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onMouseUp = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        if (!state.ignoreEmulatedMouseEvents && e.button === 0) {\n          triggerPressUp(e, state.pointerType);\n        }\n      };\n\n      let onMouseUp = (e: MouseEvent) => {\n        // Only handle left clicks\n        if (e.button !== 0) {\n          return;\n        }\n\n        state.isPressed = false;\n        removeAllGlobalListeners();\n\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n\n        state.isOverTarget = false;\n      };\n\n      pressProps.onTouchStart = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        let touch = getTouchFromEvent(e.nativeEvent);\n        if (!touch) {\n          return;\n        }\n        state.activePointerId = touch.identifier;\n        state.ignoreEmulatedMouseEvents = true;\n        state.isOverTarget = true;\n        state.isPressed = true;\n        state.target = e.currentTarget;\n        state.pointerType = 'touch';\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent default\n        // on the emulated mouse event and handle focusing the pressable element ourselves.\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        if (!allowTextSelectionOnPress) {\n          disableTextSelection(state.target);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(window, 'scroll', onScroll, true);\n      };\n\n      pressProps.onTouchMove = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(e, state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onTouchEnd = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType);\n          triggerPressEnd(e, state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(e, state.pointerType, false);\n        }\n\n        state.isPressed = false;\n        state.activePointerId = null;\n        state.isOverTarget = false;\n        state.ignoreEmulatedMouseEvents = true;\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n        removeAllGlobalListeners();\n      };\n\n      pressProps.onTouchCancel = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed) {\n          cancel(e);\n        }\n      };\n\n      let onScroll = (e: Event) => {\n        if (state.isPressed && (e.target as HTMLElement).contains(state.target)) {\n          cancel({\n            currentTarget: state.target,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false,\n            altKey: false\n          });\n        }\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        cancel(e);\n      };\n    }\n\n    return pressProps;\n  }, [addGlobalListener, isDisabled, preventFocusOnPress, removeAllGlobalListeners, allowTextSelectionOnPress]);\n\n  // Remove user-select: none in case component unmounts immediately after pressStart\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (!allowTextSelectionOnPress) {\n        restoreTextSelection(ref.current.target);\n      }\n    };\n  }, [allowTextSelectionOnPress]);\n\n  return {\n    isPressed: isPressedProp || isPressed,\n    pressProps: mergeProps(domProps, pressProps)\n  };\n}\n\nfunction isHTMLAnchorLink(target: HTMLElement): boolean {\n  return target.tagName === 'A' && target.hasAttribute('href');\n}\n\nfunction isValidKeyboardEvent(event: KeyboardEvent): boolean {\n  const {key, code, target} = event;\n  const element = target as HTMLElement;\n  const {tagName, isContentEditable} = element;\n  const role = element.getAttribute('role');\n  // Accessibility for keyboards. Space and Enter only.\n  // \"Spacebar\" is for IE 11\n  return (\n    (key === 'Enter' || key === ' ' || key === 'Spacebar' || code === 'Space') &&\n    (tagName !== 'INPUT' &&\n      tagName !== 'TEXTAREA' &&\n      isContentEditable !== true) &&\n    // A link with a valid href should be handled natively,\n    // unless it also has role='button' and was triggered using Space.\n    (!isHTMLAnchorLink(element) || (role === 'button' && key !== 'Enter')) &&\n    // An element with role='link' should only trigger with Enter key\n    !(role === 'link' && key !== 'Enter')\n  );\n}\n\nfunction getTouchFromEvent(event: TouchEvent): Touch | null {\n  const {targetTouches} = event;\n  if (targetTouches.length > 0) {\n    return targetTouches[0];\n  }\n  return null;\n}\n\nfunction getTouchById(\n  event: TouchEvent,\n  pointerId: null | number\n): null | Touch {\n  const changedTouches = event.changedTouches;\n  for (let i = 0; i < changedTouches.length; i++) {\n    const touch = changedTouches[i];\n    if (touch.identifier === pointerId) {\n      return touch;\n    }\n  }\n  return null;\n}\n\nfunction createEvent(target: HTMLElement, e: EventBase): EventBase {\n  return {\n    currentTarget: target,\n    shiftKey: e.shiftKey,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey\n  };\n}\n\ninterface Rect {\n  top: number,\n  right: number,\n  bottom: number,\n  left: number\n}\n\ninterface EventPoint {\n  clientX: number,\n  clientY: number,\n  width?: number,\n  height?: number,\n  radiusX?: number,\n  radiusY?: number\n}\n\nfunction getPointClientRect(point: EventPoint): Rect {\n  let offsetX = (point.width / 2) || point.radiusX || 0;\n  let offsetY = (point.height / 2) || point.radiusY || 0;\n\n  return {\n    top: point.clientY - offsetY,\n    right: point.clientX + offsetX,\n    bottom: point.clientY + offsetY,\n    left: point.clientX - offsetX\n  };\n}\n\nfunction areRectanglesOverlapping(a: Rect, b: Rect) {\n  // check if they cannot overlap on x axis\n  if (a.left > b.right || b.left > a.right) {\n    return false;\n  }\n  // check if they cannot overlap on y axis\n  if (a.top > b.bottom || b.top > a.bottom) {\n    return false;\n  }\n  return true;\n}\n\nfunction isOverTarget(point: EventPoint, target: HTMLElement) {\n  let rect = target.getBoundingClientRect();\n  let pointRect = getPointClientRect(point);\n  return areRectanglesOverlapping(rect, pointRect);\n}\n\nfunction shouldPreventDefault(target: HTMLElement) {\n  // We cannot prevent default if the target is a draggable element.\n  return !target.draggable;\n}\n\nfunction shouldPreventDefaultKeyboard(target: Element) {\n  return !((target.tagName === 'INPUT' || target.tagName === 'BUTTON') && (target as HTMLButtonElement | HTMLInputElement).type === 'submit');\n}\n\nfunction isVirtualPointerEvent(event: PointerEvent) {\n  // If the pointer size is zero, then we assume it's from a screen reader.\n  // Android TalkBack double tap will sometimes return a event with width and height of 1\n  // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n  // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n  // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216\n  return (\n    (event.width === 0 && event.height === 0) ||\n    (event.width === 1 &&\n      event.height === 1 &&\n      event.pressure === 0 &&\n      event.detail === 0\n    )\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {mergeProps} from '@react-aria/utils';\nimport {PressProps, usePress} from './usePress';\nimport React, {HTMLAttributes, ReactElement, RefObject, useRef} from 'react';\n\ninterface PressableProps extends PressProps {\n  children: ReactElement<HTMLAttributes<HTMLElement>, string>\n}\n\nexport const Pressable = React.forwardRef(({children, ...props}: PressableProps, ref: RefObject<HTMLElement>) => {\n  let newRef = useRef();\n  ref = ref ?? newRef;\n  let {pressProps} = usePress({...props, ref});\n  let child = React.Children.only(children);\n  return React.cloneElement(\n    child,\n    // @ts-ignore\n    {ref, ...mergeProps(child.props, pressProps)}\n  );\n});\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport {PressProps} from './usePress';\nimport {PressResponderContext} from './context';\nimport React, {ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\n\ninterface PressResponderProps extends PressProps {\n  children: ReactNode\n}\n\nexport const PressResponder = React.forwardRef(({children, ...props}: PressResponderProps, ref: RefObject<HTMLElement>) => {\n  let isRegistered = useRef(false);\n  let prevContext = useContext(PressResponderContext);\n  let context = mergeProps(prevContext || {}, {\n    ...props,\n    ref: ref || prevContext?.ref,\n    register() {\n      isRegistered.current = true;\n      if (prevContext) {\n        prevContext.register();\n      }\n    }\n  });\n\n  useSyncRef(prevContext, ref);\n\n  useEffect(() => {\n    if (!isRegistered.current) {\n      console.warn(\n        'A PressResponder was rendered without a pressable child. ' +\n        'Either call the usePress hook, or wrap your DOM node with <Pressable> component.'\n      );\n    }\n  }, []);\n\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n});\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {FocusEvent, HTMLAttributes} from 'react';\nimport {FocusEvents} from '@react-types/shared';\nimport {useSyntheticBlurEvent} from './utils';\n\ninterface FocusProps extends FocusEvents {\n  /** Whether the focus events should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface FocusResult {\n  /** Props to spread onto the target element. */\n  focusProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles focus events for the immediate target.\n * Focus events on child elements will be ignored.\n */\nexport function useFocus(props: FocusProps): FocusResult {\n  let onBlur: FocusProps['onBlur'];\n  if (!props.isDisabled && (props.onBlur || props.onFocusChange)) {\n    onBlur = (e: FocusEvent) => {\n      if (e.target === e.currentTarget) {\n        if (props.onBlur) {\n          props.onBlur(e);\n        }\n\n        if (props.onFocusChange) {\n          props.onFocusChange(false);\n        }\n\n        return true;\n      }\n    };\n  } else {\n    onBlur = null;\n  }\n\n  let onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n\n  let onFocus: FocusProps['onFocus'];\n  if (!props.isDisabled && (props.onFocus || props.onFocusChange || props.onBlur)) {\n    onFocus = (e: FocusEvent) => {\n      if (e.target === e.currentTarget) {\n        if (props.onFocus) {\n          props.onFocus(e);\n        }\n\n        if (props.onFocusChange) {\n          props.onFocusChange(true);\n        }\n\n        onSyntheticFocus(e);\n      }\n    };\n  }\n\n  return {\n    focusProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {isMac} from '@react-aria/utils';\nimport {isVirtualClick} from './utils';\nimport {useEffect, useState} from 'react';\n\ntype Modality = 'keyboard' | 'pointer' | 'virtual';\ntype HandlerEvent = PointerEvent | MouseEvent | KeyboardEvent | FocusEvent;\ntype Handler = (modality: Modality, e: HandlerEvent) => void;\ntype FocusVisibleHandler = (isFocusVisible: boolean) => void;\ninterface FocusVisibleProps {\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\ninterface FocusVisibleResult {\n  /** Whether keyboard focus is visible globally. */\n  isFocusVisible: boolean\n}\n\nlet currentModality = null;\nlet changeHandlers = new Set<Handler>();\nlet hasSetupGlobalListeners = false;\nlet hasEventBeforeFocus = false;\nlet hasBlurredWindowRecently = false;\n\n// Only Tab or Esc keys will make focus visible on text input elements\nconst FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\n\nfunction triggerChangeHandlers(modality: Modality, e: HandlerEvent) {\n  for (let handler of changeHandlers) {\n    handler(modality, e);\n  }\n}\n\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */\nfunction isValidKey(e: KeyboardEvent) {\n  // Control and Shift keys trigger when navigating back to the tab with keyboard.\n  return !(e.metaKey || (!isMac() && e.altKey) || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\n\n\nfunction handleKeyboardEvent(e: KeyboardEvent) {\n  hasEventBeforeFocus = true;\n  if (isValidKey(e)) {\n    currentModality = 'keyboard';\n    triggerChangeHandlers('keyboard', e);\n  }\n}\n\nfunction handlePointerEvent(e: PointerEvent | MouseEvent) {\n  currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    hasEventBeforeFocus = true;\n    triggerChangeHandlers('pointer', e);\n  }\n}\n\nfunction handleClickEvent(e: MouseEvent) {\n  if (isVirtualClick(e)) {\n    hasEventBeforeFocus = true;\n    currentModality = 'virtual';\n  }\n}\n\nfunction handleFocusEvent(e: FocusEvent) {\n  // Firefox fires two extra focus events when the user first clicks into an iframe:\n  // first on the window, then on the document. We ignore these events so they don't\n  // cause keyboard focus rings to appear.\n  if (e.target === window || e.target === document) {\n    return;\n  }\n\n  // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n  // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n  if (!hasEventBeforeFocus && !hasBlurredWindowRecently) {\n    currentModality = 'virtual';\n    triggerChangeHandlers('virtual', e);\n  }\n\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = false;\n}\n\nfunction handleWindowBlur() {\n  // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n  // for example, since a subsequent focus event won't be fired.\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = true;\n}\n\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */\nfunction setupGlobalFocusEvents() {\n  if (typeof window === 'undefined' || hasSetupGlobalListeners) {\n    return;\n  }\n\n  // Programmatic focus() calls shouldn't affect the current input modality.\n  // However, we need to detect other cases when a focus event occurs without\n  // a preceding user event (e.g. screen reader focus). Overriding the focus\n  // method on HTMLElement.prototype is a bit hacky, but works.\n  let focus = HTMLElement.prototype.focus;\n  HTMLElement.prototype.focus = function () {\n    hasEventBeforeFocus = true;\n    focus.apply(this, arguments);\n  };\n\n  document.addEventListener('keydown', handleKeyboardEvent, true);\n  document.addEventListener('keyup', handleKeyboardEvent, true);\n  document.addEventListener('click', handleClickEvent, true);\n\n  // Register focus events on the window so they are sure to happen\n  // before React's event listeners (registered on the document).\n  window.addEventListener('focus', handleFocusEvent, true);\n  window.addEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerdown', handlePointerEvent, true);\n    document.addEventListener('pointermove', handlePointerEvent, true);\n    document.addEventListener('pointerup', handlePointerEvent, true);\n  } else {\n    document.addEventListener('mousedown', handlePointerEvent, true);\n    document.addEventListener('mousemove', handlePointerEvent, true);\n    document.addEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  hasSetupGlobalListeners = true;\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalFocusEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalFocusEvents);\n  }\n}\n\n/**\n * If true, keyboard focus is visible.\n */\nexport function isFocusVisible(): boolean {\n  return currentModality !== 'pointer';\n}\n\nexport function getInteractionModality(): Modality {\n  return currentModality;\n}\n\nexport function setInteractionModality(modality: Modality) {\n  currentModality = modality;\n  triggerChangeHandlers(modality, null);\n}\n\n/**\n * Keeps state of the current modality.\n */\nexport function useInteractionModality(): Modality {\n  setupGlobalFocusEvents();\n\n  let [modality, setModality] = useState(currentModality);\n  useEffect(() => {\n    let handler = () => {\n      setModality(currentModality);\n    };\n\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, []);\n\n  return modality;\n}\n\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */\nfunction isKeyboardFocusEvent(isTextInput: boolean, modality: Modality, e: HandlerEvent) {\n  return !(isTextInput && modality === 'keyboard' && e instanceof KeyboardEvent && !FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\n\n/**\n * Manages focus visible state for the page, and subscribes individual components for updates.\n */\nexport function useFocusVisible(props: FocusVisibleProps = {}): FocusVisibleResult {\n  let {isTextInput, autoFocus} = props;\n  let [isFocusVisibleState, setFocusVisible] = useState(autoFocus || isFocusVisible());\n  useFocusVisibleListener((isFocusVisible) => {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {isTextInput});\n\n  return {isFocusVisible: isFocusVisibleState};\n}\n\n/**\n * Listens for trigger change and reports if focus is visible (i.e., modality is not pointer).\n */\nexport function useFocusVisibleListener(fn: FocusVisibleHandler, deps: ReadonlyArray<any>, opts?: {isTextInput?: boolean}): void {\n  setupGlobalFocusEvents();\n\n  useEffect(() => {\n    let handler = (modality: Modality, e: HandlerEvent) => {\n      if (!isKeyboardFocusEvent(opts?.isTextInput, modality, e)) {\n        return;\n      }\n      fn(isFocusVisible());\n    };\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, deps);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {FocusEvent, HTMLAttributes, useRef} from 'react';\nimport {useSyntheticBlurEvent} from './utils';\n\ninterface FocusWithinProps {\n  /** Whether the focus within events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when the target element or a descendant receives focus. */\n  onFocusWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the target element and all descendants lose focus. */\n  onBlurWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the the focus within state changes. */\n  onFocusWithinChange?: (isFocusWithin: boolean) => void\n}\n\ninterface FocusWithinResult {\n  /** Props to spread onto the target element. */\n  focusWithinProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles focus events for the target and its descendants.\n */\nexport function useFocusWithin(props: FocusWithinProps): FocusWithinResult {\n  let state = useRef({\n    isFocusWithin: false\n  }).current;\n\n  let onBlur = props.isDisabled ? null : (e: FocusEvent) => {\n    // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n    // when moving focus inside the element. Only trigger if the currentTarget doesn't\n    // include the relatedTarget (where focus is moving).\n    if (state.isFocusWithin && !(e.currentTarget as Element).contains(e.relatedTarget as Element)) {\n      state.isFocusWithin = false;\n\n      if (props.onBlurWithin) {\n        props.onBlurWithin(e);\n      }\n\n      if (props.onFocusWithinChange) {\n        props.onFocusWithinChange(false);\n      }\n    }\n  };\n\n  let onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n  let onFocus = props.isDisabled ? null : (e: FocusEvent) => {\n    if (!state.isFocusWithin) {\n      if (props.onFocusWithin) {\n        props.onFocusWithin(e);\n      }\n\n      if (props.onFocusWithinChange) {\n        props.onFocusWithinChange(true);\n      }\n\n      state.isFocusWithin = true;\n      onSyntheticFocus(e);\n    }\n  };\n\n  return {\n    focusWithinProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {HoverEvents} from '@react-types/shared';\nimport {HTMLAttributes, useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface HoverProps extends HoverEvents {\n  /** Whether the hover events should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface HoverResult {\n  /** Props to spread on the target element. */\n  hoverProps: HTMLAttributes<HTMLElement>,\n  isHovered: boolean\n}\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet globalIgnoreEmulatedMouseEvents = false;\nlet hoverCount = 0;\n\nfunction setGlobalIgnoreEmulatedMouseEvents() {\n  globalIgnoreEmulatedMouseEvents = true;\n\n  // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n  // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n  // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n  // the distant future because a user previously touched the element.\n  setTimeout(() => {\n    globalIgnoreEmulatedMouseEvents = false;\n  }, 50);\n}\n\nfunction handleGlobalPointerEvent(e) {\n  if (e.pointerType === 'touch') {\n    setGlobalIgnoreEmulatedMouseEvents();\n  }\n}\n\nfunction setupGlobalTouchEvents() {\n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerup', handleGlobalPointerEvent);\n  } else {\n    document.addEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n  }\n\n  hoverCount++;\n  return () => {\n    hoverCount--;\n    if (hoverCount > 0) {\n      return;\n    }\n\n    if (typeof PointerEvent !== 'undefined') {\n      document.removeEventListener('pointerup', handleGlobalPointerEvent);\n    } else {\n      document.removeEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n    }\n  };\n}\n\n/**\n * Handles pointer hover interactions for an element. Normalizes behavior\n * across browsers and platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useHover(props: HoverProps): HoverResult {\n  let {\n    onHoverStart,\n    onHoverChange,\n    onHoverEnd,\n    isDisabled\n  } = props;\n\n  let [isHovered, setHovered] = useState(false);\n  let state = useRef({\n    isHovered: false,\n    ignoreEmulatedMouseEvents: false,\n    pointerType: '',\n    target: null\n  }).current;\n\n  useEffect(setupGlobalTouchEvents, []);\n\n  let {hoverProps, triggerHoverEnd} = useMemo(() => {\n    let triggerHoverStart = (event, pointerType) => {\n      state.pointerType = pointerType;\n      if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) {\n        return;\n      }\n\n      state.isHovered = true;\n      let target = event.currentTarget;\n      state.target = target;\n\n      if (onHoverStart) {\n        onHoverStart({\n          type: 'hoverstart',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(true);\n      }\n\n      setHovered(true);\n    };\n\n    let triggerHoverEnd = (event, pointerType) => {\n      state.pointerType = '';\n      state.target = null;\n\n      if (pointerType === 'touch' || !state.isHovered) {\n        return;\n      }\n\n      state.isHovered = false;\n      let target = event.currentTarget;\n      if (onHoverEnd) {\n        onHoverEnd({\n          type: 'hoverend',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(false);\n      }\n\n      setHovered(false);\n    };\n\n    let hoverProps: HTMLAttributes<HTMLElement> = {};\n\n    if (typeof PointerEvent !== 'undefined') {\n      hoverProps.onPointerEnter = (e) => {\n        if (globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') {\n          return;\n        }\n\n        triggerHoverStart(e, e.pointerType);\n      };\n\n      hoverProps.onPointerLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as HTMLElement)) {\n          triggerHoverEnd(e, e.pointerType);\n        }\n      };\n    } else {\n      hoverProps.onTouchStart = () => {\n        state.ignoreEmulatedMouseEvents = true;\n      };\n\n      hoverProps.onMouseEnter = (e) => {\n        if (!state.ignoreEmulatedMouseEvents && !globalIgnoreEmulatedMouseEvents) {\n          triggerHoverStart(e, 'mouse');\n        }\n\n        state.ignoreEmulatedMouseEvents = false;\n      };\n\n      hoverProps.onMouseLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as HTMLElement)) {\n          triggerHoverEnd(e, 'mouse');\n        }\n      };\n    }\n    return {hoverProps, triggerHoverEnd};\n  }, [onHoverStart, onHoverChange, onHoverEnd, isDisabled, state]);\n\n  useEffect(() => {\n    // Call the triggerHoverEnd as soon as isDisabled changes to true\n    // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n    if (isDisabled) {\n      triggerHoverEnd({currentTarget: state.target}, state.pointerType);\n    }\n  }, [isDisabled]);\n\n  return {\n    hoverProps,\n    isHovered\n  };\n}\n\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {RefObject, SyntheticEvent, useEffect, useRef} from 'react';\n\ninterface InteractOutsideProps {\n  ref: RefObject<Element>,\n  onInteractOutside?: (e: SyntheticEvent) => void,\n  onInteractOutsideStart?: (e: SyntheticEvent) => void,\n  /** Whether the interact outside events should be disabled. */\n  isDisabled?: boolean\n}\n\n/**\n * Example, used in components like Dialogs and Popovers so they can close\n * when a user clicks outside them.\n */\nexport function useInteractOutside(props: InteractOutsideProps) {\n  let {ref, onInteractOutside, isDisabled, onInteractOutsideStart} = props;\n  let stateRef = useRef({\n    isPointerDown: false,\n    ignoreEmulatedMouseEvents: false,\n    onInteractOutside,\n    onInteractOutsideStart\n  });\n  let state = stateRef.current;\n  state.onInteractOutside = onInteractOutside;\n  state.onInteractOutsideStart = onInteractOutsideStart;\n\n  useEffect(() => {\n    if (isDisabled) {\n      return;\n    }\n\n    let onPointerDown = (e) => {\n      if (isValidEvent(e, ref) && state.onInteractOutside) {\n        if (state.onInteractOutsideStart) {\n          state.onInteractOutsideStart(e);\n        }\n        state.isPointerDown = true;\n      }\n    };\n\n    // Use pointer events if available. Otherwise, fall back to mouse and touch events.\n    if (typeof PointerEvent !== 'undefined') {\n      let onPointerUp = (e) => {\n        if (state.isPointerDown && state.onInteractOutside && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      // changing these to capture phase fixed combobox\n      document.addEventListener('pointerdown', onPointerDown, true);\n      document.addEventListener('pointerup', onPointerUp, true);\n\n      return () => {\n        document.removeEventListener('pointerdown', onPointerDown, true);\n        document.removeEventListener('pointerup', onPointerUp, true);\n      };\n    } else {\n      let onMouseUp = (e) => {\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n        } else if (state.isPointerDown && state.onInteractOutside && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      let onTouchEnd = (e) => {\n        state.ignoreEmulatedMouseEvents = true;\n        if (state.onInteractOutside && state.isPointerDown && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      document.addEventListener('mousedown', onPointerDown, true);\n      document.addEventListener('mouseup', onMouseUp, true);\n      document.addEventListener('touchstart', onPointerDown, true);\n      document.addEventListener('touchend', onTouchEnd, true);\n\n      return () => {\n        document.removeEventListener('mousedown', onPointerDown, true);\n        document.removeEventListener('mouseup', onMouseUp, true);\n        document.removeEventListener('touchstart', onPointerDown, true);\n        document.removeEventListener('touchend', onTouchEnd, true);\n      };\n    }\n  }, [ref, state, isDisabled]);\n}\n\nfunction isValidEvent(event, ref) {\n  if (event.button > 0) {\n    return false;\n  }\n\n  // if the event target is no longer in the document\n  if (event.target) {\n    const ownerDocument = event.target.ownerDocument;\n    if (!ownerDocument || !ownerDocument.documentElement.contains(event.target)) {\n      return false;\n    }\n  }\n\n  return ref.current && !ref.current.contains(event.target);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {BaseEvent} from '@react-types/shared';\nimport {SyntheticEvent} from 'react';\n\n/**\n * This function wraps a React event handler to make stopPropagation the default, and support continuePropagation instead.\n */\nexport function createEventHandler<T extends SyntheticEvent>(handler: (e: BaseEvent<T>) => void): (e: T) => void {\n  if (!handler) {\n    return;\n  }\n\n  let shouldStopPropagation = true;\n  return (e: T) => {\n    let event: BaseEvent<T> = {\n      ...e,\n      preventDefault() {\n        e.preventDefault();\n      },\n      isDefaultPrevented() {\n        return e.isDefaultPrevented();\n      },\n      stopPropagation() {\n        console.error('stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.');\n      },\n      continuePropagation() {\n        shouldStopPropagation = false;\n      }\n    };\n\n    handler(event);\n\n    if (shouldStopPropagation) {\n      e.stopPropagation();\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {createEventHandler} from './createEventHandler';\nimport {HTMLAttributes} from 'react';\nimport {KeyboardEvents} from '@react-types/shared';\n\nexport interface KeyboardProps extends KeyboardEvents {\n  /** Whether the keyboard events should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface KeyboardResult {\n  /** Props to spread onto the target element. */\n  keyboardProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles keyboard interactions for a focusable element.\n */\nexport function useKeyboard(props: KeyboardProps): KeyboardResult {\n  return {\n    keyboardProps: props.isDisabled ? {} : {\n      onKeyDown: createEventHandler(props.onKeyDown),\n      onKeyUp: createEventHandler(props.onKeyUp)\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {disableTextSelection, restoreTextSelection}  from './textSelection';\nimport {MoveEvents, PointerType} from '@react-types/shared';\nimport React, {HTMLAttributes, useMemo, useRef} from 'react';\nimport {useGlobalListeners} from '@react-aria/utils';\n\ninterface MoveResult {\n  /** Props to spread on the target element. */\n  moveProps: HTMLAttributes<HTMLElement>\n}\n\ninterface EventBase {\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\n/**\n * Handles move interactions across mouse, touch, and keyboard, including dragging with\n * the mouse or touch, and using the arrow keys. Normalizes behavior across browsers and\n * platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useMove(props: MoveEvents): MoveResult {\n  let {onMoveStart, onMove, onMoveEnd} = props;\n\n  let state = useRef<{\n    didMove: boolean,\n    lastPosition: {pageX: number, pageY: number} | null,\n    id: number | null\n  }>({didMove: false, lastPosition: null, id: null});\n\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let moveProps = useMemo(() => {\n    let moveProps: HTMLAttributes<HTMLElement> = {};\n\n    let start = () => {\n      disableTextSelection();\n      state.current.didMove = false;\n    };\n    let move = (originalEvent: EventBase, pointerType: PointerType, deltaX: number, deltaY: number) => {\n      if (deltaX === 0 && deltaY === 0) {\n        return;\n      }\n\n      if (!state.current.didMove) {\n        state.current.didMove = true;\n        onMoveStart?.({\n          type: 'movestart',\n          pointerType,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n      onMove({\n        type: 'move',\n        pointerType,\n        deltaX: deltaX,\n        deltaY: deltaY,\n        shiftKey: originalEvent.shiftKey,\n        metaKey: originalEvent.metaKey,\n        ctrlKey: originalEvent.ctrlKey,\n        altKey: originalEvent.altKey\n      });\n    };\n    let end = (originalEvent: EventBase, pointerType: PointerType) => {\n      restoreTextSelection();\n      if (state.current.didMove) {\n        onMoveEnd?.({\n          type: 'moveend',\n          pointerType,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    if (typeof PointerEvent === 'undefined') {\n      let onMouseMove = (e: MouseEvent) => {\n        if (e.button === 0) {\n          move(e, 'mouse', e.pageX - state.current.lastPosition.pageX, e.pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n      let onMouseUp = (e: MouseEvent) => {\n        if (e.button === 0) {\n          end(e, 'mouse');\n          removeGlobalListener(window, 'mousemove', onMouseMove, false);\n          removeGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n      moveProps.onMouseDown = (e: React.MouseEvent) => {\n        if (e.button === 0) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          addGlobalListener(window, 'mousemove', onMouseMove, false);\n          addGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n\n      let onTouchMove = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          let {pageX, pageY} = e.changedTouches[touch];\n          move(e, 'touch', pageX - state.current.lastPosition.pageX, pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX, pageY};\n        }\n      };\n      let onTouchEnd = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          end(e, 'touch');\n          state.current.id = null;\n          removeGlobalListener(window, 'touchmove', onTouchMove);\n          removeGlobalListener(window, 'touchend', onTouchEnd);\n          removeGlobalListener(window, 'touchcancel', onTouchEnd);\n        }\n      };\n      moveProps.onTouchStart = (e: React.TouchEvent) => {\n        if (e.changedTouches.length === 0 || state.current.id != null) {\n          return;\n        }\n\n        let {pageX, pageY, identifier} = e.changedTouches[0];\n        start();\n        e.stopPropagation();\n        e.preventDefault();\n        state.current.lastPosition = {pageX, pageY};\n        state.current.id = identifier;\n        addGlobalListener(window, 'touchmove', onTouchMove, false);\n        addGlobalListener(window, 'touchend', onTouchEnd, false);\n        addGlobalListener(window, 'touchcancel', onTouchEnd, false);\n      };\n    } else {\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n\n          // Problems with PointerEvent#movementX/movementY:\n          // 1. it is always 0 on macOS Safari.\n          // 2. On Chrome Android, it's scaled by devicePixelRatio, but not on Chrome macOS\n          move(e, pointerType, e.pageX - state.current.lastPosition.pageX, e.pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n          end(e, pointerType);\n          state.current.id = null;\n          removeGlobalListener(window, 'pointermove', onPointerMove, false);\n          removeGlobalListener(window, 'pointerup', onPointerUp, false);\n          removeGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n\n      moveProps.onPointerDown = (e: React.PointerEvent) => {\n        if (e.button === 0 && state.current.id == null) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          state.current.id = e.pointerId;\n          addGlobalListener(window, 'pointermove', onPointerMove, false);\n          addGlobalListener(window, 'pointerup', onPointerUp, false);\n          addGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n    }\n\n    let triggerKeyboardMove = (e: EventBase, deltaX: number, deltaY: number) => {\n      start();\n      move(e, 'keyboard', deltaX, deltaY);\n      end(e, 'keyboard');\n    };\n\n    moveProps.onKeyDown = (e) => {\n      switch (e.key) {\n        case 'Left':\n        case 'ArrowLeft':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, -1, 0);\n          break;\n        case 'Right':\n        case 'ArrowRight':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 1, 0);\n          break;\n        case 'Up':\n        case 'ArrowUp':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, -1);\n          break;\n        case 'Down':\n        case 'ArrowDown':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, 1);\n          break;\n      }\n    };\n\n    return moveProps;\n  }, [state, onMoveStart, onMove, onMoveEnd, addGlobalListener, removeGlobalListener]);\n\n  return {moveProps};\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useCallback} from 'react';\nimport {ScrollEvents} from '@react-types/shared';\nimport {useEvent} from '@react-aria/utils';\n\nexport interface ScrollWheelProps extends ScrollEvents {\n  /** Whether the scroll listener should be disabled. */\n  isDisabled?: boolean\n}\n\n// scroll wheel needs to be added not passively so it's cancelable, small helper hook to remember that\nexport function useScrollWheel(props: ScrollWheelProps, ref: RefObject<HTMLElement>): void {\n  let {onScroll, isDisabled} = props;\n  let onScrollHandler = useCallback((e) => {\n    // If the ctrlKey is pressed, this is a zoom event, do nothing.\n    if (e.ctrlKey) {\n      return;\n    }\n\n    // stop scrolling the page\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (onScroll) {\n      onScroll({deltaX: e.deltaX, deltaY: e.deltaY});\n    }\n  }, [onScroll]);\n\n  useEvent(ref, 'wheel', isDisabled ? null : onScrollHandler);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {HTMLAttributes, useRef} from 'react';\nimport {LongPressEvent} from '@react-types/shared';\nimport {mergeProps, useDescription, useGlobalListeners} from '@react-aria/utils';\nimport {usePress} from './usePress';\n\ninterface LongPressProps {\n  /** Whether long press events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when a long press interaction starts. */\n  onLongPressStart?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when a long press interaction ends, either\n   * over the target or when the pointer leaves the target.\n   */\n  onLongPressEnd?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when the threshold time is met while\n   * the press is over the target.\n   */\n  onLongPress?: (e: LongPressEvent) => void,\n  /**\n   * The amount of time in milliseconds to wait before triggering a long press.\n   * @default 500ms\n   */\n  threshold?: number,\n  /**\n   * A description for assistive techology users indicating that a long press\n   * action is available, e.g. \"Long press to open menu\".\n   */\n  accessibilityDescription?: string\n}\n\ninterface LongPressResult {\n  /** Props to spread on the target element. */\n  longPressProps: HTMLAttributes<HTMLElement>\n}\n\nconst DEFAULT_THRESHOLD = 500;\n\n/**\n * Handles long press interactions across mouse and touch devices. Supports a customizable time threshold,\n * accessibility description, and normalizes behavior across browsers and devices.\n */\nexport function useLongPress(props: LongPressProps): LongPressResult {\n  let {\n    isDisabled,\n    onLongPressStart,\n    onLongPressEnd,\n    onLongPress,\n    threshold = DEFAULT_THRESHOLD,\n    accessibilityDescription\n  } = props;\n\n  const timeRef = useRef(null);\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let {pressProps} = usePress({\n    isDisabled,\n    onPressStart(e) {\n      if (e.pointerType === 'mouse' || e.pointerType === 'touch') {\n        if (onLongPressStart) {\n          onLongPressStart({\n            ...e,\n            type: 'longpressstart'\n          });\n        }\n\n        timeRef.current = setTimeout(() => {\n          // Prevent other usePress handlers from also handling this event.\n          e.target.dispatchEvent(new PointerEvent('pointercancel', {bubbles: true}));\n          if (onLongPress) {\n            onLongPress({\n              ...e,\n              type: 'longpress'\n            });\n          }\n          timeRef.current = null;\n        }, threshold);\n\n        // Prevent context menu, which may be opened on long press on touch devices\n        if (e.pointerType === 'touch') {\n          let onContextMenu = e => {\n            e.preventDefault();\n          };\n\n          addGlobalListener(e.target, 'contextmenu', onContextMenu, {once: true});\n          addGlobalListener(window, 'pointerup', () => {\n            // If no contextmenu event is fired quickly after pointerup, remove the handler\n            // so future context menu events outside a long press are not prevented.\n            setTimeout(() => {\n              removeGlobalListener(e.target, 'contextmenu', onContextMenu);\n            }, 30);\n          }, {once: true});\n        }\n      }\n    },\n    onPressEnd(e) {\n      if (timeRef.current) {\n        clearTimeout(timeRef.current);\n      }\n\n      if (onLongPressEnd && (e.pointerType === 'mouse' || e.pointerType === 'touch')) {\n        onLongPressEnd({\n          ...e,\n          type: 'longpressend'\n        });\n      }\n    }\n  });\n\n  let descriptionProps = useDescription(onLongPress && !isDisabled ? accessibilityDescription : null);\n\n  return {\n    longPressProps: mergeProps(pressProps, descriptionProps)\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {\n  AnchorHTMLAttributes,\n  ButtonHTMLAttributes,\n  ElementType,\n  HTMLAttributes,\n  InputHTMLAttributes,\n  RefObject\n} from 'react';\nimport {AriaButtonProps} from '@react-types/button';\nimport {filterDOMProps} from '@react-aria/utils';\nimport {mergeProps} from '@react-aria/utils';\nimport {useFocusable} from '@react-aria/focus';\nimport {usePress} from '@react-aria/interactions';\n\n\nexport interface ButtonAria<T> {\n  /** Props for the button element. */\n  buttonProps: T,\n  /** Whether the button is currently pressed. */\n  isPressed: boolean\n}\n\n// Order with overrides is important: 'button' should be default\nexport function useButton(props: AriaButtonProps<'button'>, ref: RefObject<HTMLButtonElement>): ButtonAria<ButtonHTMLAttributes<HTMLButtonElement>>;\nexport function useButton(props: AriaButtonProps<'a'>, ref: RefObject<HTMLAnchorElement>): ButtonAria<AnchorHTMLAttributes<HTMLAnchorElement>>;\nexport function useButton(props: AriaButtonProps<'div'>, ref: RefObject<HTMLDivElement>): ButtonAria<HTMLAttributes<HTMLDivElement>>;\nexport function useButton(props: AriaButtonProps<'input'>, ref: RefObject<HTMLInputElement>): ButtonAria<InputHTMLAttributes<HTMLInputElement>>;\nexport function useButton(props: AriaButtonProps<'span'>, ref: RefObject<HTMLSpanElement>): ButtonAria<HTMLAttributes<HTMLSpanElement>>;\nexport function useButton(props: AriaButtonProps<ElementType>, ref: RefObject<HTMLElement>): ButtonAria<HTMLAttributes<HTMLElement>>;\n/**\n * Provides the behavior and accessibility implementation for a button component. Handles mouse, keyboard, and touch interactions,\n * focus behavior, and ARIA props for both native button elements and custom element types.\n * @param props - Props to be applied to the button.\n * @param ref - A ref to a DOM element for the button.\n */\nexport function useButton(props: AriaButtonProps<ElementType>, ref: RefObject<any>): ButtonAria<HTMLAttributes<any>> {\n  let {\n    elementType = 'button',\n    isDisabled,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    onPressChange,\n    // @ts-ignore - undocumented\n    preventFocusOnPress,\n    // @ts-ignore - undocumented\n    allowFocusWhenDisabled,\n    // @ts-ignore\n    onClick: deprecatedOnClick,\n    href,\n    target,\n    rel,\n    type = 'button'\n  } = props;\n  let additionalProps;\n  if (elementType === 'button') {\n    additionalProps = {\n      type,\n      disabled: isDisabled\n    };\n  } else {\n    additionalProps = {\n      role: 'button',\n      tabIndex: isDisabled ? undefined : 0,\n      href: elementType === 'a' && isDisabled ? undefined : href,\n      target: elementType === 'a' ? target : undefined,\n      type: elementType === 'input' ? type : undefined,\n      disabled: elementType === 'input' ? isDisabled : undefined,\n      'aria-disabled': !isDisabled || elementType === 'input' ? undefined : isDisabled,\n      rel: elementType === 'a' ? rel : undefined\n    };\n  }\n\n  let {pressProps, isPressed} = usePress({\n    onPressStart,\n    onPressEnd,\n    onPressChange,\n    onPress,\n    isDisabled,\n    preventFocusOnPress,\n    ref\n  });\n\n  let {focusableProps} = useFocusable(props, ref);\n  if (allowFocusWhenDisabled) {\n    focusableProps.tabIndex = isDisabled ? -1 : focusableProps.tabIndex;\n  }\n  let buttonProps = mergeProps(focusableProps, pressProps, filterDOMProps(props, {labelable: true}));\n\n  return {\n    isPressed, // Used to indicate press state for visual\n    buttonProps: mergeProps(additionalProps, buttonProps, {\n      'aria-haspopup': props['aria-haspopup'],\n      'aria-expanded': props['aria-expanded'],\n      'aria-controls': props['aria-controls'],\n      'aria-pressed': props['aria-pressed'],\n      onClick: (e) => {\n        if (deprecatedOnClick) {\n          deprecatedOnClick(e);\n          console.warn('onClick is deprecated, please use onPress');\n        }\n      }\n    })\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {\n  AnchorHTMLAttributes,\n  ButtonHTMLAttributes,\n  ElementType,\n  HTMLAttributes,\n  InputHTMLAttributes,\n  RefObject\n} from 'react';\nimport {AriaToggleButtonProps} from '@react-types/button';\nimport {ButtonAria, useButton} from './useButton';\nimport {chain} from '@react-aria/utils';\nimport {mergeProps} from '@react-aria/utils';\nimport {ToggleState} from '@react-stately/toggle';\n\nexport function useToggleButton(props: AriaToggleButtonProps<'a'>, state: ToggleState, ref: RefObject<HTMLAnchorElement>): ButtonAria<AnchorHTMLAttributes<HTMLAnchorElement>>;\nexport function useToggleButton(props: AriaToggleButtonProps<'button'>, state: ToggleState, ref: RefObject<HTMLButtonElement>): ButtonAria<ButtonHTMLAttributes<HTMLButtonElement>>;\nexport function useToggleButton(props: AriaToggleButtonProps<'div'>, state: ToggleState, ref: RefObject<HTMLDivElement>): ButtonAria<HTMLAttributes<HTMLDivElement>>;\nexport function useToggleButton(props: AriaToggleButtonProps<'input'>, state: ToggleState, ref: RefObject<HTMLInputElement>): ButtonAria<InputHTMLAttributes<HTMLInputElement>>;\nexport function useToggleButton(props: AriaToggleButtonProps<'span'>, state: ToggleState, ref: RefObject<HTMLSpanElement>): ButtonAria<HTMLAttributes<HTMLSpanElement>>;\nexport function useToggleButton(props: AriaToggleButtonProps<ElementType>, state: ToggleState, ref: RefObject<HTMLElement>): ButtonAria<HTMLAttributes<HTMLElement>>;\n/**\n * Provides the behavior and accessibility implementation for a toggle button component.\n * ToggleButtons allow users to toggle a selection on or off, for example switching between two states or modes.\n */\nexport function useToggleButton(props: AriaToggleButtonProps<ElementType>, state: ToggleState, ref: RefObject<any>): ButtonAria<HTMLAttributes<any>> {\n  const {isSelected} = state;\n  const {isPressed, buttonProps} = useButton({\n    ...props,\n    onPress: chain(state.toggle, props.onPress)\n  }, ref);\n\n  return {\n    isPressed,\n    buttonProps: mergeProps(buttonProps, {\n      'aria-pressed': isSelected\n    })\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useRef, useState} from 'react';\n\nexport function useControlledState<T>(\n  value: T,\n  defaultValue: T,\n  onChange: (value: T, ...args: any[]) => void\n): [T, (value: T, ...args: any[]) => void]  {\n  let [stateValue, setStateValue] = useState(value || defaultValue);\n  let ref = useRef(value !== undefined);\n  let wasControlled = ref.current;\n  let isControlled = value !== undefined;\n  // Internal state reference for useCallback\n  let stateRef = useRef(stateValue);\n  if (wasControlled !== isControlled) {\n    console.warn(`WARN: A component changed from ${wasControlled ? 'controlled' : 'uncontrolled'} to ${isControlled ? 'controlled' : 'uncontrolled'}.`);\n  }\n\n  ref.current = isControlled;\n\n  let setValue = useCallback((value, ...args) => {\n    let onChangeCaller = (value, ...onChangeArgs) => {\n      if (onChange) {\n        if (!Object.is(stateRef.current, value)) {\n          onChange(value, ...onChangeArgs);\n        }\n      }\n      if (!isControlled) {\n        stateRef.current = value;\n      }\n    };\n\n    if (typeof value === 'function') {\n      console.warn('We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320');\n      // this supports functional updates https://reactjs.org/docs/hooks-reference.html#functional-updates\n      // when someone using useControlledState calls setControlledState(myFunc)\n      // this will call our useState setState with a function as well which invokes myFunc and calls onChange with the value from myFunc\n      // if we're in an uncontrolled state, then we also return the value of myFunc which to setState looks as though it was just called with myFunc from the beginning\n      // otherwise we just return the controlled value, which won't cause a rerender because React knows to bail out when the value is the same\n      let updateFunction = (oldValue, ...functionArgs) => {\n        let interceptedValue = value(isControlled ? stateRef.current : oldValue, ...functionArgs);\n        onChangeCaller(interceptedValue, ...args);\n        if (!isControlled) {\n          return interceptedValue;\n        }\n        return oldValue;\n      };\n      setStateValue(updateFunction);\n    } else {\n      if (!isControlled) {\n        setStateValue(value);\n      }\n      onChangeCaller(value, ...args);\n    }\n  }, [isControlled, onChange]);\n\n  // If a controlled component's value prop changes, we need to update stateRef\n  if (isControlled) {\n    stateRef.current = value;\n  } else {\n    value = stateValue;\n  }\n\n  return [value, setValue];\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Takes a value and forces it to the closest min/max if it's outside. Also forces it to the closest valid step.\n */\nexport function clamp(value: number, min: number = -Infinity, max: number = Infinity): number {\n  let newValue = Math.min(Math.max(value, min), max);\n  return newValue;\n}\n\nexport function snapValueToStep(value: number, min: number, max: number, step: number): number {\n  let remainder = ((value - (isNaN(min) ? 0 : min)) % step);\n  let snappedValue = Math.abs(remainder) * 2 >= step\n    ? value + Math.sign(remainder) * (step - Math.abs(remainder))\n    : value - remainder;\n\n  if (!isNaN(min)) {\n    if (snappedValue < min) {\n      snappedValue = min;\n    } else if (!isNaN(max) && snappedValue > max) {\n      snappedValue = min + Math.floor((max - min) / step) * step;\n    }\n  } else if (!isNaN(max) && snappedValue > max) {\n    snappedValue = Math.floor(max / step) * step;\n  }\n\n  // correct floating point behavior by rounding to step precision\n  let string = step.toString();\n  let index = string.indexOf('.');\n  let precision = index >= 0 ? string.length - index : 0;\n\n  if (precision > 0) {\n    let pow = Math.pow(10, precision);\n    snappedValue = Math.round(snappedValue * pow) / pow;\n  }\n\n  return snappedValue;\n}\n\n/* Takes a value and rounds off to the number of digits. */\nexport function toFixedNumber(value: number, digits: number, base: number = 10): number {\n  const pow = Math.pow(base, digits);\n\n  return Math.round(value * pow) / pow;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React from 'react';\n\n// During SSR, React emits a warning when calling useLayoutEffect.\n// Since neither useLayoutEffect nor useEffect run on the server,\n// we can suppress this by replace it with a noop on the server.\nexport const useLayoutEffect = typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : () => {};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useSSRSafeId} from '@react-aria/ssr';\nimport {useValueEffect} from './';\n\nlet idsUpdaterMap: Map<string, (v: string) => void> = new Map();\n\n/**\n * If a default is not provided, generate an id.\n * @param defaultId - Default component id.\n */\nexport function useId(defaultId?: string): string {\n  let isRendering = useRef(true);\n  isRendering.current = true;\n  let [value, setValue] = useState(defaultId);\n  let nextId = useRef(null);\n\n  let res = useSSRSafeId(value);\n\n  // don't memo this, we want it new each render so that the Effects always run\n  let updateValue = (val) => {\n    if (!isRendering.current) {\n      setValue(val);\n    } else {\n      nextId.current = val;\n    }\n  };\n\n  idsUpdaterMap.set(res, updateValue);\n\n  useLayoutEffect(() => {\n    isRendering.current = false;\n  }, [updateValue]);\n\n  useLayoutEffect(() => {\n    let r = res;\n    return () => {\n      idsUpdaterMap.delete(r);\n    };\n  }, [res]);\n\n  useEffect(() => {\n    let newId = nextId.current;\n    if (newId) {\n      setValue(newId);\n      nextId.current = null;\n    }\n  }, [setValue, updateValue]);\n  return res;\n}\n\n/**\n * Merges two ids.\n * Different ids will trigger a side-effect and re-render components hooked up with `useId`.\n */\nexport function mergeIds(idA: string, idB: string): string {\n  if (idA === idB) {\n    return idA;\n  }\n\n  let setIdA = idsUpdaterMap.get(idA);\n  if (setIdA) {\n    setIdA(idB);\n    return idB;\n  }\n\n  let setIdB = idsUpdaterMap.get(idB);\n  if (setIdB) {\n    setIdB(idA);\n    return idA;\n  }\n\n  return idB;\n}\n\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as labelledby.\n * @param depArray - When to recalculate if the id is in the DOM.\n */\nexport function useSlotId(depArray: ReadonlyArray<any> = []): string {\n  let id = useId();\n  let [resolvedId, setResolvedId] = useValueEffect(id);\n  let updateId = useCallback(() => {\n    setResolvedId(function *() {\n      yield id;\n\n      yield document.getElementById(id) ? id : null;\n    });\n  }, [id, setResolvedId]);\n\n  useLayoutEffect(updateId, [id, updateId, ...depArray]);\n\n  return resolvedId;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (let callback of callbacks) {\n      if (typeof callback === 'function') {\n        callback(...args);\n      }\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {chain} from './chain';\nimport clsx from 'clsx';\nimport {mergeIds} from './useId';\n\ninterface Props {\n  [key: string]: any\n}\n\n// taken from: https://stackoverflow.com/questions/51603250/typescript-3-parameter-list-intersection-type/51604379#51604379\ntype TupleTypes<T> = { [P in keyof T]: T[P] } extends { [key: number]: infer V } ? V : never;\n// eslint-disable-next-line no-undef, @typescript-eslint/no-unused-vars\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;\n\n/**\n * Merges multiple props objects together. Event handlers are chained,\n * classNames are combined, and ids are deduplicated - different ids\n * will trigger a side-effect and re-render components hooked up with `useId`.\n * For all other props, the last prop object overrides all previous ones.\n * @param args - Multiple sets of props to merge together.\n */\nexport function mergeProps<T extends Props[]>(...args: T): UnionToIntersection<TupleTypes<T>> {\n  // Start with a base clone of the first argument. This is a lot faster than starting\n  // with an empty object and adding properties as we go.\n  let result: Props = {...args[0]};\n  for (let i = 1; i < args.length; i++) {\n    let props = args[i];\n    for (let key in props) {\n      let a = result[key];\n      let b = props[key];\n\n      // Chain events\n      if (\n        typeof a === 'function' &&\n        typeof b === 'function' &&\n        // This is a lot faster than a regex.\n        key[0] === 'o' &&\n        key[1] === 'n' &&\n        key.charCodeAt(2) >= /* 'A' */ 65 &&\n        key.charCodeAt(2) <= /* 'Z' */ 90\n      ) {\n        result[key] = chain(a, b);\n\n        // Merge classnames, sometimes classNames are empty string which eval to false, so we just need to do a type check\n      } else if (\n        (key === 'className' || key === 'UNSAFE_className') &&\n        typeof a === 'string' &&\n        typeof b === 'string'\n      ) {\n        result[key] = clsx(a, b);\n      } else if (key === 'id' && a && b) {\n        result.id = mergeIds(a, b);\n        // Override others\n      } else {\n        result[key] = b !== undefined ? b : a;\n      }\n    }\n  }\n\n  return result as UnionToIntersection<TupleTypes<T>>;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {HTMLAttributes} from 'react';\n\nconst DOMPropNames = new Set([\n  'id'\n]);\n\nconst labelablePropNames = new Set([\n  'aria-label',\n  'aria-labelledby',\n  'aria-describedby',\n  'aria-details'\n]);\n\ninterface Options {\n  /**\n   * If labelling associated aria properties should be included in the filter.\n   */\n  labelable?: boolean,\n  /**\n   * A Set of other property names that should be included in the filter.\n   */\n  propNames?: Set<string>\n}\n\nconst propRe = /^(data-.*)$/;\n\n/**\n * Filters out all props that aren't valid DOM props or defined via override prop obj.\n * @param props - The component props to be filtered.\n * @param opts - Props to override.\n */\nexport function filterDOMProps(props: DOMProps & AriaLabelingProps, opts: Options = {}): DOMProps & AriaLabelingProps {\n  let {labelable, propNames} = opts;\n  let filteredProps: HTMLAttributes<HTMLElement> = {};\n\n  for (const prop in props) {\n    if (\n      Object.prototype.hasOwnProperty.call(props, prop) && (\n        DOMPropNames.has(prop) ||\n        (labelable && labelablePropNames.has(prop)) ||\n        propNames?.has(prop) ||\n        propRe.test(prop)\n      )\n    ) {\n      filteredProps[prop] = props[prop];\n    }\n  }\n\n  return filteredProps;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// This is a polyfill for element.focus({preventScroll: true});\n// Currently necessary for Safari and old Edge:\n// https://caniuse.com/#feat=mdn-api_htmlelement_focus_preventscroll_option\n// See https://bugs.webkit.org/show_bug.cgi?id=178583\n//\n\n// Original licensing for the following methods can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/calvellido/focus-options-polyfill\n\ninterface ScrollableElement {\n  element: HTMLElement,\n  scrollTop: number,\n  scrollLeft: number\n}\n\nexport function focusWithoutScrolling(element: HTMLElement) {\n  if (supportsPreventScroll()) {\n    element.focus({preventScroll: true});\n  } else {\n    let scrollableElements = getScrollableElements(element);\n    element.focus();\n    restoreScrollPosition(scrollableElements);\n  }\n}\n\nlet supportsPreventScrollCached: boolean = null;\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n    try {\n      var focusElem = document.createElement('div');\n      focusElem.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n      });\n    } catch (e) {\n      // Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element: HTMLElement): ScrollableElement[] {\n  var parent = element.parentNode;\n  var scrollableElements: ScrollableElement[] = [];\n  var rootScrollingElement = document.scrollingElement || document.documentElement;\n\n  while (parent instanceof HTMLElement && parent !== rootScrollingElement) {\n    if (\n      parent.offsetHeight < parent.scrollHeight ||\n      parent.offsetWidth < parent.scrollWidth\n    ) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements: ScrollableElement[]) {\n  for (let {element, scrollTop, scrollLeft} of scrollableElements) {\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getOffset(element, reverse, orientation = 'horizontal') {\n  let rect = element.getBoundingClientRect();\n  if (reverse) {\n    return orientation === 'horizontal' ? rect.right : rect.bottom;\n  }\n  return orientation === 'horizontal' ? rect.left : rect.top;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We store a global list of elements that are currently transitioning,\n// mapped to a set of CSS properties that are transitioning for that element.\n// This is necessary rather than a simple count of transitions because of browser\n// bugs, e.g. Chrome sometimes fires both transitionend and transitioncancel rather\n// than one or the other. So we need to track what's actually transitioning so that\n// we can ignore these duplicate events.\nlet transitionsByElement = new Map<EventTarget, Set<string>>();\n\n// A list of callbacks to call once there are no transitioning elements.\nlet transitionCallbacks = new Set<() => void>();\n\nfunction setupGlobalEvents() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  let onTransitionStart = (e: TransitionEvent) => {\n    // Add the transitioning property to the list for this element.\n    let transitions = transitionsByElement.get(e.target);\n    if (!transitions) {\n      transitions = new Set();\n      transitionsByElement.set(e.target, transitions);\n\n      // The transitioncancel event must be registered on the element itself, rather than as a global\n      // event. This enables us to handle when the node is deleted from the document while it is transitioning.\n      // In that case, the cancel event would have nowhere to bubble to so we need to handle it directly.\n      e.target.addEventListener('transitioncancel', onTransitionEnd);\n    }\n\n    transitions.add(e.propertyName);\n  };\n\n  let onTransitionEnd = (e: TransitionEvent) => {\n    // Remove property from list of transitioning properties.\n    let properties = transitionsByElement.get(e.target);\n    if (!properties) {\n      return;\n    }\n\n    properties.delete(e.propertyName);\n\n    // If empty, remove transitioncancel event, and remove the element from the list of transitioning elements.\n    if (properties.size === 0) {\n      e.target.removeEventListener('transitioncancel', onTransitionEnd);\n      transitionsByElement.delete(e.target);\n    }\n\n    // If no transitioning elements, call all of the queued callbacks.\n    if (transitionsByElement.size === 0) {\n      for (let cb of transitionCallbacks) {\n        cb();\n      }\n\n      transitionCallbacks.clear();\n    }\n  };\n\n  document.body.addEventListener('transitionrun', onTransitionStart);\n  document.body.addEventListener('transitionend', onTransitionEnd);\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalEvents);\n  }\n}\n\nexport function runAfterTransition(fn: () => void) {\n  // Wait one frame to see if an animation starts, e.g. a transition on mount.\n  requestAnimationFrame(() => {\n    // If no transitions are running, call the function immediately.\n    // Otherwise, add it to a list of callbacks to run at the end of the animation.\n    if (transitionsByElement.size === 0) {\n      fn();\n    } else {\n      transitionCallbacks.add(fn);\n    }\n  });\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getOffset} from './getOffset';\nimport {Orientation} from '@react-types/shared';\nimport React, {HTMLAttributes, MutableRefObject, useRef} from 'react';\n\ninterface UseDrag1DProps {\n  containerRef: MutableRefObject<HTMLElement>,\n  reverse?: boolean,\n  orientation?: Orientation,\n  onHover?: (hovered: boolean) => void,\n  onDrag?: (dragging: boolean) => void,\n  onPositionChange?: (position: number) => void,\n  onIncrement?: () => void,\n  onDecrement?: () => void,\n  onIncrementToMax?: () => void,\n  onDecrementToMin?: () => void,\n  onCollapseToggle?: () => void\n}\n\n// Keep track of elements that we are currently handling dragging for via useDrag1D.\n// If there's an ancestor and a descendant both using useDrag1D(), and the user starts\n// dragging the descendant, we don't want useDrag1D events to fire for the ancestor.\nconst draggingElements: HTMLElement[] = [];\n\n// created for splitview, this should be reusable for things like sliders/dials\n// It also handles keyboard events on the target allowing for increment/decrement by a given stepsize as well as minifying/maximizing and toggling between minified and previous size\n// It can also take a 'reverse' param to say if we should measure from the right/bottom instead of the top/left\n// It can also handle either a vertical or horizontal movement, but not both at the same time\n\nexport function useDrag1D(props: UseDrag1DProps): HTMLAttributes<HTMLElement> {\n  console.warn('useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html');\n  let {containerRef, reverse, orientation, onHover, onDrag, onPositionChange, onIncrement, onDecrement, onIncrementToMax, onDecrementToMin, onCollapseToggle} = props;\n  let getPosition = (e) => orientation === 'horizontal' ? e.clientX : e.clientY;\n  let getNextOffset = (e: MouseEvent) => {\n    let containerOffset = getOffset(containerRef.current, reverse, orientation);\n    let mouseOffset = getPosition(e);\n    let nextOffset = reverse ? containerOffset - mouseOffset : mouseOffset - containerOffset;\n    return nextOffset;\n  };\n  let dragging = useRef(false);\n  let prevPosition = useRef(0);\n\n  // Keep track of the current handlers in a ref so that the events can access them.\n  let handlers = useRef({onPositionChange, onDrag});\n  handlers.current.onDrag = onDrag;\n  handlers.current.onPositionChange = onPositionChange;\n\n  let onMouseDragged = (e: MouseEvent) => {\n    e.preventDefault();\n    let nextOffset = getNextOffset(e);\n    if (!dragging.current) {\n      dragging.current = true;\n      if (handlers.current.onDrag) {\n        handlers.current.onDrag(true);\n      }\n      if (handlers.current.onPositionChange) {\n        handlers.current.onPositionChange(nextOffset);\n      }\n    }\n    if (prevPosition.current === nextOffset) {\n      return;\n    }\n    prevPosition.current = nextOffset;\n    if (onPositionChange) {\n      onPositionChange(nextOffset);\n    }\n  };\n\n  let onMouseUp = (e: MouseEvent) => {\n    const target = e.target as HTMLElement;\n    dragging.current = false;\n    let nextOffset = getNextOffset(e);\n    if (handlers.current.onDrag) {\n      handlers.current.onDrag(false);\n    }\n    if (handlers.current.onPositionChange) {\n      handlers.current.onPositionChange(nextOffset);\n    }\n\n    draggingElements.splice(draggingElements.indexOf(target), 1);\n    window.removeEventListener('mouseup', onMouseUp, false);\n    window.removeEventListener('mousemove', onMouseDragged, false);\n  };\n\n  let onMouseDown = (e: React.MouseEvent<HTMLElement>) => {\n    const target = e.currentTarget;\n    // If we're already handling dragging on a descendant with useDrag1D, then\n    // we don't want to handle the drag motion on this target as well.\n    if (draggingElements.some(elt => target.contains(elt))) {\n      return;\n    }\n    draggingElements.push(target);\n    window.addEventListener('mousemove', onMouseDragged, false);\n    window.addEventListener('mouseup', onMouseUp, false);\n  };\n\n  let onMouseEnter = () => {\n    if (onHover) {\n      onHover(true);\n    }\n  };\n\n  let onMouseOut = () => {\n    if (onHover) {\n      onHover(false);\n    }\n  };\n\n  let onKeyDown = (e) => {\n    switch (e.key) {\n      case 'Left':\n      case 'ArrowLeft':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Up':\n      case 'ArrowUp':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Right':\n      case 'ArrowRight':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Down':\n      case 'ArrowDown':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Home':\n        e.preventDefault();\n        if (onDecrementToMin) {\n          onDecrementToMin();\n        }\n        break;\n      case 'End':\n        e.preventDefault();\n        if (onIncrementToMax) {\n          onIncrementToMax();\n        }\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (onCollapseToggle) {\n          onCollapseToggle();\n        }\n        break;\n    }\n  };\n\n  return {onMouseDown, onMouseEnter, onMouseOut, onKeyDown};\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef} from 'react';\n\ninterface GlobalListeners {\n  addGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void,\n  addGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void,\n  removeGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | EventListenerOptions): void,\n  removeGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void,\n  removeAllGlobalListeners(): void\n}\n\nexport function useGlobalListeners(): GlobalListeners {\n  let globalListeners = useRef(new Map());\n  let addGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    // Make sure we remove the listener after it is called with the `once` option.\n    let fn = options?.once ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {type, eventTarget, fn, options});\n    eventTarget.addEventListener(type, listener, options);\n  }, []);\n  let removeGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    let fn = globalListeners.current.get(listener)?.fn || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = useCallback(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [removeGlobalListener]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return removeAllGlobalListeners;\n  }, [removeAllGlobalListeners]);\n\n  return {addGlobalListener, removeGlobalListener, removeAllGlobalListeners};\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {useId} from './useId';\n\n/**\n * Merges aria-label and aria-labelledby into aria-labelledby when both exist.\n * @param props - Aria label props.\n * @param defaultLabel - Default value for aria-label when not present.\n */\nexport function useLabels(props: DOMProps & AriaLabelingProps, defaultLabel?: string): DOMProps & AriaLabelingProps {\n  let {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  } = props;\n\n  // If there is both an aria-label and aria-labelledby,\n  // combine them by pointing to the element itself.\n  id = useId(id);\n  if (labelledBy && label) {\n    let ids = new Set([...labelledBy.trim().split(/\\s+/), id]);\n    labelledBy = [...ids].join(' ');\n  } else if (labelledBy) {\n    labelledBy = labelledBy.trim().split(/\\s+/).join(' ');\n  }\n\n  // If no labels are provided, use the default\n  if (!label && !labelledBy && defaultLabel) {\n    label = defaultLabel;\n  }\n\n  return {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  };\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, useRef} from 'react';\nimport {useLayoutEffect} from './';\n\n/**\n * Offers an object ref for a given callback ref or an object ref. Especially\n * helfpul when passing forwarded refs (created using `React.forwardRef`) to\n * React Aria Hooks.\n *\n * @param forwardedRef The original ref intended to be used.\n * @returns An object ref that updates the given ref.\n * @see https://reactjs.org/docs/forwarding-refs.html\n */\nexport function useObjectRef<T>(forwardedRef?: ((instance: T | null) => void) | MutableRefObject<T | null> | null): MutableRefObject<T> {\n  const objRef = useRef<T>();\n\n  /**\n   * We're using `useLayoutEffect` here instead of `useEffect` because we want\n   * to make sure that the `ref` value is up to date before other places in the\n   * the execution cycle try to read it.\n   */\n  useLayoutEffect(() => {\n    if (!forwardedRef) {\n      return;\n    }\n\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(objRef.current);\n    } else {\n      forwardedRef.current = objRef.current;\n    }\n  }, [forwardedRef]);\n\n  return objRef;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {EffectCallback, useEffect, useRef} from 'react';\n\n// Like useEffect, but only called for updates after the initial render.\nexport function useUpdateEffect(effect: EffectCallback, dependencies: any[]) {\n  const isInitialMount = useRef(true);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n}\n","import {RefObject, useEffect} from 'react';\n\nfunction hasResizeObserver() {\n  return typeof window.ResizeObserver !== 'undefined';\n}\n\ntype useResizeObserverOptionsType<T> = {\n  ref: RefObject<T>,\n  onResize: () => void\n}\n\nexport function useResizeObserver<T extends HTMLElement>(options: useResizeObserverOptionsType<T>) {\n  const {ref, onResize} = options;\n\n  useEffect(() => {\n    let element = ref?.current;\n    if (!element) {\n      return;\n    }\n\n    if (!hasResizeObserver()) {\n      window.addEventListener('resize', onResize, false);\n      return () => {\n        window.removeEventListener('resize', onResize, false);\n      };\n    } else {\n\n      const resizeObserverInstance = new window.ResizeObserver((entries) => {\n        if (!entries.length) {\n          return;\n        }\n\n        onResize();\n      });\n      resizeObserverInstance.observe(element);\n\n      return () => {\n        if (element) {\n          resizeObserverInstance.unobserve(element);\n        }\n      };\n    }\n\n  }, [onResize, ref]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, RefObject} from 'react';\nimport {useLayoutEffect} from './';\n\ninterface ContextValue<T> {\n  ref?: MutableRefObject<T>\n}\n\n// Syncs ref from context with ref passed to hook\nexport function useSyncRef<T>(context: ContextValue<T>, ref: RefObject<T>) {\n  useLayoutEffect(() => {\n    if (context && context.ref && ref) {\n      context.ref.current = ref.current;\n      return () => {\n        context.ref.current = null;\n      };\n    }\n  }, [context, ref]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getScrollParent(node: Element): Element {\n  while (node && !isScrollable(node)) {\n    node = node.parentElement;\n  }\n\n  return node || document.scrollingElement || document.documentElement;\n}\n\nfunction isScrollable(node: Element): boolean {\n  let style = window.getComputedStyle(node);\n  return /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useEffect, useState} from 'react';\n\ninterface ViewportSize {\n  width: number,\n  height: number\n}\n\n// @ts-ignore\nlet visualViewport = typeof window !== 'undefined' && window.visualViewport;\n\nexport function useViewportSize(): ViewportSize {\n  let [size, setSize] = useState(() => getViewportSize());\n\n  useEffect(() => {\n    // Use visualViewport api to track available height even on iOS virtual keyboard opening\n    let onResize = () => {\n      setSize(size => {\n        let newSize = getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) {\n          return size;\n        }\n        return newSize;\n      });\n    };\n\n    if (!visualViewport) {\n      window.addEventListener('resize', onResize);\n    } else {\n      visualViewport.addEventListener('resize', onResize);\n    }\n\n    return () => {\n      if (!visualViewport) {\n        window.removeEventListener('resize', onResize);\n      } else {\n        visualViewport.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return size;\n}\n\nfunction getViewportSize(): ViewportSize {\n  return {\n    width: visualViewport?.width || window.innerWidth,\n    height: visualViewport?.height || window.innerHeight\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps} from '@react-types/shared';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useState} from 'react';\n\nlet descriptionId = 0;\nconst descriptionNodes = new Map<string, {refCount: number, element: HTMLElement}>();\n\nexport function useDescription(description: string): AriaLabelingProps {\n  let [id, setId] = useState(null);\n\n  useLayoutEffect(() => {\n    if (!description) {\n      return;\n    }\n\n    let desc = descriptionNodes.get(description);\n    if (!desc) {\n      let id = `react-aria-description-${descriptionId++}`;\n      setId(id);\n\n      let node = document.createElement('div');\n      node.id = id;\n      node.style.display = 'none';\n      node.textContent = description;\n      document.body.appendChild(node);\n      desc = {refCount: 0, element: node};\n      descriptionNodes.set(description, desc);\n    } else {\n      setId(desc.element.id);\n    }\n\n    desc.refCount++;\n    return () => {\n      if (--desc.refCount === 0) {\n        desc.element.remove();\n        descriptionNodes.delete(description);\n      }\n    };\n  }, [description]);\n\n  return {\n    'aria-describedby': description ? id : undefined\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction testUserAgent(re: RegExp) {\n  return typeof window !== 'undefined' && window.navigator != null\n    ? re.test(window.navigator.userAgent)\n    : false;\n}\n\nfunction testPlatform(re: RegExp) {\n  return typeof window !== 'undefined' && window.navigator != null\n    ? re.test(window.navigator.platform)\n    : false;\n}\n\nexport function isMac() {\n  return testPlatform(/^Mac/);\n}\n\nexport function isIPhone() {\n  return testPlatform(/^iPhone/);\n}\n\nexport function isIPad() {\n  return testPlatform(/^iPad/) ||\n    // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    (isMac() && navigator.maxTouchPoints > 1);\n}\n\nexport function isIOS() {\n  return isIPhone() || isIPad();\n}\n\nexport function isAppleDevice() {\n  return isMac() || isIOS();\n}\n\nexport function isWebKit() {\n  return testUserAgent(/AppleWebKit/) && !isChrome();\n}\n\nexport function isChrome() {\n  return testUserAgent(/Chrome/);\n}\n\nexport function isAndroid() {\n  return testUserAgent(/Android/);\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useEffect, useRef} from 'react';\n\nexport function useEvent<K extends keyof GlobalEventHandlersEventMap>(\n  ref: RefObject<EventTarget>,\n  event: K,\n  handler: (this: Document, ev: GlobalEventHandlersEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions\n) {\n  let handlerRef = useRef(handler);\n  handlerRef.current = handler;\n\n  let isDisabled = handler == null;\n\n  useEffect(() => {\n    if (isDisabled) {\n      return;\n    }\n\n    let element = ref.current;\n    let handler = (e: GlobalEventHandlersEventMap[K]) => handlerRef.current.call(this, e);\n\n    element.addEventListener(event, handler, options);\n    return () => {\n      element.removeEventListener(event, handler, options);\n    };\n  }, [ref, event, options, isDisabled]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Dispatch, useCallback, useRef, useState} from 'react';\nimport {useLayoutEffect} from './';\n\ntype SetValueAction<S> = (prev: S) => Generator<any, void, unknown>;\n\n// This hook works like `useState`, but when setting the value, you pass a generator function\n// that can yield multiple values. Each yielded value updates the state and waits for the next\n// layout effect, then continues the generator. This allows sequential updates to state to be\n// written linearly.\nexport function useValueEffect<S>(defaultValue: S | (() => S)): [S, Dispatch<SetValueAction<S>>] {\n  let [value, setValue] = useState(defaultValue);\n  let valueRef = useRef(value);\n  let effect = useRef(null);\n\n  valueRef.current = value;\n\n  // Store the function in a ref so we can always access the current version\n  // which has the proper `value` in scope.\n  let nextRef = useRef(null);\n  nextRef.current = () => {\n    // Run the generator to the next yield.\n    let newValue = effect.current.next();\n\n    // If the generator is done, reset the effect.\n    if (newValue.done) {\n      effect.current = null;\n      return;\n    }\n\n    // If the value is the same as the current value,\n    // then continue to the next yield. Otherwise,\n    // set the value in state and wait for the next layout effect.\n    if (value === newValue.value) {\n      nextRef.current();\n    } else {\n      setValue(newValue.value);\n    }\n  };\n\n  useLayoutEffect(() => {\n    // If there is an effect currently running, continue to the next yield.\n    if (effect.current) {\n      nextRef.current();\n    }\n  });\n\n  let queue = useCallback(fn => {\n    effect.current = fn(valueRef.current);\n    nextRef.current();\n  }, [effect, nextRef]);\n\n  return [value, queue];\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Scrolls `scrollView` so that `element` is visible.\n * Similar to `element.scrollIntoView({block: 'nearest'})` (not supported in Edge),\n * but doesn't affect parents above `scrollView`.\n */\nexport function scrollIntoView(scrollView: HTMLElement, element: HTMLElement) {\n  let offsetX = relativeOffset(scrollView, element, 'left');\n  let offsetY = relativeOffset(scrollView, element, 'top');\n  let width = element.offsetWidth;\n  let height = element.offsetHeight;\n  let x = scrollView.scrollLeft;\n  let y = scrollView.scrollTop;\n  let maxX = x + scrollView.offsetWidth;\n  let maxY = y + scrollView.offsetHeight;\n\n  if (offsetX <= x) {\n    x = offsetX;\n  } else if (offsetX + width > maxX) {\n    x += offsetX + width - maxX;\n  }\n  if (offsetY <= y) {\n    y = offsetY;\n  } else if (offsetY + height > maxY) {\n    y += offsetY + height - maxY;\n  }\n\n  scrollView.scrollLeft = x;\n  scrollView.scrollTop = y;\n}\n\n/**\n * Computes the offset left or top from child to ancestor by accumulating\n * offsetLeft or offsetTop through intervening offsetParents.\n */\nfunction relativeOffset(ancestor: HTMLElement, child: HTMLElement, axis: 'left'|'top') {\n  const prop = axis === 'left' ? 'offsetLeft' : 'offsetTop';\n  let sum = 0;\n  while (child.offsetParent) {\n    sum += child[prop];\n    if (child.offsetParent === ancestor) {\n      // Stop once we have found the ancestor we are interested in.\n      break;\n    } else if (child.offsetParent.contains(ancestor)) {\n      // If the ancestor is not `position:relative`, then we stop at\n      // _its_ offset parent, and we subtract off _its_ offset, so that\n      // we end up with the proper offset from child to ancestor.\n      sum -= ancestor[prop];\n      break;\n    }\n    child = child.offsetParent as HTMLElement;\n  }\n  return sum;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {isIOS, runAfterTransition} from '@react-aria/utils';\n\n// Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n// is to add user-select: none to the entire page. Adding it to the pressable element prevents\n// that element from being selected, but nearby elements may still receive selection. We add\n// user-select: none on touch start, and remove it again on touch end to prevent this.\n// This must be implemented using global state to avoid race conditions between multiple elements.\n\n// There are three possible states due to the delay before removing user-select: none after\n// pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n// to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n// For non-iOS devices, we apply user-select: none to the pressed element instead to avoid possible\n// performance issues that arise from applying and removing user-select: none to the entire page\n// (see https://github.com/adobe/react-spectrum/issues/1609).\ntype State = 'default' | 'disabled' | 'restoring';\n\n// Note that state only matters here for iOS. Non-iOS gets user-select: none applied to the target element\n// rather than at the document level so we just need to apply/remove user-select: none for each pressed element individually\nlet state: State = 'default';\nlet savedUserSelect = '';\nlet modifiedElementMap = new WeakMap<HTMLElement, string>();\n\nexport function disableTextSelection(target?: HTMLElement) {\n  if (isIOS()) {\n    if (state === 'default') {\n      savedUserSelect = document.documentElement.style.webkitUserSelect;\n      document.documentElement.style.webkitUserSelect = 'none';\n    }\n\n    state = 'disabled';\n  } else if (target) {\n    // If not iOS, store the target's original user-select and change to user-select: none\n    // Ignore state since it doesn't apply for non iOS\n    modifiedElementMap.set(target, target.style.userSelect);\n    target.style.userSelect = 'none';\n  }\n}\n\nexport function restoreTextSelection(target?: HTMLElement) {\n  if (isIOS()) {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      runAfterTransition(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n          if (document.documentElement.style.webkitUserSelect === 'none') {\n            document.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  } else {\n    // If not iOS, restore the target's original user-select if any\n    // Ignore state since it doesn't apply for non iOS\n    if (target && modifiedElementMap.has(target)) {\n      let targetOldUserSelect = modifiedElementMap.get(target);\n\n      if (target.style.userSelect === 'none') {\n        target.style.userSelect = targetOldUserSelect;\n      }\n\n      if (target.getAttribute('style') === '') {\n        target.removeAttribute('style');\n      }\n      modifiedElementMap.delete(target);\n    }\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Original licensing for the following method can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/blob/3c713d513195a53788b3f8bb4b70279d68b15bcc/packages/react-interactions/events/src/dom/shared/index.js#L74-L87\n\n// Keyboards, Assistive Technologies, and element.click() all produce a \"virtual\"\n// click event. This is a method of inferring such clicks. Every browser except\n// IE 11 only sets a zero value of \"detail\" for click events that are \"virtual\".\n// However, IE 11 uses a zero value for all click events. For IE 11 we rely on\n// the quirk that it produces click events that are of type PointerEvent, and\n// where only the \"virtual\" click lacks a pointerType field.\n\nexport function isVirtualClick(event: MouseEvent | PointerEvent): boolean {\n  // JAWS/NVDA with Firefox.\n  if ((event as any).mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n\n  return event.detail === 0 && !(event as PointerEvent).pointerType;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {PressProps} from './usePress';\nimport React, {MutableRefObject} from 'react';\n\ninterface IPressResponderContext extends PressProps {\n  register(): void,\n  ref?: MutableRefObject<HTMLElement>\n}\n\nexport const PressResponderContext = React.createContext<IPressResponderContext>(null);\nPressResponderContext.displayName = 'PressResponderContext';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {disableTextSelection, restoreTextSelection} from './textSelection';\nimport {focusWithoutScrolling, mergeProps, useGlobalListeners, useSyncRef} from '@react-aria/utils';\nimport {HTMLAttributes, RefObject, useContext, useEffect, useMemo, useRef, useState} from 'react';\nimport {isVirtualClick} from './utils';\nimport {PointerType, PressEvents} from '@react-types/shared';\nimport {PressResponderContext} from './context';\n\nexport interface PressProps extends PressEvents {\n  /** Whether the target is in a controlled press state (e.g. an overlay it triggers is open). */\n  isPressed?: boolean,\n  /** Whether the press events should be disabled. */\n  isDisabled?: boolean,\n  /** Whether the target should not receive focus on press. */\n  preventFocusOnPress?: boolean,\n  /**\n   * Whether press events should be canceled when the pointer leaves the target while pressed.\n   * By default, this is `false`, which means if the pointer returns back over the target while\n   * still pressed, onPressStart will be fired again. If set to `true`, the press is canceled\n   * when the pointer leaves the target and onPressStart will not be fired if the pointer returns.\n   */\n  shouldCancelOnPointerExit?: boolean,\n  /** Whether text selection should be enabled on the pressable element. */\n  allowTextSelectionOnPress?: boolean\n}\n\nexport interface PressHookProps extends PressProps {\n  /** A ref to the target element. */\n  ref?: RefObject<HTMLElement>\n}\n\ninterface PressState {\n  isPressed: boolean,\n  ignoreEmulatedMouseEvents: boolean,\n  ignoreClickAfterPress: boolean,\n  didFirePressStart: boolean,\n  activePointerId: any,\n  target: HTMLElement | null,\n  isOverTarget: boolean,\n  pointerType: PointerType,\n  userSelect?: string\n}\n\ninterface EventBase {\n  currentTarget: EventTarget,\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\nexport interface PressResult {\n  /** Whether the target is currently pressed. */\n  isPressed: boolean,\n  /** Props to spread on the target element. */\n  pressProps: HTMLAttributes<HTMLElement>\n}\n\nfunction usePressResponderContext(props: PressHookProps): PressHookProps {\n  // Consume context from <PressResponder> and merge with props.\n  let context = useContext(PressResponderContext);\n  if (context) {\n    let {register, ...contextProps} = context;\n    props = mergeProps(contextProps, props) as PressHookProps;\n    register();\n  }\n  useSyncRef(context, props.ref);\n\n  return props;\n}\n\n/**\n * Handles press interactions across mouse, touch, keyboard, and screen readers.\n * It normalizes behavior across browsers and platforms, and handles many nuances\n * of dealing with pointer and keyboard events.\n */\nexport function usePress(props: PressHookProps): PressResult {\n  let {\n    onPress,\n    onPressChange,\n    onPressStart,\n    onPressEnd,\n    onPressUp,\n    isDisabled,\n    isPressed: isPressedProp,\n    preventFocusOnPress,\n    shouldCancelOnPointerExit,\n    allowTextSelectionOnPress,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ref: _, // Removing `ref` from `domProps` because TypeScript is dumb\n    ...domProps\n  } = usePressResponderContext(props);\n  let propsRef = useRef<PressHookProps>(null);\n  propsRef.current = {onPress, onPressChange, onPressStart, onPressEnd, onPressUp, isDisabled, shouldCancelOnPointerExit};\n\n  let [isPressed, setPressed] = useState(false);\n  let ref = useRef<PressState>({\n    isPressed: false,\n    ignoreEmulatedMouseEvents: false,\n    ignoreClickAfterPress: false,\n    didFirePressStart: false,\n    activePointerId: null,\n    target: null,\n    isOverTarget: false,\n    pointerType: null\n  });\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let pressProps = useMemo(() => {\n    let state = ref.current;\n    let triggerPressStart = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressStart, onPressChange, isDisabled} = propsRef.current;\n      if (isDisabled || state.didFirePressStart) {\n        return;\n      }\n\n      if (onPressStart) {\n        onPressStart({\n          type: 'pressstart',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(true);\n      }\n\n      state.didFirePressStart = true;\n      setPressed(true);\n    };\n\n    let triggerPressEnd = (originalEvent: EventBase, pointerType: PointerType, wasPressed = true) => {\n      let {onPressEnd, onPressChange, onPress, isDisabled} = propsRef.current;\n      if (!state.didFirePressStart) {\n        return;\n      }\n\n      state.ignoreClickAfterPress = true;\n      state.didFirePressStart = false;\n\n      if (onPressEnd) {\n        onPressEnd({\n          type: 'pressend',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n\n      if (onPressChange) {\n        onPressChange(false);\n      }\n\n      setPressed(false);\n\n      if (onPress && wasPressed && !isDisabled) {\n        onPress({\n          type: 'press',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let triggerPressUp = (originalEvent: EventBase, pointerType: PointerType) => {\n      let {onPressUp, isDisabled} = propsRef.current;\n      if (isDisabled) {\n        return;\n      }\n\n      if (onPressUp) {\n        onPressUp({\n          type: 'pressup',\n          pointerType,\n          target: originalEvent.currentTarget as HTMLElement,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    let cancel = (e: EventBase) => {\n      if (state.isPressed) {\n        if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n        state.isPressed = false;\n        state.isOverTarget = false;\n        state.activePointerId = null;\n        state.pointerType = null;\n        removeAllGlobalListeners();\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n      }\n    };\n\n    let pressProps: HTMLAttributes<HTMLElement> = {\n      onKeyDown(e) {\n        if (isValidKeyboardEvent(e.nativeEvent) && e.currentTarget.contains(e.target as HTMLElement)) {\n          if (shouldPreventDefaultKeyboard(e.target as Element)) {\n            e.preventDefault();\n          }\n          e.stopPropagation();\n\n          // If the event is repeating, it may have started on a different element\n          // after which focus moved to the current element. Ignore these events and\n          // only handle the first key down event.\n          if (!state.isPressed && !e.repeat) {\n            state.target = e.currentTarget as HTMLElement;\n            state.isPressed = true;\n            triggerPressStart(e, 'keyboard');\n\n            // Focus may move before the key up event, so register the event on the document\n            // instead of the same element where the key down event occurred.\n            addGlobalListener(document, 'keyup', onKeyUp, false);\n          }\n        }\n      },\n      onKeyUp(e) {\n        if (isValidKeyboardEvent(e.nativeEvent) && !e.repeat && e.currentTarget.contains(e.target as HTMLElement)) {\n          triggerPressUp(createEvent(state.target, e), 'keyboard');\n        }\n      },\n      onClick(e) {\n        if (e && !e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        if (e && e.button === 0) {\n          e.stopPropagation();\n          if (isDisabled) {\n            e.preventDefault();\n          }\n\n          // If triggered from a screen reader or by using element.click(),\n          // trigger as if it were a keyboard click.\n          if (!state.ignoreClickAfterPress && !state.ignoreEmulatedMouseEvents && (state.pointerType === 'virtual' || isVirtualClick(e.nativeEvent))) {\n            // Ensure the element receives focus (VoiceOver on iOS does not do this)\n            if (!isDisabled && !preventFocusOnPress) {\n              focusWithoutScrolling(e.currentTarget);\n            }\n\n            triggerPressStart(e, 'virtual');\n            triggerPressUp(e, 'virtual');\n            triggerPressEnd(e, 'virtual');\n          }\n\n          state.ignoreEmulatedMouseEvents = false;\n          state.ignoreClickAfterPress = false;\n        }\n      }\n    };\n\n    let onKeyUp = (e: KeyboardEvent) => {\n      if (state.isPressed && isValidKeyboardEvent(e)) {\n        if (shouldPreventDefaultKeyboard(e.target as Element)) {\n          e.preventDefault();\n        }\n        e.stopPropagation();\n\n        state.isPressed = false;\n        let target = e.target as HTMLElement;\n        triggerPressEnd(createEvent(state.target, e), 'keyboard', state.target.contains(target));\n        removeAllGlobalListeners();\n\n        // If the target is a link, trigger the click method to open the URL,\n        // but defer triggering pressEnd until onClick event handler.\n        if (state.target.contains(target) && isHTMLAnchorLink(state.target) || state.target.getAttribute('role') === 'link') {\n          state.target.click();\n        }\n      }\n    };\n\n    if (typeof PointerEvent !== 'undefined') {\n      pressProps.onPointerDown = (e) => {\n        // Only handle left clicks, and ignore events that bubbled through portals.\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        // iOS safari fires pointer events from VoiceOver with incorrect coordinates/target.\n        // Ignore and let the onClick handler take care of it instead.\n        // https://bugs.webkit.org/show_bug.cgi?id=222627\n        // https://bugs.webkit.org/show_bug.cgi?id=223202\n        if (isVirtualPointerEvent(e.nativeEvent)) {\n          state.pointerType = 'virtual';\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on pointer down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.target as Element)) {\n          e.preventDefault();\n        }\n\n        state.pointerType = e.pointerType;\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          state.isPressed = true;\n          state.isOverTarget = true;\n          state.activePointerId = e.pointerId;\n          state.target = e.currentTarget;\n\n          if (!isDisabled && !preventFocusOnPress) {\n            focusWithoutScrolling(e.currentTarget);\n          }\n\n          if (!allowTextSelectionOnPress) {\n            disableTextSelection(state.target);\n          }\n\n          triggerPressStart(e, state.pointerType);\n\n          addGlobalListener(document, 'pointermove', onPointerMove, false);\n          addGlobalListener(document, 'pointerup', onPointerUp, false);\n          addGlobalListener(document, 'pointercancel', onPointerCancel, false);\n        }\n      };\n\n      pressProps.onMouseDown = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        if (e.button === 0) {\n          // Chrome and Firefox on touch Windows devices require mouse down events\n          // to be canceled in addition to pointer events, or an extra asynchronous\n          // focus event will be fired.\n          if (shouldPreventDefault(e.target as Element)) {\n            e.preventDefault();\n          }\n\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onPointerUp = (e) => {\n        // iOS fires pointerup with zero width and height, so check the pointerType recorded during pointerdown.\n        if (!e.currentTarget.contains(e.target as HTMLElement) || state.pointerType === 'virtual') {\n          return;\n        }\n\n        // Only handle left clicks\n        // Safari on iOS sometimes fires pointerup events, even\n        // when the touch isn't over the target, so double check.\n        if (e.button === 0 && isOverTarget(e, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType || e.pointerType);\n        }\n      };\n\n      // Safari on iOS < 13.2 does not implement pointerenter/pointerleave events correctly.\n      // Use pointer move events instead to implement our own hit testing.\n      // See https://bugs.webkit.org/show_bug.cgi?id=199803\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId !== state.activePointerId) {\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(createEvent(state.target, e), state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.activePointerId && state.isPressed && e.button === 0) {\n          if (isOverTarget(e, state.target)) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType);\n          } else if (state.isOverTarget) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          }\n\n          state.isPressed = false;\n          state.isOverTarget = false;\n          state.activePointerId = null;\n          state.pointerType = null;\n          removeAllGlobalListeners();\n          if (!allowTextSelectionOnPress) {\n            restoreTextSelection(state.target);\n          }\n        }\n      };\n\n      let onPointerCancel = (e: PointerEvent) => {\n        cancel(e);\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        // Safari does not call onPointerCancel when a drag starts, whereas Chrome and Firefox do.\n        cancel(e);\n      };\n    } else {\n      pressProps.onMouseDown = (e) => {\n        // Only handle left clicks\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on mouse down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.target as Element)) {\n          e.preventDefault();\n        }\n\n        e.stopPropagation();\n        if (state.ignoreEmulatedMouseEvents) {\n          return;\n        }\n\n        state.isPressed = true;\n        state.isOverTarget = true;\n        state.target = e.currentTarget;\n        state.pointerType = isVirtualClick(e.nativeEvent) ? 'virtual' : 'mouse';\n\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(document, 'mouseup', onMouseUp, false);\n      };\n\n      pressProps.onMouseEnter = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = true;\n          triggerPressStart(e, state.pointerType);\n        }\n      };\n\n      pressProps.onMouseLeave = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onMouseUp = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        if (!state.ignoreEmulatedMouseEvents && e.button === 0) {\n          triggerPressUp(e, state.pointerType);\n        }\n      };\n\n      let onMouseUp = (e: MouseEvent) => {\n        // Only handle left clicks\n        if (e.button !== 0) {\n          return;\n        }\n\n        state.isPressed = false;\n        removeAllGlobalListeners();\n\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n          return;\n        }\n\n        if (isOverTarget(e, state.target)) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n\n        state.isOverTarget = false;\n      };\n\n      pressProps.onTouchStart = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        let touch = getTouchFromEvent(e.nativeEvent);\n        if (!touch) {\n          return;\n        }\n        state.activePointerId = touch.identifier;\n        state.ignoreEmulatedMouseEvents = true;\n        state.isOverTarget = true;\n        state.isPressed = true;\n        state.target = e.currentTarget;\n        state.pointerType = 'touch';\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent default\n        // on the emulated mouse event and handle focusing the pressable element ourselves.\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        if (!allowTextSelectionOnPress) {\n          disableTextSelection(state.target);\n        }\n\n        triggerPressStart(e, state.pointerType);\n\n        addGlobalListener(window, 'scroll', onScroll, true);\n      };\n\n      pressProps.onTouchMove = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          if (!state.isOverTarget) {\n            state.isOverTarget = true;\n            triggerPressStart(e, state.pointerType);\n          }\n        } else if (state.isOverTarget) {\n          state.isOverTarget = false;\n          triggerPressEnd(e, state.pointerType, false);\n          if (propsRef.current.shouldCancelOnPointerExit) {\n            cancel(e);\n          }\n        }\n      };\n\n      pressProps.onTouchEnd = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (!state.isPressed) {\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType);\n          triggerPressEnd(e, state.pointerType);\n        } else if (state.isOverTarget) {\n          triggerPressEnd(e, state.pointerType, false);\n        }\n\n        state.isPressed = false;\n        state.activePointerId = null;\n        state.isOverTarget = false;\n        state.ignoreEmulatedMouseEvents = true;\n        if (!allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n        removeAllGlobalListeners();\n      };\n\n      pressProps.onTouchCancel = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed) {\n          cancel(e);\n        }\n      };\n\n      let onScroll = (e: Event) => {\n        if (state.isPressed && (e.target as HTMLElement).contains(state.target)) {\n          cancel({\n            currentTarget: state.target,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false,\n            altKey: false\n          });\n        }\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as HTMLElement)) {\n          return;\n        }\n\n        cancel(e);\n      };\n    }\n\n    return pressProps;\n  }, [addGlobalListener, isDisabled, preventFocusOnPress, removeAllGlobalListeners, allowTextSelectionOnPress]);\n\n  // Remove user-select: none in case component unmounts immediately after pressStart\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (!allowTextSelectionOnPress) {\n        restoreTextSelection(ref.current.target);\n      }\n    };\n  }, [allowTextSelectionOnPress]);\n\n  return {\n    isPressed: isPressedProp || isPressed,\n    pressProps: mergeProps(domProps, pressProps)\n  };\n}\n\nfunction isHTMLAnchorLink(target: HTMLElement): boolean {\n  return target.tagName === 'A' && target.hasAttribute('href');\n}\n\nfunction isValidKeyboardEvent(event: KeyboardEvent): boolean {\n  const {key, code, target} = event;\n  const element = target as HTMLElement;\n  const {tagName, isContentEditable} = element;\n  const role = element.getAttribute('role');\n  // Accessibility for keyboards. Space and Enter only.\n  // \"Spacebar\" is for IE 11\n  return (\n    (key === 'Enter' || key === ' ' || key === 'Spacebar' || code === 'Space') &&\n    (tagName !== 'INPUT' &&\n      tagName !== 'TEXTAREA' &&\n      isContentEditable !== true) &&\n    // A link with a valid href should be handled natively,\n    // unless it also has role='button' and was triggered using Space.\n    (!isHTMLAnchorLink(element) || (role === 'button' && key !== 'Enter')) &&\n    // An element with role='link' should only trigger with Enter key\n    !(role === 'link' && key !== 'Enter')\n  );\n}\n\nfunction getTouchFromEvent(event: TouchEvent): Touch | null {\n  const {targetTouches} = event;\n  if (targetTouches.length > 0) {\n    return targetTouches[0];\n  }\n  return null;\n}\n\nfunction getTouchById(\n  event: TouchEvent,\n  pointerId: null | number\n): null | Touch {\n  const changedTouches = event.changedTouches;\n  for (let i = 0; i < changedTouches.length; i++) {\n    const touch = changedTouches[i];\n    if (touch.identifier === pointerId) {\n      return touch;\n    }\n  }\n  return null;\n}\n\nfunction createEvent(target: HTMLElement, e: EventBase): EventBase {\n  return {\n    currentTarget: target,\n    shiftKey: e.shiftKey,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey\n  };\n}\n\ninterface Rect {\n  top: number,\n  right: number,\n  bottom: number,\n  left: number\n}\n\ninterface EventPoint {\n  clientX: number,\n  clientY: number,\n  width?: number,\n  height?: number,\n  radiusX?: number,\n  radiusY?: number\n}\n\nfunction getPointClientRect(point: EventPoint): Rect {\n  let offsetX = (point.width / 2) || point.radiusX || 0;\n  let offsetY = (point.height / 2) || point.radiusY || 0;\n\n  return {\n    top: point.clientY - offsetY,\n    right: point.clientX + offsetX,\n    bottom: point.clientY + offsetY,\n    left: point.clientX - offsetX\n  };\n}\n\nfunction areRectanglesOverlapping(a: Rect, b: Rect) {\n  // check if they cannot overlap on x axis\n  if (a.left > b.right || b.left > a.right) {\n    return false;\n  }\n  // check if they cannot overlap on y axis\n  if (a.top > b.bottom || b.top > a.bottom) {\n    return false;\n  }\n  return true;\n}\n\nfunction isOverTarget(point: EventPoint, target: HTMLElement) {\n  let rect = target.getBoundingClientRect();\n  let pointRect = getPointClientRect(point);\n  return areRectanglesOverlapping(rect, pointRect);\n}\n\nfunction shouldPreventDefault(target: Element) {\n  // We cannot prevent default if the target is inside a draggable element.\n  return !target.closest('[draggable=\"true\"]');\n}\n\nfunction shouldPreventDefaultKeyboard(target: Element) {\n  return !((target.tagName === 'INPUT' || target.tagName === 'BUTTON') && (target as HTMLButtonElement | HTMLInputElement).type === 'submit');\n}\n\nfunction isVirtualPointerEvent(event: PointerEvent) {\n  // If the pointer size is zero, then we assume it's from a screen reader.\n  // Android TalkBack double tap will sometimes return a event with width and height of 1\n  // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n  // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n  // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216\n  return (\n    (event.width === 0 && event.height === 0) ||\n    (event.width === 1 &&\n      event.height === 1 &&\n      event.pressure === 0 &&\n      event.detail === 0\n    )\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {mergeProps} from '@react-aria/utils';\nimport {PressProps, usePress} from './usePress';\nimport React, {HTMLAttributes, ReactElement, RefObject, useRef} from 'react';\n\ninterface PressableProps extends PressProps {\n  children: ReactElement<HTMLAttributes<HTMLElement>, string>\n}\n\nexport const Pressable = React.forwardRef(({children, ...props}: PressableProps, ref: RefObject<HTMLElement>) => {\n  let newRef = useRef();\n  ref = ref ?? newRef;\n  let {pressProps} = usePress({...props, ref});\n  let child = React.Children.only(children);\n  return React.cloneElement(\n    child,\n    // @ts-ignore\n    {ref, ...mergeProps(child.props, pressProps)}\n  );\n});\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport {PressProps} from './usePress';\nimport {PressResponderContext} from './context';\nimport React, {ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\n\ninterface PressResponderProps extends PressProps {\n  children: ReactNode\n}\n\nexport const PressResponder = React.forwardRef(({children, ...props}: PressResponderProps, ref: RefObject<HTMLElement>) => {\n  let isRegistered = useRef(false);\n  let prevContext = useContext(PressResponderContext);\n  let context = mergeProps(prevContext || {}, {\n    ...props,\n    ref: ref || prevContext?.ref,\n    register() {\n      isRegistered.current = true;\n      if (prevContext) {\n        prevContext.register();\n      }\n    }\n  });\n\n  useSyncRef(prevContext, ref);\n\n  useEffect(() => {\n    if (!isRegistered.current) {\n      console.warn(\n        'A PressResponder was rendered without a pressable child. ' +\n        'Either call the usePress hook, or wrap your DOM node with <Pressable> component.'\n      );\n    }\n  }, []);\n\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n});\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {FocusEvent, HTMLAttributes} from 'react';\nimport {FocusEvents} from '@react-types/shared';\n\ninterface FocusProps extends FocusEvents {\n  /** Whether the focus events should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface FocusResult {\n  /** Props to spread onto the target element. */\n  focusProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles focus events for the immediate target.\n * Focus events on child elements will be ignored.\n */\nexport function useFocus(props: FocusProps): FocusResult {\n  if (props.isDisabled) {\n    return {focusProps: {}};\n  }\n\n  let onFocus, onBlur;\n  if (props.onFocus || props.onFocusChange) {\n    onFocus = (e: FocusEvent) => {\n      if (e.target === e.currentTarget) {\n        if (props.onFocus) {\n          props.onFocus(e);\n        }\n\n        if (props.onFocusChange) {\n          props.onFocusChange(true);\n        }\n      }\n    };\n  }\n\n  if (props.onBlur || props.onFocusChange) {\n    onBlur = (e: FocusEvent) => {\n      if (e.target === e.currentTarget) {\n        if (props.onBlur) {\n          props.onBlur(e);\n        }\n\n        if (props.onFocusChange) {\n          props.onFocusChange(false);\n        }\n      }\n    };\n  }\n\n  return {\n    focusProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {isMac} from '@react-aria/utils';\nimport {isVirtualClick} from './utils';\nimport {useEffect, useState} from 'react';\n\ntype Modality = 'keyboard' | 'pointer' | 'virtual';\ntype HandlerEvent = PointerEvent | MouseEvent | KeyboardEvent | FocusEvent;\ntype Handler = (modality: Modality, e: HandlerEvent) => void;\ntype FocusVisibleHandler = (isFocusVisible: boolean) => void;\ninterface FocusVisibleProps {\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\ninterface FocusVisibleResult {\n  /** Whether keyboard focus is visible globally. */\n  isFocusVisible: boolean\n}\n\nlet currentModality = null;\nlet changeHandlers = new Set<Handler>();\nlet hasSetupGlobalListeners = false;\nlet hasEventBeforeFocus = false;\nlet hasBlurredWindowRecently = false;\n\n// Only Tab or Esc keys will make focus visible on text input elements\nconst FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\n\nfunction triggerChangeHandlers(modality: Modality, e: HandlerEvent) {\n  for (let handler of changeHandlers) {\n    handler(modality, e);\n  }\n}\n\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */\nfunction isValidKey(e: KeyboardEvent) {\n  // Control and Shift keys trigger when navigating back to the tab with keyboard.\n  return !(e.metaKey || (!isMac() && e.altKey) || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\n\n\nfunction handleKeyboardEvent(e: KeyboardEvent) {\n  hasEventBeforeFocus = true;\n  if (isValidKey(e)) {\n    currentModality = 'keyboard';\n    triggerChangeHandlers('keyboard', e);\n  }\n}\n\nfunction handlePointerEvent(e: PointerEvent | MouseEvent) {\n  currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    hasEventBeforeFocus = true;\n    triggerChangeHandlers('pointer', e);\n  }\n}\n\nfunction handleClickEvent(e: MouseEvent) {\n  if (isVirtualClick(e)) {\n    hasEventBeforeFocus = true;\n    currentModality = 'virtual';\n  }\n}\n\nfunction handleFocusEvent(e: FocusEvent) {\n  // Firefox fires two extra focus events when the user first clicks into an iframe:\n  // first on the window, then on the document. We ignore these events so they don't\n  // cause keyboard focus rings to appear.\n  if (e.target === window || e.target === document) {\n    return;\n  }\n\n  // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n  // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n  if (!hasEventBeforeFocus && !hasBlurredWindowRecently) {\n    currentModality = 'virtual';\n    triggerChangeHandlers('virtual', e);\n  }\n\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = false;\n}\n\nfunction handleWindowBlur() {\n  // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n  // for example, since a subsequent focus event won't be fired.\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = true;\n}\n\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */\nfunction setupGlobalFocusEvents() {\n  if (typeof window === 'undefined' || hasSetupGlobalListeners) {\n    return;\n  }\n\n  // Programmatic focus() calls shouldn't affect the current input modality.\n  // However, we need to detect other cases when a focus event occurs without\n  // a preceding user event (e.g. screen reader focus). Overriding the focus\n  // method on HTMLElement.prototype is a bit hacky, but works.\n  let focus = HTMLElement.prototype.focus;\n  HTMLElement.prototype.focus = function () {\n    hasEventBeforeFocus = true;\n    focus.apply(this, arguments);\n  };\n\n  document.addEventListener('keydown', handleKeyboardEvent, true);\n  document.addEventListener('keyup', handleKeyboardEvent, true);\n  document.addEventListener('click', handleClickEvent, true);\n\n  // Register focus events on the window so they are sure to happen\n  // before React's event listeners (registered on the document).\n  window.addEventListener('focus', handleFocusEvent, true);\n  window.addEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerdown', handlePointerEvent, true);\n    document.addEventListener('pointermove', handlePointerEvent, true);\n    document.addEventListener('pointerup', handlePointerEvent, true);\n  } else {\n    document.addEventListener('mousedown', handlePointerEvent, true);\n    document.addEventListener('mousemove', handlePointerEvent, true);\n    document.addEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  hasSetupGlobalListeners = true;\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalFocusEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalFocusEvents);\n  }\n}\n\n/**\n * If true, keyboard focus is visible.\n */\nexport function isFocusVisible(): boolean {\n  return currentModality !== 'pointer';\n}\n\nexport function getInteractionModality(): Modality {\n  return currentModality;\n}\n\nexport function setInteractionModality(modality: Modality) {\n  currentModality = modality;\n  triggerChangeHandlers(modality, null);\n}\n\n/**\n * Keeps state of the current modality.\n */\nexport function useInteractionModality(): Modality {\n  setupGlobalFocusEvents();\n\n  let [modality, setModality] = useState(currentModality);\n  useEffect(() => {\n    let handler = () => {\n      setModality(currentModality);\n    };\n\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, []);\n\n  return modality;\n}\n\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */\nfunction isKeyboardFocusEvent(isTextInput: boolean, modality: Modality, e: HandlerEvent) {\n  return !(isTextInput && modality === 'keyboard' && e instanceof KeyboardEvent && !FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\n\n/**\n * Manages focus visible state for the page, and subscribes individual components for updates.\n */\nexport function useFocusVisible(props: FocusVisibleProps = {}): FocusVisibleResult {\n  let {isTextInput, autoFocus} = props;\n  let [isFocusVisibleState, setFocusVisible] = useState(autoFocus || isFocusVisible());\n  useFocusVisibleListener((isFocusVisible) => {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {isTextInput});\n\n  return {isFocusVisible: isFocusVisibleState};\n}\n\n/**\n * Listens for trigger change and reports if focus is visible (i.e., modality is not pointer).\n */\nexport function useFocusVisibleListener(fn: FocusVisibleHandler, deps: ReadonlyArray<any>, opts?: {isTextInput?: boolean}): void {\n  setupGlobalFocusEvents();\n\n  useEffect(() => {\n    let handler = (modality: Modality, e: HandlerEvent) => {\n      if (!isKeyboardFocusEvent(opts?.isTextInput, modality, e)) {\n        return;\n      }\n      fn(isFocusVisible());\n    };\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, deps);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {FocusEvent, HTMLAttributes, useRef} from 'react';\n\ninterface FocusWithinProps {\n  /** Whether the focus within events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when the target element or a descendant receives focus. */\n  onFocusWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the target element and all descendants lose focus. */\n  onBlurWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the the focus within state changes. */\n  onFocusWithinChange?: (isFocusWithin: boolean) => void\n}\n\ninterface FocusWithinResult {\n  /** Props to spread onto the target element. */\n  focusWithinProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles focus events for the target and its descendants.\n */\nexport function useFocusWithin(props: FocusWithinProps): FocusWithinResult {\n  let state = useRef({\n    isFocusWithin: false\n  }).current;\n\n  if (props.isDisabled) {\n    return {focusWithinProps: {}};\n  }\n\n  let onFocus = (e: FocusEvent) => {\n    if (!state.isFocusWithin) {\n      if (props.onFocusWithin) {\n        props.onFocusWithin(e);\n      }\n\n      if (props.onFocusWithinChange) {\n        props.onFocusWithinChange(true);\n      }\n\n      state.isFocusWithin = true;\n    }\n  };\n\n  let onBlur = (e: FocusEvent) => {\n    // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n    // when moving focus inside the element. Only trigger if the currentTarget doesn't\n    // include the relatedTarget (where focus is moving).\n    if (state.isFocusWithin && !e.currentTarget.contains(e.relatedTarget as HTMLElement)) {\n      if (props.onBlurWithin) {\n        props.onBlurWithin(e);\n      }\n\n      if (props.onFocusWithinChange) {\n        props.onFocusWithinChange(false);\n      }\n\n      state.isFocusWithin = false;\n    }\n  };\n\n  return {\n    focusWithinProps: {\n      onFocus: onFocus,\n      onBlur: onBlur\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {HoverEvents} from '@react-types/shared';\nimport {HTMLAttributes, useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface HoverProps extends HoverEvents {\n  /** Whether the hover events should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface HoverResult {\n  /** Props to spread on the target element. */\n  hoverProps: HTMLAttributes<HTMLElement>,\n  isHovered: boolean\n}\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet globalIgnoreEmulatedMouseEvents = false;\nlet hoverCount = 0;\n\nfunction setGlobalIgnoreEmulatedMouseEvents() {\n  globalIgnoreEmulatedMouseEvents = true;\n\n  // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n  // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n  // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n  // the distant future because a user previously touched the element.\n  setTimeout(() => {\n    globalIgnoreEmulatedMouseEvents = false;\n  }, 50);\n}\n\nfunction handleGlobalPointerEvent(e) {\n  if (e.pointerType === 'touch') {\n    setGlobalIgnoreEmulatedMouseEvents();\n  }\n}\n\nfunction setupGlobalTouchEvents() {\n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerup', handleGlobalPointerEvent);\n  } else {\n    document.addEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n  }\n\n  hoverCount++;\n  return () => {\n    hoverCount--;\n    if (hoverCount > 0) {\n      return;\n    }\n\n    if (typeof PointerEvent !== 'undefined') {\n      document.removeEventListener('pointerup', handleGlobalPointerEvent);\n    } else {\n      document.removeEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n    }\n  };\n}\n\n/**\n * Handles pointer hover interactions for an element. Normalizes behavior\n * across browsers and platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useHover(props: HoverProps): HoverResult {\n  let {\n    onHoverStart,\n    onHoverChange,\n    onHoverEnd,\n    isDisabled\n  } = props;\n\n  let [isHovered, setHovered] = useState(false);\n  let state = useRef({\n    isHovered: false,\n    ignoreEmulatedMouseEvents: false,\n    pointerType: '',\n    target: null\n  }).current;\n\n  useEffect(setupGlobalTouchEvents, []);\n\n  let {hoverProps, triggerHoverEnd} = useMemo(() => {\n    let triggerHoverStart = (event, pointerType) => {\n      state.pointerType = pointerType;\n      if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) {\n        return;\n      }\n\n      state.isHovered = true;\n      let target = event.currentTarget;\n      state.target = target;\n\n      if (onHoverStart) {\n        onHoverStart({\n          type: 'hoverstart',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(true);\n      }\n\n      setHovered(true);\n    };\n\n    let triggerHoverEnd = (event, pointerType) => {\n      state.pointerType = '';\n      state.target = null;\n\n      if (pointerType === 'touch' || !state.isHovered) {\n        return;\n      }\n\n      state.isHovered = false;\n      let target = event.currentTarget;\n      if (onHoverEnd) {\n        onHoverEnd({\n          type: 'hoverend',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(false);\n      }\n\n      setHovered(false);\n    };\n\n    let hoverProps: HTMLAttributes<HTMLElement> = {};\n\n    if (typeof PointerEvent !== 'undefined') {\n      hoverProps.onPointerEnter = (e) => {\n        if (globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') {\n          return;\n        }\n\n        triggerHoverStart(e, e.pointerType);\n      };\n\n      hoverProps.onPointerLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as HTMLElement)) {\n          triggerHoverEnd(e, e.pointerType);\n        }\n      };\n    } else {\n      hoverProps.onTouchStart = () => {\n        state.ignoreEmulatedMouseEvents = true;\n      };\n\n      hoverProps.onMouseEnter = (e) => {\n        if (!state.ignoreEmulatedMouseEvents && !globalIgnoreEmulatedMouseEvents) {\n          triggerHoverStart(e, 'mouse');\n        }\n\n        state.ignoreEmulatedMouseEvents = false;\n      };\n\n      hoverProps.onMouseLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as HTMLElement)) {\n          triggerHoverEnd(e, 'mouse');\n        }\n      };\n    }\n    return {hoverProps, triggerHoverEnd};\n  }, [onHoverStart, onHoverChange, onHoverEnd, isDisabled, state]);\n\n  useEffect(() => {\n    // Call the triggerHoverEnd as soon as isDisabled changes to true\n    // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n    if (isDisabled) {\n      triggerHoverEnd({currentTarget: state.target}, state.pointerType);\n    }\n  }, [isDisabled]);\n\n  return {\n    hoverProps,\n    isHovered\n  };\n}\n\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {RefObject, SyntheticEvent, useEffect, useRef} from 'react';\n\ninterface InteractOutsideProps {\n  ref: RefObject<Element>,\n  onInteractOutside?: (e: SyntheticEvent) => void,\n  onInteractOutsideStart?: (e: SyntheticEvent) => void,\n  /** Whether the interact outside events should be disabled. */\n  isDisabled?: boolean\n}\n\n/**\n * Example, used in components like Dialogs and Popovers so they can close\n * when a user clicks outside them.\n */\nexport function useInteractOutside(props: InteractOutsideProps) {\n  let {ref, onInteractOutside, isDisabled, onInteractOutsideStart} = props;\n  let stateRef = useRef({\n    isPointerDown: false,\n    ignoreEmulatedMouseEvents: false,\n    onInteractOutside,\n    onInteractOutsideStart\n  });\n  let state = stateRef.current;\n  state.onInteractOutside = onInteractOutside;\n  state.onInteractOutsideStart = onInteractOutsideStart;\n\n  useEffect(() => {\n    if (isDisabled) {\n      return;\n    }\n\n    let onPointerDown = (e) => {\n      if (isValidEvent(e, ref) && state.onInteractOutside) {\n        if (state.onInteractOutsideStart) {\n          state.onInteractOutsideStart(e);\n        }\n        state.isPointerDown = true;\n      }\n    };\n\n    // Use pointer events if available. Otherwise, fall back to mouse and touch events.\n    if (typeof PointerEvent !== 'undefined') {\n      let onPointerUp = (e) => {\n        if (state.isPointerDown && state.onInteractOutside && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      // changing these to capture phase fixed combobox\n      document.addEventListener('pointerdown', onPointerDown, true);\n      document.addEventListener('pointerup', onPointerUp, true);\n\n      return () => {\n        document.removeEventListener('pointerdown', onPointerDown, true);\n        document.removeEventListener('pointerup', onPointerUp, true);\n      };\n    } else {\n      let onMouseUp = (e) => {\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n        } else if (state.isPointerDown && state.onInteractOutside && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      let onTouchEnd = (e) => {\n        state.ignoreEmulatedMouseEvents = true;\n        if (state.onInteractOutside && state.isPointerDown && isValidEvent(e, ref)) {\n          state.isPointerDown = false;\n          state.onInteractOutside(e);\n        }\n      };\n\n      document.addEventListener('mousedown', onPointerDown, true);\n      document.addEventListener('mouseup', onMouseUp, true);\n      document.addEventListener('touchstart', onPointerDown, true);\n      document.addEventListener('touchend', onTouchEnd, true);\n\n      return () => {\n        document.removeEventListener('mousedown', onPointerDown, true);\n        document.removeEventListener('mouseup', onMouseUp, true);\n        document.removeEventListener('touchstart', onPointerDown, true);\n        document.removeEventListener('touchend', onTouchEnd, true);\n      };\n    }\n  }, [ref, state, isDisabled]);\n}\n\nfunction isValidEvent(event, ref) {\n  if (event.button > 0) {\n    return false;\n  }\n\n  // if the event target is no longer in the document\n  if (event.target) {\n    const ownerDocument = event.target.ownerDocument;\n    if (!ownerDocument || !ownerDocument.documentElement.contains(event.target)) {\n      return false;\n    }\n  }\n\n  return ref.current && !ref.current.contains(event.target);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {BaseEvent} from '@react-types/shared';\nimport {SyntheticEvent} from 'react';\n\n/**\n * This function wraps a React event handler to make stopPropagation the default, and support continuePropagation instead.\n */\nexport function createEventHandler<T extends SyntheticEvent>(handler: (e: BaseEvent<T>) => void): (e: T) => void {\n  if (!handler) {\n    return;\n  }\n\n  let shouldStopPropagation = true;\n  return (e: T) => {\n    let event: BaseEvent<T> = {\n      ...e,\n      preventDefault() {\n        e.preventDefault();\n      },\n      isDefaultPrevented() {\n        return e.isDefaultPrevented();\n      },\n      stopPropagation() {\n        console.error('stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.');\n      },\n      continuePropagation() {\n        shouldStopPropagation = false;\n      }\n    };\n\n    handler(event);\n\n    if (shouldStopPropagation) {\n      e.stopPropagation();\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {createEventHandler} from './createEventHandler';\nimport {HTMLAttributes} from 'react';\nimport {KeyboardEvents} from '@react-types/shared';\n\nexport interface KeyboardProps extends KeyboardEvents {\n  /** Whether the keyboard events should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface KeyboardResult {\n  /** Props to spread onto the target element. */\n  keyboardProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles keyboard interactions for a focusable element.\n */\nexport function useKeyboard(props: KeyboardProps): KeyboardResult {\n  return {\n    keyboardProps: props.isDisabled ? {} : {\n      onKeyDown: createEventHandler(props.onKeyDown),\n      onKeyUp: createEventHandler(props.onKeyUp)\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {disableTextSelection, restoreTextSelection}  from './textSelection';\nimport {MoveEvents, PointerType} from '@react-types/shared';\nimport React, {HTMLAttributes, useMemo, useRef} from 'react';\nimport {useGlobalListeners} from '@react-aria/utils';\n\ninterface MoveResult {\n  /** Props to spread on the target element. */\n  moveProps: HTMLAttributes<HTMLElement>\n}\n\ninterface EventBase {\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\n/**\n * Handles move interactions across mouse, touch, and keyboard, including dragging with\n * the mouse or touch, and using the arrow keys. Normalizes behavior across browsers and\n * platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useMove(props: MoveEvents): MoveResult {\n  let {onMoveStart, onMove, onMoveEnd} = props;\n\n  let state = useRef<{\n    didMove: boolean,\n    lastPosition: {pageX: number, pageY: number} | null,\n    id: number | null\n  }>({didMove: false, lastPosition: null, id: null});\n\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let moveProps = useMemo(() => {\n    let moveProps: HTMLAttributes<HTMLElement> = {};\n\n    let start = () => {\n      disableTextSelection();\n      state.current.didMove = false;\n    };\n    let move = (originalEvent: EventBase, pointerType: PointerType, deltaX: number, deltaY: number) => {\n      if (deltaX === 0 && deltaY === 0) {\n        return;\n      }\n\n      if (!state.current.didMove) {\n        state.current.didMove = true;\n        onMoveStart?.({\n          type: 'movestart',\n          pointerType,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n      onMove({\n        type: 'move',\n        pointerType,\n        deltaX: deltaX,\n        deltaY: deltaY,\n        shiftKey: originalEvent.shiftKey,\n        metaKey: originalEvent.metaKey,\n        ctrlKey: originalEvent.ctrlKey,\n        altKey: originalEvent.altKey\n      });\n    };\n    let end = (originalEvent: EventBase, pointerType: PointerType) => {\n      restoreTextSelection();\n      if (state.current.didMove) {\n        onMoveEnd?.({\n          type: 'moveend',\n          pointerType,\n          shiftKey: originalEvent.shiftKey,\n          metaKey: originalEvent.metaKey,\n          ctrlKey: originalEvent.ctrlKey,\n          altKey: originalEvent.altKey\n        });\n      }\n    };\n\n    if (typeof PointerEvent === 'undefined') {\n      let onMouseMove = (e: MouseEvent) => {\n        if (e.button === 0) {\n          move(e, 'mouse', e.pageX - state.current.lastPosition.pageX, e.pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n      let onMouseUp = (e: MouseEvent) => {\n        if (e.button === 0) {\n          end(e, 'mouse');\n          removeGlobalListener(window, 'mousemove', onMouseMove, false);\n          removeGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n      moveProps.onMouseDown = (e: React.MouseEvent) => {\n        if (e.button === 0) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          addGlobalListener(window, 'mousemove', onMouseMove, false);\n          addGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n\n      let onTouchMove = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          let {pageX, pageY} = e.changedTouches[touch];\n          move(e, 'touch', pageX - state.current.lastPosition.pageX, pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX, pageY};\n        }\n      };\n      let onTouchEnd = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          end(e, 'touch');\n          state.current.id = null;\n          removeGlobalListener(window, 'touchmove', onTouchMove);\n          removeGlobalListener(window, 'touchend', onTouchEnd);\n          removeGlobalListener(window, 'touchcancel', onTouchEnd);\n        }\n      };\n      moveProps.onTouchStart = (e: React.TouchEvent) => {\n        if (e.changedTouches.length === 0 || state.current.id != null) {\n          return;\n        }\n\n        let {pageX, pageY, identifier} = e.changedTouches[0];\n        start();\n        e.stopPropagation();\n        e.preventDefault();\n        state.current.lastPosition = {pageX, pageY};\n        state.current.id = identifier;\n        addGlobalListener(window, 'touchmove', onTouchMove, false);\n        addGlobalListener(window, 'touchend', onTouchEnd, false);\n        addGlobalListener(window, 'touchcancel', onTouchEnd, false);\n      };\n    } else {\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n\n          // Problems with PointerEvent#movementX/movementY:\n          // 1. it is always 0 on macOS Safari.\n          // 2. On Chrome Android, it's scaled by devicePixelRatio, but not on Chrome macOS\n          move(e, pointerType, e.pageX - state.current.lastPosition.pageX, e.pageY - state.current.lastPosition.pageY);\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n          end(e, pointerType);\n          state.current.id = null;\n          removeGlobalListener(window, 'pointermove', onPointerMove, false);\n          removeGlobalListener(window, 'pointerup', onPointerUp, false);\n          removeGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n\n      moveProps.onPointerDown = (e: React.PointerEvent) => {\n        if (e.button === 0 && state.current.id == null) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          state.current.id = e.pointerId;\n          addGlobalListener(window, 'pointermove', onPointerMove, false);\n          addGlobalListener(window, 'pointerup', onPointerUp, false);\n          addGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n    }\n\n    let triggerKeyboardMove = (e: EventBase, deltaX: number, deltaY: number) => {\n      start();\n      move(e, 'keyboard', deltaX, deltaY);\n      end(e, 'keyboard');\n    };\n\n    moveProps.onKeyDown = (e) => {\n      switch (e.key) {\n        case 'Left':\n        case 'ArrowLeft':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, -1, 0);\n          break;\n        case 'Right':\n        case 'ArrowRight':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 1, 0);\n          break;\n        case 'Up':\n        case 'ArrowUp':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, -1);\n          break;\n        case 'Down':\n        case 'ArrowDown':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, 1);\n          break;\n      }\n    };\n\n    return moveProps;\n  }, [state, onMoveStart, onMove, onMoveEnd, addGlobalListener, removeGlobalListener]);\n\n  return {moveProps};\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useCallback} from 'react';\nimport {ScrollEvents} from '@react-types/shared';\nimport {useEvent} from '@react-aria/utils';\n\nexport interface ScrollWheelProps extends ScrollEvents {\n  /** Whether the scroll listener should be disabled. */\n  isDisabled?: boolean\n}\n\n// scroll wheel needs to be added not passively so it's cancelable, small helper hook to remember that\nexport function useScrollWheel(props: ScrollWheelProps, ref: RefObject<HTMLElement>): void {\n  let {onScroll, isDisabled} = props;\n  let onScrollHandler = useCallback((e) => {\n    // If the ctrlKey is pressed, this is a zoom event, do nothing.\n    if (e.ctrlKey) {\n      return;\n    }\n\n    // stop scrolling the page\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (onScroll) {\n      onScroll({deltaX: e.deltaX, deltaY: e.deltaY});\n    }\n  }, [onScroll]);\n\n  useEvent(ref, 'wheel', isDisabled ? null : onScrollHandler);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {HTMLAttributes, useRef} from 'react';\nimport {LongPressEvent} from '@react-types/shared';\nimport {mergeProps, useDescription, useGlobalListeners} from '@react-aria/utils';\nimport {usePress} from './usePress';\n\ninterface LongPressProps {\n  /** Whether long press events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when a long press interaction starts. */\n  onLongPressStart?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when a long press interaction ends, either\n   * over the target or when the pointer leaves the target.\n   */\n  onLongPressEnd?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when the threshold time is met while\n   * the press is over the target.\n   */\n  onLongPress?: (e: LongPressEvent) => void,\n  /**\n   * The amount of time in milliseconds to wait before triggering a long press.\n   * @default 500ms\n   */\n  threshold?: number,\n  /**\n   * A description for assistive techology users indicating that a long press\n   * action is available, e.g. \"Long press to open menu\".\n   */\n  accessibilityDescription?: string\n}\n\ninterface LongPressResult {\n  /** Props to spread on the target element. */\n  longPressProps: HTMLAttributes<HTMLElement>\n}\n\nconst DEFAULT_THRESHOLD = 500;\n\n/**\n * Handles long press interactions across mouse and touch devices. Supports a customizable time threshold,\n * accessibility description, and normalizes behavior across browsers and devices.\n */\nexport function useLongPress(props: LongPressProps): LongPressResult {\n  let {\n    isDisabled,\n    onLongPressStart,\n    onLongPressEnd,\n    onLongPress,\n    threshold = DEFAULT_THRESHOLD,\n    accessibilityDescription\n  } = props;\n\n  const timeRef = useRef(null);\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let {pressProps} = usePress({\n    isDisabled,\n    onPressStart(e) {\n      if (e.pointerType === 'mouse' || e.pointerType === 'touch') {\n        if (onLongPressStart) {\n          onLongPressStart({\n            ...e,\n            type: 'longpressstart'\n          });\n        }\n\n        timeRef.current = setTimeout(() => {\n          // Prevent other usePress handlers from also handling this event.\n          e.target.dispatchEvent(new PointerEvent('pointercancel', {bubbles: true}));\n          if (onLongPress) {\n            onLongPress({\n              ...e,\n              type: 'longpress'\n            });\n          }\n          timeRef.current = null;\n        }, threshold);\n\n        // Prevent context menu, which may be opened on long press on touch devices\n        if (e.pointerType === 'touch') {\n          let onContextMenu = e => {\n            e.preventDefault();\n          };\n\n          addGlobalListener(e.target, 'contextmenu', onContextMenu, {once: true});\n          addGlobalListener(window, 'pointerup', () => {\n            // If no contextmenu event is fired quickly after pointerup, remove the handler\n            // so future context menu events outside a long press are not prevented.\n            setTimeout(() => {\n              removeGlobalListener(e.target, 'contextmenu', onContextMenu);\n            }, 30);\n          }, {once: true});\n        }\n      }\n    },\n    onPressEnd(e) {\n      if (timeRef.current) {\n        clearTimeout(timeRef.current);\n      }\n\n      if (onLongPressEnd && (e.pointerType === 'mouse' || e.pointerType === 'touch')) {\n        onLongPressEnd({\n          ...e,\n          type: 'longpressend'\n        });\n      }\n    }\n  });\n\n  let descriptionProps = useDescription(onLongPress && !isDisabled ? accessibilityDescription : null);\n\n  return {\n    longPressProps: mergeProps(pressProps, descriptionProps)\n  };\n}\n","const o={};export default(e,n)=>{const r=`[Next UI]${n?` [${n}]`:\" \"}: ${e}`;if(\"undefined\"!=typeof console&&!o[r]){if(o[r]=!0,\"production\"!==process.env.NODE_ENV)return console.error(r);console.warn(r)}};","import r from\"./use-warning\";export default r;","import t from\"react\";const o={isButtonGroup:!1,disabled:!1};export const ButtonGroupContext=t.createContext(o);export const useButtonGroupContext=()=>t.useContext(ButtonGroupContext);","import t from\"react\";import{styled as i}from\"../theme/stitches.config\";import n from\"../utils/with-defaults\";import o from\"../utils/clsx\";import{jsx as s}from\"react/jsx-runtime\";export const StyledButtonIcon=i(\"span\",{dflex:\"center\",position:\"absolute\",left:\"$$buttonPadding\",right:\"auto\",top:\"50%\",transform:\"translateY(-50%)\",color:\"inherit\",zIndex:\"$1\",\"& svg\":{background:\"transparent\"},variants:{isAuto:{true:{position:\"relative\",transform:\"none\",top:\"0%\"}},isRight:{true:{right:\"$$buttonPadding\",left:\"auto\"}},isSingle:{true:{position:\"static\",transform:\"none\"}},isGradientButtonBorder:{true:{}}},compoundVariants:[{isAuto:!0,isRight:!0,isSingle:!1,css:{order:2,ml:\"$$buttonPadding\",right:\"0%\",left:\"0%\"}},{isAuto:!0,isRight:!1,isSingle:!1,css:{order:0,mr:\"$$buttonPadding\",right:\"0%\",left:\"0%\"}},{isSingle:!0,isRight:!1,css:{ml:0}},{isSingle:!0,isRight:!0,css:{mr:0}},{isSingle:!0,isRight:!1,isGradientButtonBorder:!0,css:{mr:\"$$buttonPadding\"}}]});const e=({children:t,className:i,...n})=>s(StyledButtonIcon,{className:o(\"nextui-button-icon\",{\"nextui-button-icon-right\":n.isRight,\"nextui-button-icon-single\":n.isSingle},i),...n,children:t});e.toString=()=>\".nextui-button-icon\";const r=t.memo(e);export default n(r,{className:\"\"});","import{styled as r,cssFocusVisible as o}from\"../theme/stitches.config\";import{StyledDrip as e}from\"../utils/drip\";export const StyledButton=r(\"button\",{$$buttonBorderRadius:\"$radii$md\",$$buttonHoverOpacity:.85,$$buttonPressedScale:.97,dflex:\"center\",appearance:\"none\",boxSizing:\"border-box\",fontWeight:\"$medium\",us:\"none\",lineHeight:\"$sm\",ta:\"center\",whiteSpace:\"nowrap\",transition:\"$button\",position:\"relative\",overflow:\"hidden\",border:\"none\",cursor:\"pointer\",pe:\"auto\",p:0,br:\"$$buttonBorderRadius\",\"@motion\":{transition:\"none\"},\".nextui-button-text\":{dflex:\"center\",zIndex:\"$2\",\"p, pre, div\":{margin:0}},[`& ${e}`]:{zIndex:\"$1\",\".nextui-drip-filler\":{opacity:.25,fill:\"$accents2\"}},variants:{bordered:{true:{bg:\"transparent\",borderStyle:\"solid\",color:\"$text\"}},ghost:{true:{\"&:hover\":{color:\"$white\"}}},color:{default:{bg:\"$primary\",color:\"$white\"},primary:{bg:\"$primary\",color:\"$white\"},secondary:{bg:\"$secondary\",color:\"$white\"},success:{bg:\"$success\",color:\"$white\"},warning:{bg:\"$warning\",color:\"$white\"},error:{bg:\"$error\",color:\"$white\"},gradient:{bg:\"$gradient\",color:\"$white\"}},size:{xs:{$$buttonPadding:\"$space$3\",$$buttonBorderRadius:\"$radii$xs\",px:\"$3\",height:\"$10\",lh:\"$space$10\",width:\"auto\",minWidth:\"$20\",fontSize:\"$tiny\"},sm:{$$buttonPadding:\"$space$5\",$$buttonBorderRadius:\"$radii$sm\",px:\"$5\",height:\"$12\",lh:\"$space$14\",width:\"auto\",minWidth:\"$36\",fontSize:\"$xs\"},md:{$$buttonPadding:\"$space$7\",$$buttonBorderRadius:\"$radii$md\",px:\"$7\",height:\"$14\",lh:\"$space$14\",width:\"auto\",minWidth:\"$48\",fontSize:\"$xs\"},lg:{$$buttonPadding:\"$space$9\",$$buttonBorderRadius:\"$radii$base\",px:\"$9\",height:\"$15\",lh:\"$space$15\",width:\"auto\",minWidth:\"$60\",fontSize:\"$base\"},xl:{$$buttonPadding:\"$space$10\",$$buttonBorderRadius:\"$radii$xl\",px:\"$10\",height:\"$17\",lh:\"$space$17\",width:\"auto\",minWidth:\"$72\",fontSize:\"$sm\"}},borderWeight:{light:{bw:\"$light\",$$buttonBorderWeight:\"$borderWeights$light\"},normal:{bw:\"$normal\",$$buttonBorderWeight:\"$borderWeights$normal\"},bold:{bw:\"$bold\",$$buttonBorderWeight:\"$borderWeights$bold\"},extrabold:{bw:\"$extrabold\",$$buttonBorderWeight:\"$borderWeights$extrabold\"},black:{bw:\"$black\",$$buttonBorderWeight:\"$borderWeights$black\"}},flat:{true:{color:\"$text\"}},light:{true:{bg:\"transparent\",[`& ${e}`]:{\".nextui-drip-filler\":{opacity:.8,fill:\"$accents2\"}}}},shadow:{true:{bs:\"$sm\"}},animated:{false:{transition:\"none\"}},auto:{true:{width:\"auto\",minWidth:\"min-content\"}},rounded:{true:{$$buttonBorderRadius:\"$radii$pill\"}},isPressed:{true:{}},isHovered:{true:{opacity:\"$$buttonHoverOpacity\"}}},compoundVariants:[{isPressed:!0,animated:!0,css:{transform:\"scale($$buttonPressedScale)\"}},{auto:!0,size:\"xs\",css:{px:\"$5\",minWidth:\"min-content\"}},{auto:!0,size:\"sm\",css:{px:\"$8\",minWidth:\"min-content\"}},{auto:!0,size:\"md\",css:{px:\"$9\",minWidth:\"min-content\"}},{auto:!0,size:\"lg\",css:{px:\"$10\",minWidth:\"min-content\"}},{auto:!0,size:\"xl\",css:{px:\"$11\",minWidth:\"min-content\"}},{shadow:!0,color:\"default\",css:{normalShadow:\"$primaryShadow\"}},{shadow:!0,color:\"primary\",css:{normalShadow:\"$primaryShadow\"}},{shadow:!0,color:\"secondary\",css:{normalShadow:\"$secondaryShadow\"}},{shadow:!0,color:\"warning\",css:{normalShadow:\"$warningShadow\"}},{shadow:!0,color:\"success\",css:{normalShadow:\"$successShadow\"}},{shadow:!0,color:\"error\",css:{normalShadow:\"$errorShadow\"}},{shadow:!0,color:\"gradient\",css:{normalShadow:\"$primaryShadow\"}},{light:!0,color:\"default\",css:{bg:\"transparent\",color:\"$text\"}},{light:!0,color:\"primary\",css:{bg:\"transparent\",color:\"$primary\"}},{light:!0,color:\"secondary\",css:{bg:\"transparent\",color:\"$secondary\"}},{light:!0,color:\"warning\",css:{bg:\"transparent\",color:\"$warning\"}},{light:!0,color:\"success\",css:{bg:\"transparent\",color:\"$success\"}},{light:!0,color:\"error\",css:{bg:\"transparent\",color:\"$error\"}},{bordered:!0,color:\"default\",css:{bg:\"transparent\",borderColor:\"$primary\",color:\"$primary\",[`& ${e}`]:{\".nextui-drip-filler\":{fill:\"$primary\"}}}},{bordered:!0,color:\"primary\",css:{bg:\"transparent\",borderColor:\"$primary\",color:\"$primary\",[`& ${e}`]:{\".nextui-drip-filler\":{fill:\"$primary\"}}}},{bordered:!0,color:\"secondary\",css:{bg:\"transparent\",borderColor:\"$secondary\",color:\"$secondary\",[`& ${e}`]:{\".nextui-drip-filler\":{fill:\"$secondary\"}}}},{bordered:!0,color:\"success\",css:{bg:\"transparent\",borderColor:\"$success\",color:\"$success\",[`& ${e}`]:{\".nextui-drip-filler\":{fill:\"$success\"}}}},{bordered:!0,color:\"warning\",css:{bg:\"transparent\",borderColor:\"$warning\",color:\"$warning\",[`& ${e}`]:{\".nextui-drip-filler\":{fill:\"$warning\"}}}},{bordered:!0,color:\"error\",css:{bg:\"transparent\",borderColor:\"$error\",color:\"$error\",[`& ${e}`]:{\".nextui-drip-filler\":{fill:\"$error\"}}}},{bordered:!0,color:\"gradient\",css:{bg:\"transparent\",color:\"$text\",padding:\"$$buttonBorderWeight\",bgClip:\"content-box, border-box\",borderColor:\"$primary\",backgroundImage:\"linear-gradient($background, $background), $gradient\",border:\"none\",[`& ${e}`]:{\".nextui-drip-filler\":{fill:\"$secondary\"}}}},{ghost:!0,isHovered:!0,color:\"default\",css:{bg:\"$primary\"}},{ghost:!0,isHovered:!0,color:\"primary\",css:{bg:\"$primary\"}},{ghost:!0,isHovered:!0,color:\"secondary\",css:{bg:\"$secondary\"}},{ghost:!0,isHovered:!0,color:\"success\",css:{bg:\"$success\"}},{ghost:!0,isHovered:!0,color:\"warning\",css:{bg:\"$warning\"}},{ghost:!0,isHovered:!0,color:\"error\",css:{bg:\"$error\"}},{ghost:!0,color:\"gradient\",isHovered:!0,css:{bg:\"$gradient\"}},{flat:!0,color:\"default\",css:{bg:\"$primaryLight\",color:\"$primary\",[`& ${e}`]:{\".nextui-drip-filler\":{opacity:.4,fill:\"$primary\"}}}},{flat:!0,color:\"primary\",css:{bg:\"$primaryLight\",color:\"$primary\",[`& ${e}`]:{\".nextui-drip-filler\":{opacity:.4,fill:\"$primary\"}}}},{flat:!0,color:\"secondary\",css:{bg:\"$secondaryLight\",color:\"$secondary\",[`& ${e}`]:{\".nextui-drip-filler\":{opacity:.4,fill:\"$secondary\"}}}},{flat:!0,color:\"success\",css:{bg:\"$successLight\",color:\"$success\",[`& ${e}`]:{\".nextui-drip-filler\":{opacity:.4,fill:\"$success\"}}}},{flat:!0,color:\"warning\",css:{bg:\"$warningLight\",color:\"$warning\",[`& ${e}`]:{\".nextui-drip-filler\":{opacity:.4,fill:\"$warning\"}}}},{flat:!0,color:\"error\",css:{bg:\"$errorLight\",color:\"$error\",[`& ${e}`]:{\".nextui-drip-filler\":{opacity:.4,fill:\"$error\"}}}},{auto:!0,color:\"gradient\",bordered:!0,css:{\".nextui-button-text\":{px:\"$$buttonPadding\"},\".nextui-button-icon\":{ml:\"$$buttonPadding\"},\".nextui-button-icon-right\":{mr:\"$$buttonPadding\"},\".nextui-button-text-left\":{pl:0},\".nextui-button-text-right\":{pr:0}}},{rounded:!0,size:\"xs\",css:{br:\"$pill\"}},{rounded:!0,size:\"sm\",css:{br:\"$pill\"}},{rounded:!0,size:\"md\",css:{br:\"$pill\"}},{rounded:!0,size:\"lg\",css:{br:\"$pill\"}},{rounded:!0,size:\"xl\",css:{br:\"$pill\"}}],defaultVariants:{color:\"default\",borderWeight:\"normal\",animated:!0,size:\"md\"}},o);export default StyledButton;","import t,{useMemo as o}from\"react\";import{useFocusRing as r}from\"@react-aria/focus\";import{useButton as e}from\"@react-aria/button\";import{useHover as i}from\"@react-aria/interactions\";import{mergeProps as s}from\"@react-aria/utils\";import n from\"../use-warning\";import a from\"../utils/drip\";import{filterPropsWithGroup as l,getCssColors as u}from\"./utils\";import{useButtonGroupContext as d}from\"./button-group-context\";import m from\"./button-icon\";import c from\"../utils/clsx\";import p from\"../use-drip\";import f from\"./button.styles\";import b from\"../utils/with-defaults\";import{useDOMRef as h}from\"../utils/dom\";import{__DEV__ as g}from\"../utils/assertion\";import{jsx as x}from\"react/jsx-runtime\";import{Fragment as y}from\"react/jsx-runtime\";import{jsxs as v}from\"react/jsx-runtime\";const N=t.forwardRef((({onClick:b,onPress:N,as:P,css:B,...F},j)=>{const w=d(),k=l(F,w),C=u(k),{flat:R,children:S,disabled:T,animated:A,light:D,ripple:G,bordered:H,auto:U,borderWeight:V,icon:W,iconRight:I,ghost:$,autoFocus:q,className:z,...E}=k,J=t=>{A&&G&&K.current&&Z(t)},K=h(j),{buttonProps:L,isPressed:M}=e({...F,isDisabled:T,elementType:P,onPress:t=>{\"keyboard\"!==t.pointerType&&\"virtual\"!==t.pointerType||J(t),null==N||N(t)}},K),{hoverProps:O,isHovered:Q}=i({isDisabled:T}),{isFocusVisible:X,focusProps:Y}=r({autoFocus:q}),{onClick:Z,..._}=p(!1,K);L.onClick=t=>{J(t),null==b||b(t)},g&&\"gradient\"===k.color&&(R||D)&&n(\"Using the gradient color on flat and light buttons will have no effect.\");const tt=W||I,ot=Boolean(I),rt=o((()=>M?\"pressed\":Q?\"hovered\":T?\"disabled\":\"ready\"),[T,Q,M]);return v(f,{as:P,ref:K,borderWeight:V,auto:U,flat:R,light:D,ghost:$,bordered:H||$,\"data-state\":rt,animated:A,isPressed:M,isHovered:Q,isFocusVisible:X&&!T,className:c(\"nextui-button\",`nextui-button--${rt}`,z),css:{...B,...C},...s(L,Y,O,E),children:[0===t.Children.count(S)?x(m,{isSingle:!0,isAuto:U,isRight:ot,isGradientButtonBorder:\"gradient\"===E.color&&(H||$),children:tt}):tt?v(y,{children:[x(m,{isSingle:!1,isAuto:U,isRight:ot,isGradientButtonBorder:\"gradient\"===E.color&&(H||$),children:tt}),x(\"div\",{className:c(\"nextui-button-text\",{\"nextui-button-text-right\":ot,\"nextui-button-text-left\":!ot}),children:S})]}):x(\"span\",{className:\"nextui-button-text\",children:S}),x(a,{color:\"white\",..._})]})}));g&&(N.displayName=\"NextUI.Button\"),N.toString=()=>\".nextui-button\";export default b(N,{ghost:!1,bordered:!1,ripple:!0,animated:!0,disabled:!1,autoFocus:!1,auto:!1,className:\"\",type:\"button\"});","export const filterPropsWithGroup=(e,o)=>{var r,t,n,l,d,a,i,s,g,u,b;return o.isButtonGroup?{...e,auto:!0,shadow:!1,bordered:null!=(r=o.bordered)?r:e.bordered,borderWeight:null!=(t=o.borderWeight)?t:e.borderWeight,ghost:null!=(n=o.ghost)?n:e.ghost,ripple:null!=(l=o.ripple)?l:e.ripple,flat:null!=(d=o.flat)?d:e.flat,animated:null!=(a=o.animated)?a:e.animated,rounded:null!=(i=o.rounded)?i:e.rounded,light:null!=(s=o.light)?s:e.light,size:null!=(g=o.size)?g:e.size,color:null!=(u=o.color)?u:e.color,disabled:null!=(b=o.disabled)?b:e.disabled}:e};export const getCssColors=e=>{if(!e.disabled)return e.auto&&\"gradient\"===e.color&&(e.bordered||e.ghost)?{px:\"$$buttonBorderWeight\",py:\"$$buttonBorderWeight\"}:{};const o={bg:\"$accents2\",color:\"$accents4\",transform:\"none\",boxShadow:\"none\",pe:\"none\"};return e.bordered||e.flat||e.ghost||e.light?\"gradient\"===e.color&&(e.bordered||e.ghost)?{color:\"$accents4\",backgroundImage:\"linear-gradient($background, $background), linear-gradient($accents2, $accents2)\",transform:\"none\",boxShadow:\"none\",pe:\"none\",pl:\"$$buttonBorderWeight\",pr:\"$$buttonBorderWeight\"}:e.bordered||e.ghost||e.light?{...o,bg:\"transparent\",borderColor:\"$accents2\"}:e.flat?{...o,bg:\"$accents1\"}:{}:o};","import{styled as t}from\"../theme/stitches.config\";import r from\"./button.styles\";export const StyledButtonGroup=t(\"div\",{display:\"inline-flex\",margin:\"$3\",backgroundColor:\"transparent\",height:\"min-content\",[`& ${r}`]:{\".nextui-button-text\":{top:0}},variants:{vertical:{true:{fd:\"column\",[`& ${r}`]:{\"&:not(:first-child)\":{btlr:0,btrr:0},\"&:not(:last-child)\":{bblr:0,bbrr:0}}},false:{fd:\"row\",[`& ${r}`]:{\"&:not(:first-child)\":{btlr:0,bblr:0},\"&:not(:last-child)\":{btrr:0,bbrr:0}}}},size:{xs:{br:\"$xs\"},sm:{br:\"$sm\"},md:{br:\"$md\"},lg:{br:\"$base\"},xl:{br:\"$xl\"}},rounded:{true:{br:\"$pill\"}},bordered:{true:{bg:\"transparent\"}},gradient:{true:{pl:0}}},defaultVariants:{vertical:!1},compoundVariants:[{bordered:!0,vertical:!0,css:{[`& ${r}`]:{\"&:not(:last-child)\":{borderBottom:\"none\",paddingBottom:\"0\"}}}},{bordered:!0,vertical:!1,css:{[`& ${r}`]:{\"&:not(:first-child)\":{borderLeft:\"none\"}}}},{bordered:!0,vertical:!1,gradient:!0,css:{[`& ${r}`]:{\"&:not(:last-child)&:not(:first-child)\":{pl:0},\"&:last-child\":{pl:0}}}}]});export default StyledButtonGroup;","import o,{useMemo as r}from\"react\";import t from\"../utils/with-defaults\";import{ButtonGroupContext as e}from\"./button-group-context\";import i from\"./button-group.styles\";import{jsx as d}from\"react/jsx-runtime\";const a=o=>{const{disabled:t,size:a,color:l,bordered:n,ghost:s,light:u,flat:m,shadow:p,auto:c,animated:g,rounded:h,ripple:b,borderWeight:f,children:x,...z}=o,w=r((()=>({disabled:t,size:a,color:l,bordered:n,light:u,ghost:s,flat:m,shadow:p,auto:c,borderWeight:f,animated:g,rounded:h,ripple:b,isButtonGroup:!0})),[t,g,a,b,l,n,u,s,m,f]);return d(e.Provider,{value:w,children:d(i,{size:a,bordered:n||s,gradient:\"gradient\"===o.color,...z,children:x})})};a.toString=()=>\".nextui-button-group\";const l=o.memo(a);export default t(l,{borderWeight:\"normal\",size:\"md\",color:\"default\"});","import t from\"./button\";import o from\"./button-group\";export{StyledButton}from\"./button.styles\";export{StyledButtonGroup}from\"./button-group.styles\";export{StyledButtonIcon}from\"./button-icon\";t.Group=o;export default t;","import r from\"./use-drip\";export default r;","import{useState as t}from\"react\";export default(e=!1,n)=>{const[r,o]=t(e),[c,i]=t(0),[l,u]=t(0);return{visible:r,x:c,y:l,onClick:t=>{if(!n.current)return;const e=n.current.getBoundingClientRect();o(!0),i(t.clientX-e.left),u(t.clientY-e.top)},onCompleted:()=>{o(!1),i(0),u(0)}}};","export const __DEV__=\"production\"!==process.env.NODE_ENV;export const __TEST__=\"test\"===process.env.NODE_ENV;export function isArray(t){return Array.isArray(t)}export function isEmptyArray(t){return isArray(t)&&0===t.length}export function isObject(t){const r=typeof t;return null!=t&&(\"object\"===r||\"function\"===r)&&!isArray(t)}export function isEmptyObject(t){return isObject(t)&&0===Object.keys(t).length}export function isEmpty(t){return isArray(t)?isEmptyArray(t):isObject(t)?isEmptyObject(t):null==t||\"\"===t}export function isFunction(t){return\"function\"==typeof t}","import{useImperativeHandle as e,useRef as t}from\"react\";export function canUseDOM(){return!(\"undefined\"==typeof window||!window.document||!window.document.createElement)}export const isBrowser=canUseDOM();export function detectDeviceType(e){const{userAgent:t}=e;return/(tablet)|(iPad)|(Nexus 9)/i.test(t)?\"tablet\":/(mobi)/i.test(t)?\"phone\":\"desktop\"}export function detectOS(e){return!!isBrowser&&function(e){const{userAgent:t,platform:r}=e;switch(!0){case/Android/.test(t):return\"Android\";case/iPhone|iPad|iPod/.test(r):return\"iOS\";case/Win/.test(r):return\"Windows\";case/Mac/.test(r):return\"Mac\";case/CrOS/.test(t):return\"Chrome OS\";case/Firefox/.test(t):return\"Firefox OS\";default:return null}}(window.navigator)===e}export function detectBrowser(e){return!!isBrowser&&function(e){const{userAgent:t,vendor:r}=e,n=/(android)/i.test(t);switch(!0){case/CriOS/.test(t):return\"Chrome for iOS\";case/Edg\\//.test(t):return\"Edge\";case n&&/Silk\\//.test(t):return\"Silk\";case/Chrome/.test(t)&&/Google Inc/.test(r):return\"Chrome\";case/Firefox\\/\\d+\\.\\d+$/.test(t):return\"Firefox\";case n:return\"AOSP\";case/MSIE|Trident/.test(t):return\"IE\";case/Safari/.test(e.userAgent)&&/Apple Computer/.test(t):return\"Safari\";case/AppleWebKit/.test(t):return\"WebKit\";default:return null}}(window.navigator)===e}export function detectTouch(){return!!isBrowser&&(null===window.ontouchstart&&null===window.ontouchmove&&null===window.ontouchend)}export function createDOMRef(e){return{UNSAFE_getDOMNode:()=>e.current}}export function createFocusableRef(e,t=e){return{...createDOMRef(e),focus(){t.current&&t.current.focus()}}}export function useDOMRef(r){const n=t(null);return e(r,(()=>n.current)),n}export function useFocusableRef(r,n){const o=t(null);return e(r,(()=>createFocusableRef(o,n))),o}export function unwrapDOMRef(e){return{get current(){return e.current&&e.current.UNSAFE_getDOMNode()}}}","import t,{useEffect as e,useRef as i}from\"react\";import{styled as r,keyframes as o}from\"../theme/stitches.config\";import n from\"../utils/with-defaults\";import l from\"../utils/clsx\";import{jsx as s}from\"react/jsx-runtime\";const a=o({\"0%\":{opacity:0,transform:\"scale(0.25)\"},\"30%\":{opacity:1},\"80%\":{opacity:.5},\"100%\":{transform:\"scale(28)\",opacity:0}});export const StyledDrip=r(\"div\",{position:\"absolute\",left:0,right:0,top:0,bottom:0,\"& svg\":{position:\"absolute\",animation:`350ms linear ${a}`,animationFillMode:\"forwards\",width:\"$md\",height:\"$md\"}});const m=({visible:t,x:r,y:o,color:n,onCompleted:a,className:m,...c})=>{const d=i(null),p=Number.isNaN(+o)?0:o-10,u=Number.isNaN(+r)?0:r-10;return e((()=>{if(d.current)return d.current.addEventListener(\"animationend\",a),()=>{d.current&&d.current.removeEventListener(\"animationend\",a)}})),t?s(StyledDrip,{ref:d,className:l(\"nextui-drip\",m),...c,children:s(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",style:{top:p,left:u},children:s(\"g\",{stroke:\"none\",strokeWidth:\"1\",fill:\"none\",fillRule:\"evenodd\",children:s(\"g\",{className:\"nextui-drip-filler\",fill:n,children:s(\"rect\",{width:\"100%\",height:\"100%\",rx:\"10\"})})})})}):null},c=t.memo(m);export default n(c,{visible:!1,x:0,y:0,className:\"\"});","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n"],"names":["module","exports","$9d939cbc98267846$var$defaultContext","prefix","String","Math","round","random","current","$9d939cbc98267846$var$SSRContext","$cgWTI$react","$9d939cbc98267846$export$9f8ac96af4b1b2ae","props","cur","$cgWTI$useContext","value","$cgWTI$useMemo","Provider","children","$9d939cbc98267846$var$canUseDOM","Boolean","window","document","createElement","$9d939cbc98267846$export$619500959fc48b26","defaultId","ctx","console","warn","$9d939cbc98267846$export$535bd6ca7f90a273","isInSSRContext","$cgWTI$useState","isSSR","setIsSSR","$cgWTI$useLayoutEffect","toVal","mix","k","y","str","Array","isArray","length","tmp","x","i","arguments","$bfee1151ccb0650f$export$40bfa8c7b0832715","value1","defaultValue","onChange","$11sjw$useState","stateValue","setStateValue","ref","$11sjw$useRef","undefined","wasControlled","isControlled","stateRef","setValue","$11sjw$useCallback","value2","args","onChangeCaller","onChangeArgs","Object","is","updateFunction","oldValue","functionArgs","interceptedValue","$48d9f1d165180307$export$7d15b64cf5a3a4c4","min","Infinity","max","newValue","$48d9f1d165180307$export$cb6e0bb50bc19463","step","remainder","isNaN","snappedValue","abs","sign","floor","string","toString","index","indexOf","precision","pow","$48d9f1d165180307$export$b6268554fba451f","digits","base","$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c","$12uGp$react","$bdb11010cef70236$var$idsUpdaterMap","Map","$bdb11010cef70236$export$f680877a34711e37","isRendering","$12uGp$useRef","$12uGp$useState","nextId","res","$12uGp$useSSRSafeId","updateValue","val","set","r","delete","$12uGp$useEffect","newId","$bdb11010cef70236$export$cd8c9cb68f842629","idA","idB","setIdA","get","setIdB","$bdb11010cef70236$export$b4cc09c592e8fdb8","depArray","id","$1dbecbe27a04f9af$export$14d238f342723f25","resolvedId","setResolvedId","updateId","$12uGp$useCallback","getElementById","$ff5963eb1fccf552$export$e08e3b67e392101e","callbacks","callback","$3ef42575df84b30b$export$9d1611c77c2fe928","result","key","a","b","charCodeAt","$12uGp$clsx","$5dc95899b306f630$export$c9058316764c140e","refs","$65484d02dcb7eb3e$var$DOMPropNames","Set","$65484d02dcb7eb3e$var$labelablePropNames","$65484d02dcb7eb3e$var$propRe","$65484d02dcb7eb3e$export$457c3d6518dd4c6f","opts","labelable","propNames","filteredProps","prop","prototype","hasOwnProperty","call","has","test","$7215afc6de606d6b$export$de79e2c695e052f3","element","$7215afc6de606d6b$var$supportsPreventScrollCached","focus","preventScroll","e","$7215afc6de606d6b$var$supportsPreventScroll","scrollableElements","parent","parentNode","rootScrollingElement","scrollingElement","documentElement","HTMLElement","offsetHeight","scrollHeight","offsetWidth","scrollWidth","push","scrollTop","scrollLeft","$7215afc6de606d6b$var$getScrollableElements","$7215afc6de606d6b$var$restoreScrollPosition","$ab71dadb03a6fb2e$export$622cea445a1c5b7d","reverse","orientation","rect","getBoundingClientRect","right","bottom","left","top","$bbed8b41f857bcc0$var$transitionsByElement","$bbed8b41f857bcc0$var$transitionCallbacks","$bbed8b41f857bcc0$var$setupGlobalEvents","onTransitionEnd","properties","target","propertyName","size","removeEventListener","cb","clear","body","addEventListener","transitions","add","$bbed8b41f857bcc0$export$24490316f764c430","fn","requestAnimationFrame","readyState","$9cc09df9fd7676be$var$draggingElements","$9cc09df9fd7676be$export$7bbed75feba39706","containerRef","onHover","onDrag","onPositionChange","onIncrement","onDecrement","onIncrementToMax","onDecrementToMin","onCollapseToggle","getNextOffset","containerOffset","mouseOffset","clientX","clientY","getPosition","dragging","prevPosition","handlers","onMouseDragged","preventDefault","nextOffset","onMouseUp","splice","currentTarget","some","elt","contains","$03deb23ff14920c4$export$4eaf04e54aa8eed6","globalListeners","addGlobalListener","eventTarget","type","listener","options","once","removeGlobalListener","removeAllGlobalListeners","forEach","$313b98861ee5dd6c$export$d6875122194c7b44","defaultLabel","label","labelledBy","ids","trim","split","join","$df56164dff5785e2$export$4338b53315abf666","forwardedRef","objRef","$4f58c5f72bcf79f7$export$496315a1608d9602","effect","dependencies","isInitialMount","$9daab02d461809db$export$683480f191c0e3ea","onResize","ResizeObserver","resizeObserverInstance","entries","observe","unobserve","$e7801be82b4b2a53$export$4debdb1a3f0fa79e","context","$62d8ded9296f3872$export$cfa2225e87938781","node","$62d8ded9296f3872$var$isScrollable","parentElement","style","getComputedStyle","overflow","overflowX","overflowY","$5df64b3807dc15ee$var$visualViewport","visualViewport","$5df64b3807dc15ee$export$d699905dd57c73ca","$5df64b3807dc15ee$var$getViewportSize","size1","setSize","newSize","width","height","innerWidth","innerHeight","$ef06256079686ba0$var$descriptionId","$ef06256079686ba0$var$descriptionNodes","$ef06256079686ba0$export$f8aeda7b10753fa1","description","id1","setId","desc","display","textContent","appendChild","refCount","remove","$c87311424ea30a05$var$testUserAgent","re","navigator","brands","brand","userAgent","$c87311424ea30a05$var$testPlatform","platform","$c87311424ea30a05$export$9ac100e40613ea10","$c87311424ea30a05$export$186c6964ca17d99","$c87311424ea30a05$export$7bef049ce92e4224","maxTouchPoints","$c87311424ea30a05$export$fedb369cb70207f1","$c87311424ea30a05$export$e1865c3bedcd822b","$c87311424ea30a05$export$78551043582a6a98","$c87311424ea30a05$export$6446a186d09e379e","$c87311424ea30a05$export$a11b0059900ceec8","$e9faafb641e167db$export$90fc3a17d93f704c","event","handler1","handlerRef","isDisabled","handler","valueRef","nextRef","next","done","queue","$2f04cbc44ee30ce0$export$53a0910f038337bd","scrollView","offsetX","$2f04cbc44ee30ce0$var$relativeOffset","offsetY","maxX","maxY","ancestor","child","axis","sum","offsetParent","$14c0b72509d70225$var$state","$14c0b72509d70225$var$savedUserSelect","$14c0b72509d70225$var$modifiedElementMap","WeakMap","$14c0b72509d70225$export$16a4697467175487","$bx7SL$isIOS","webkitUserSelect","userSelect","$14c0b72509d70225$export$b0d6fa1ab32e3295","setTimeout","$bx7SL$runAfterTransition","targetOldUserSelect","getAttribute","removeAttribute","$8a9cb279dc87e130$export$60278871457622de","mozInputSource","isTrusted","detail","pointerType","$8a9cb279dc87e130$export$905e7fc544a71f36","nativeEvent","this","relatedTarget","bubbles","cancelable","defaultPrevented","eventPhase","timeStamp","stopPropagation","isPropagationStopped","$8a9cb279dc87e130$export$715c682d09d639cc","onBlur","$bx7SL$useRef","isFocused","observer","state1","$bx7SL$useLayoutEffect","disconnect","e1","HTMLButtonElement","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","state","disabled","MutationObserver","dispatchEvent","FocusEvent","attributes","attributeFilter","$ae1eeba8b9eafd08$export$5165eccb35aaadb5","$bx7SL$react","$f6c31cce2adf654f$export$45712eceda6fad21","$bx7SL$useContext","register","$bx7SL$mergeProps","$bx7SL$useSyncRef","$f6c31cce2adf654f$var$usePressResponderContext","onPress1","onPress","onPressChange1","onPressChange","onPressStart1","onPressStart","onPressEnd1","onPressEnd","onPressUp1","onPressUp","isDisabled1","isPressedProp","isPressed","preventFocusOnPress","shouldCancelOnPointerExit","allowTextSelectionOnPress","domProps","propsRef","$bx7SL$useState","setPressed","ignoreEmulatedMouseEvents","ignoreClickAfterPress","didFirePressStart","activePointerId","isOverTarget","$bx7SL$useGlobalListeners","pressProps1","$bx7SL$useMemo","triggerPressStart","originalEvent","shiftKey","metaKey","ctrlKey","altKey","triggerPressEnd","wasPressed","triggerPressUp","cancel","$f6c31cce2adf654f$var$createEvent","pressProps","onKeyDown","$f6c31cce2adf654f$var$isValidKeyboardEvent","$f6c31cce2adf654f$var$shouldPreventDefaultKeyboard","repeat","onKeyUp","onClick","button","$bx7SL$focusWithoutScrolling","$f6c31cce2adf654f$var$isHTMLAnchorLink","click","PointerEvent","onPointerDown","pressure","$f6c31cce2adf654f$var$shouldPreventDefault","pointerId","onPointerMove","onPointerUp","onPointerCancel","onMouseDown","$f6c31cce2adf654f$var$isOverTarget","onDragStart","onMouseEnter","onMouseLeave","onTouchStart","touch","targetTouches","$f6c31cce2adf654f$var$getTouchFromEvent","identifier","onScroll","onTouchMove","$f6c31cce2adf654f$var$getTouchById","onTouchEnd","onTouchCancel","$bx7SL$useEffect","tagName","hasAttribute","code","isContentEditable","role","changedTouches","point","pointRect","radiusX","radiusY","$f6c31cce2adf654f$var$getPointClientRect","$f6c31cce2adf654f$var$areRectanglesOverlapping","draggable","displayName","$3b117e43dc0ca95d$export$27c701ed9e449e99","newRef","$f1ab8c75478c6f73$export$3351871ee4b288b8","isRegistered","prevContext","$a1ea59d68270f0dd$export$f8168d8dd8fd66e6","onFocusChange","onFocus","onSyntheticFocus","focusProps","$507fabe10e71c6fb$var$currentModality","$507fabe10e71c6fb$var$changeHandlers","$507fabe10e71c6fb$var$hasSetupGlobalListeners","$507fabe10e71c6fb$var$hasEventBeforeFocus","$507fabe10e71c6fb$var$hasBlurredWindowRecently","$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS","Tab","Escape","$507fabe10e71c6fb$var$triggerChangeHandlers","modality","$507fabe10e71c6fb$var$handleKeyboardEvent","$bx7SL$isMac","$507fabe10e71c6fb$var$isValidKey","$507fabe10e71c6fb$var$handlePointerEvent","$507fabe10e71c6fb$var$handleClickEvent","$507fabe10e71c6fb$var$handleFocusEvent","$507fabe10e71c6fb$var$handleWindowBlur","$507fabe10e71c6fb$var$setupGlobalFocusEvents","apply","$507fabe10e71c6fb$export$b9b3dfddab17db27","$507fabe10e71c6fb$export$630ff653c5ada6a9","$507fabe10e71c6fb$export$8397ddfc504fdb9a","$507fabe10e71c6fb$export$98e20ec92f614cfe","setModality","$507fabe10e71c6fb$export$ffd9e5021c1fb2d6","isTextInput","autoFocus","isFocusVisibleState","setFocusVisible","$507fabe10e71c6fb$export$ec71b4b83ac08ec3","isFocusVisible","deps","KeyboardEvent","$507fabe10e71c6fb$var$isKeyboardFocusEvent","$9ab94262bd0047c7$export$420e68273165f4ec","isFocusWithin","onBlurWithin","onFocusWithinChange","onFocusWithin","focusWithinProps","$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents","$6179b936705e76d3$var$hoverCount","$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents","$6179b936705e76d3$var$handleGlobalPointerEvent","$6179b936705e76d3$var$setupGlobalTouchEvents","$6179b936705e76d3$export$ae780daf29e6d456","onHoverStart","onHoverChange","onHoverEnd","isHovered","setHovered","triggerHoverStart","triggerHoverEnd","hoverProps","onPointerEnter","onPointerLeave","hoverProps1","triggerHoverEnd1","$e0b6e0b68ec7f50f$export$872b660ac5a1ff98","onInteractOutside","onInteractOutsideStart","isPointerDown","$e0b6e0b68ec7f50f$var$isValidEvent","ownerDocument","$93925083ecbb358c$export$48d1ea6320830260","shouldStopPropagation","isDefaultPrevented","error","continuePropagation","$46d819fcbaf35654$export$8f71654801c2f7cd","keyboardProps","$e8a7022cf87cba2a$export$36da96379f79f245","onMoveStart","onMove","onMoveEnd","didMove","lastPosition","moveProps1","moveProps","start","move","deltaX","deltaY","end","onMouseMove","pageX","pageY","findIndex","triggerKeyboardMove","$7d0a636d7a4dcefd$export$2123ff2b87c81ca","onScrollHandler","$bx7SL$useCallback","$bx7SL$useEvent","$8a26561d2877236e$export$c24ed0104d07eab9","onLongPressStart","onLongPressEnd","onLongPress","threshold","accessibilityDescription","timeRef","onContextMenu","clearTimeout","longPressProps","$bx7SL$useDescription","$6a99195332edec8b$export$80f3e147d781571c","$6nfFC$getInteractionModality","lastFocusedElement","activeElement","$6nfFC$runAfterTransition","$6nfFC$focusWithoutScrolling","$645f2e67b85a24c9$export$e989c0fffaa6b27a","childElement","nodeName","SVGElement","visibility","isVisible","defaultView","computedDisplay","computedVisibility","$645f2e67b85a24c9$var$isStyleVisible","$645f2e67b85a24c9$var$isAttributeVisible","$9bf71ea28793e738$var$FocusContext","$6nfFC$react","$9bf71ea28793e738$var$activeScope","$9bf71ea28793e738$var$scopes","$9bf71ea28793e738$export$20e40289641fbbb6","contain","restoreFocus","startRef","$6nfFC$useRef","endRef","scopeRef","$6nfFC$useContext","parentScope","$6nfFC$useLayoutEffect","nextSibling","nodes","$9bf71ea28793e738$var$isAncestorScope","focusedNode","raf","scope1","focusedElement","scope","$9bf71ea28793e738$var$isElementInScope","walker","$9bf71ea28793e738$export$2d6ec8fc375ceafa","$9bf71ea28793e738$var$getScopeRoot","tabbable","currentNode","nextElement","previousNode","nextNode","nextElementSibling","previousElementSibling","$9bf71ea28793e738$var$focusElement","$9bf71ea28793e738$var$isElementInChildScope","$9bf71ea28793e738$var$focusFirstInScope","$6nfFC$useEffect","cancelAnimationFrame","$9bf71ea28793e738$var$useFocusContainment","nodeToRestoreRef","nodeToRestore","keys","$9bf71ea28793e738$var$isElementInAnyScope","blur","$9bf71ea28793e738$var$useRestoreFocus","autoFocusRef","$9bf71ea28793e738$var$useAutoFocus","focusManager","focusNext","from","wrap","sentinel","focusPrevious","focusFirst","focusLast","$9bf71ea28793e738$var$createFocusManagerForScope","hidden","$9bf71ea28793e738$export$10c5169755ce7bd7","$9bf71ea28793e738$var$focusableElements","$9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR","$9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR","s","scroll","err1","err","root","selector","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","FILTER_REJECT","matches","FILTER_ACCEPT","FILTER_SKIP","$9bf71ea28793e738$export$c5251b9e124bf29","$9bf71ea28793e738$var$last","last","lastChild","$f7dceffc5ad7768b$export$4e328f61c538687f","within","$6nfFC$isFocusVisible","$6nfFC$useState","isFocused1","setFocused","updateState","$6nfFC$useFocusVisibleListener","$6nfFC$useFocus","$6nfFC$useFocusWithin","$907718708eab68af$export$1a38b4ad7f578e1d","focusClass","focusRingClass","$6nfFC$mergeProps","className","$6nfFC$clsx","$e6afbd83fe6ebbd2$var$FocusableContext","$e6afbd83fe6ebbd2$var$FocusableProvider","otherProps","$e6afbd83fe6ebbd2$export$13f3202a3e5ddd5","$e6afbd83fe6ebbd2$export$4c014de7c8940b4c","domRef","interactions","$6nfFC$useKeyboard","$6nfFC$useSyncRef","$e6afbd83fe6ebbd2$var$useFocusableContext","interactionProps","focusableProps","tabIndex","excludeFromTabOrder","$701a24aa0da5b062$export$ea18c227d4417cc3","additionalProps","elementType","allowFocusWhenDisabled","deprecatedOnClick","href","rel","$cE0pI$usePress","$cE0pI$useFocusable","buttonProps","$cE0pI$mergeProps","$cE0pI$filterDOMProps","$55f54f7887471b58$export$51e84d46ca0bc451","isSelected","$cE0pI$chain","toggle","$62918828a5c4cefe$export$e5c5a5f917a5871c","$gskSG$react","$4208ab27be92763a$var$idsUpdaterMap","$4208ab27be92763a$export$f680877a34711e37","$gskSG$useRef","$gskSG$useState","$gskSG$useSSRSafeId","$gskSG$useEffect","$4208ab27be92763a$export$cd8c9cb68f842629","$4208ab27be92763a$export$b4cc09c592e8fdb8","$8bfb318ccfa2e412$export$14d238f342723f25","$gskSG$useCallback","$2aefb161b9a41928$export$e08e3b67e392101e","$699afe8e9e0f66de$export$9d1611c77c2fe928","$gskSG$clsx","$7efcb978e02fb174$var$DOMPropNames","$7efcb978e02fb174$var$labelablePropNames","$7efcb978e02fb174$var$propRe","$7efcb978e02fb174$export$457c3d6518dd4c6f","$0172e2a3384c2851$export$de79e2c695e052f3","$0172e2a3384c2851$var$supportsPreventScrollCached","$0172e2a3384c2851$var$supportsPreventScroll","$0172e2a3384c2851$var$getScrollableElements","$0172e2a3384c2851$var$restoreScrollPosition","$5062b1512bdf762b$export$622cea445a1c5b7d","$fdecdd2f4116564c$var$transitionsByElement","$fdecdd2f4116564c$var$transitionCallbacks","$fdecdd2f4116564c$var$setupGlobalEvents","$fdecdd2f4116564c$export$24490316f764c430","$95a0e07fe544f4e9$var$draggingElements","$95a0e07fe544f4e9$export$7bbed75feba39706","$042598a43c3fee40$export$4eaf04e54aa8eed6","$2ab91c20d1fbac23$export$d6875122194c7b44","$1ea3613dec903cb9$export$4338b53315abf666","$d3ab8ae13db3a1fd$export$496315a1608d9602","$f3e728a941364b05$export$683480f191c0e3ea","$518b8f251641d71b$export$4debdb1a3f0fa79e","$2fe8625dffd76a00$export$cfa2225e87938781","$2fe8625dffd76a00$var$isScrollable","$c5fe598a15f005e5$var$visualViewport","$c5fe598a15f005e5$export$d699905dd57c73ca","$c5fe598a15f005e5$var$getViewportSize","$5475261706737633$var$descriptionId","$5475261706737633$var$descriptionNodes","$5475261706737633$export$f8aeda7b10753fa1","$43a0edf5ccd884bb$var$testUserAgent","$43a0edf5ccd884bb$var$testPlatform","$43a0edf5ccd884bb$export$9ac100e40613ea10","$43a0edf5ccd884bb$export$186c6964ca17d99","$43a0edf5ccd884bb$export$7bef049ce92e4224","$43a0edf5ccd884bb$export$fedb369cb70207f1","$43a0edf5ccd884bb$export$e1865c3bedcd822b","$43a0edf5ccd884bb$export$78551043582a6a98","$43a0edf5ccd884bb$export$6446a186d09e379e","$43a0edf5ccd884bb$export$a11b0059900ceec8","$6f85328eaea47571$export$90fc3a17d93f704c","$7b1a72e750057d55$export$53a0910f038337bd","$7b1a72e750057d55$var$relativeOffset","$8714dea79b55b9da$var$state","$8714dea79b55b9da$var$savedUserSelect","$8714dea79b55b9da$var$modifiedElementMap","$8714dea79b55b9da$export$16a4697467175487","$7R3Av$isIOS","$8714dea79b55b9da$export$b0d6fa1ab32e3295","$7R3Av$runAfterTransition","$e0ce205c97c9e771$export$60278871457622de","$60f869ba95814a99$export$5165eccb35aaadb5","$7R3Av$react","$bb70d401e0bbab2b$export$45712eceda6fad21","$7R3Av$useContext","$7R3Av$mergeProps","$7R3Av$useSyncRef","$bb70d401e0bbab2b$var$usePressResponderContext","$7R3Av$useRef","$7R3Av$useState","$7R3Av$useGlobalListeners","$7R3Av$useMemo","$bb70d401e0bbab2b$var$createEvent","$bb70d401e0bbab2b$var$isValidKeyboardEvent","$bb70d401e0bbab2b$var$shouldPreventDefaultKeyboard","$7R3Av$focusWithoutScrolling","$bb70d401e0bbab2b$var$isHTMLAnchorLink","$bb70d401e0bbab2b$var$shouldPreventDefault","$bb70d401e0bbab2b$var$isOverTarget","$bb70d401e0bbab2b$var$getTouchFromEvent","$bb70d401e0bbab2b$var$getTouchById","$7R3Av$useEffect","$bb70d401e0bbab2b$var$getPointClientRect","$bb70d401e0bbab2b$var$areRectanglesOverlapping","closest","$acf5f8872229f2cb$export$27c701ed9e449e99","$36b2a54c41893e87$export$3351871ee4b288b8","$96cd623b8d5dd15d$export$f8168d8dd8fd66e6","$d2dd66cff767efeb$var$currentModality","$d2dd66cff767efeb$var$changeHandlers","$d2dd66cff767efeb$var$hasSetupGlobalListeners","$d2dd66cff767efeb$var$hasEventBeforeFocus","$d2dd66cff767efeb$var$hasBlurredWindowRecently","$d2dd66cff767efeb$var$FOCUS_VISIBLE_INPUT_KEYS","$d2dd66cff767efeb$var$triggerChangeHandlers","$d2dd66cff767efeb$var$handleKeyboardEvent","$7R3Av$isMac","$d2dd66cff767efeb$var$isValidKey","$d2dd66cff767efeb$var$handlePointerEvent","$d2dd66cff767efeb$var$handleClickEvent","$d2dd66cff767efeb$var$handleFocusEvent","$d2dd66cff767efeb$var$handleWindowBlur","$d2dd66cff767efeb$var$setupGlobalFocusEvents","$d2dd66cff767efeb$export$b9b3dfddab17db27","$d2dd66cff767efeb$export$630ff653c5ada6a9","$d2dd66cff767efeb$export$8397ddfc504fdb9a","$d2dd66cff767efeb$export$98e20ec92f614cfe","$d2dd66cff767efeb$export$ffd9e5021c1fb2d6","$d2dd66cff767efeb$export$ec71b4b83ac08ec3","$d2dd66cff767efeb$var$isKeyboardFocusEvent","$d2acb2e6011484f7$export$420e68273165f4ec","$52a70f66afabebbb$var$globalIgnoreEmulatedMouseEvents","$52a70f66afabebbb$var$hoverCount","$52a70f66afabebbb$var$setGlobalIgnoreEmulatedMouseEvents","$52a70f66afabebbb$var$handleGlobalPointerEvent","$52a70f66afabebbb$var$setupGlobalTouchEvents","$52a70f66afabebbb$export$ae780daf29e6d456","$ba9bc027ba236f10$export$872b660ac5a1ff98","$ba9bc027ba236f10$var$isValidEvent","$23f3ec5b42541cce$export$48d1ea6320830260","$a866ba1020241f41$export$8f71654801c2f7cd","$75f78fec52a57cf7$export$36da96379f79f245","$d19e70b846cd84a0$export$2123ff2b87c81ca","$7R3Av$useCallback","$7R3Av$useEvent","$ea9746f03755d5ba$export$c24ed0104d07eab9","$7R3Av$useDescription","o","n","ButtonGroupContext","t","isButtonGroup","StyledButtonIcon","dflex","position","transform","color","zIndex","background","variants","isAuto","true","isRight","isSingle","isGradientButtonBorder","compoundVariants","css","order","ml","mr","$$buttonBorderRadius","$$buttonHoverOpacity","$$buttonPressedScale","appearance","boxSizing","fontWeight","us","lineHeight","ta","whiteSpace","transition","border","cursor","pe","p","br","margin","opacity","fill","bordered","bg","borderStyle","ghost","default","primary","secondary","success","warning","gradient","xs","$$buttonPadding","px","lh","minWidth","fontSize","sm","md","lg","xl","borderWeight","light","bw","$$buttonBorderWeight","normal","bold","extrabold","black","flat","shadow","bs","animated","false","auto","rounded","normalShadow","borderColor","padding","bgClip","backgroundImage","pl","pr","N","j","P","as","B","F","l","d","g","u","ripple","C","py","boxShadow","R","S","T","A","D","G","H","U","V","W","icon","I","iconRight","$","q","z","E","J","K","Z","h","L","M","O","Q","X","Y","_","tt","ot","rt","v","f","c","m","backgroundColor","vertical","fd","btlr","btrr","bblr","bbrr","borderBottom","paddingBottom","borderLeft","w","visible","onCompleted","__DEV__","useDOMRef","StyledDrip","animation","animationFillMode","Number","viewBox","stroke","strokeWidth","fillRule","rx","runtime","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","configurable","writable","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","Context","_invoke","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","resolve","reject","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","object","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function"],"sourceRoot":""}